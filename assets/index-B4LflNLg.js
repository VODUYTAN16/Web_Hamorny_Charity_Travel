var KC=Object.defineProperty;var sw=s=>{throw TypeError(s)};var XC=(s,t,e)=>t in s?KC(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var kt=(s,t,e)=>XC(s,typeof t!="symbol"?t+"":t,e),ag=(s,t,e)=>t.has(s)||sw("Cannot "+e);var u=(s,t,e)=>(ag(s,t,"read from private field"),e?e.call(s):t.get(s)),S=(s,t,e)=>t.has(s)?sw("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e),w=(s,t,e,n)=>(ag(s,t,"write to private field"),n?n.call(s,e):t.set(s,e),e),A=(s,t,e)=>(ag(s,t,"access private method"),e);var Rs=(s,t,e,n)=>({set _(i){w(s,t,i,e)},get _(){return u(s,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=e(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Nb(s){const t=Object.create(null);for(const e of s.split(","))t[e]=1;return e=>e in t}const ye={},Xl=[],Gi=()=>{},JC=()=>!1,wm=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&(s.charCodeAt(2)>122||s.charCodeAt(2)<97),Fb=s=>s.startsWith("onUpdate:"),Ve=Object.assign,Bb=(s,t)=>{const e=s.indexOf(t);e>-1&&s.splice(e,1)},QC=Object.prototype.hasOwnProperty,ce=(s,t)=>QC.call(s,t),Dt=Array.isArray,Jl=s=>of(s)==="[object Map]",_u=s=>of(s)==="[object Set]",nw=s=>of(s)==="[object Date]",$t=s=>typeof s=="function",Oe=s=>typeof s=="string",fi=s=>typeof s=="symbol",be=s=>s!==null&&typeof s=="object",d1=s=>(be(s)||$t(s))&&$t(s.then)&&$t(s.catch),h1=Object.prototype.toString,of=s=>h1.call(s),ZC=s=>of(s).slice(8,-1),f1=s=>of(s)==="[object Object]",Hb=s=>Oe(s)&&s!=="NaN"&&s[0]!=="-"&&""+parseInt(s,10)===s,hd=Nb(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),_m=s=>{const t=Object.create(null);return e=>t[e]||(t[e]=s(e))},tT=/-(\w)/g,Vn=_m(s=>s.replace(tT,(t,e)=>e?e.toUpperCase():"")),eT=/\B([A-Z])/g,qa=_m(s=>s.replace(eT,"-$1").toLowerCase()),Am=_m(s=>s.charAt(0).toUpperCase()+s.slice(1)),Lf=_m(s=>s?`on${Am(s)}`:""),Na=(s,t)=>!Object.is(s,t),Nf=(s,...t)=>{for(let e=0;e<s.length;e++)s[e](...t)},p1=(s,t,e,n=!1)=>{Object.defineProperty(s,t,{configurable:!0,enumerable:!1,writable:n,value:e})},Ep=s=>{const t=parseFloat(s);return isNaN(t)?s:t},sT=s=>{const t=Oe(s)?Number(s):NaN;return isNaN(t)?s:t};let iw;const Sm=()=>iw||(iw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ui(s){if(Dt(s)){const t={};for(let e=0;e<s.length;e++){const n=s[e],i=Oe(n)?aT(n):ui(n);if(i)for(const r in i)t[r]=i[r]}return t}else if(Oe(s)||be(s))return s}const nT=/;(?![^(]*\))/g,iT=/:([^]+)/,rT=/\/\*[^]*?\*\//g;function aT(s){const t={};return s.replace(rT,"").split(nT).forEach(e=>{if(e){const n=e.split(iT);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Ft(s){let t="";if(Oe(s))t=s;else if(Dt(s))for(let e=0;e<s.length;e++){const n=Ft(s[e]);n&&(t+=n+" ")}else if(be(s))for(const e in s)s[e]&&(t+=e+" ");return t.trim()}function fd(s){if(!s)return null;let{class:t,style:e}=s;return t&&!Oe(t)&&(s.class=Ft(t)),e&&(s.style=ui(e)),s}const oT="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",lT=Nb(oT);function m1(s){return!!s||s===""}function cT(s,t){if(s.length!==t.length)return!1;let e=!0;for(let n=0;e&&n<s.length;n++)e=vl(s[n],t[n]);return e}function vl(s,t){if(s===t)return!0;let e=nw(s),n=nw(t);if(e||n)return e&&n?s.getTime()===t.getTime():!1;if(e=fi(s),n=fi(t),e||n)return s===t;if(e=Dt(s),n=Dt(t),e||n)return e&&n?cT(s,t):!1;if(e=be(s),n=be(t),e||n){if(!e||!n)return!1;const i=Object.keys(s).length,r=Object.keys(t).length;if(i!==r)return!1;for(const a in s){const o=s.hasOwnProperty(a),l=t.hasOwnProperty(a);if(o&&!l||!o&&l||!vl(s[a],t[a]))return!1}}return String(s)===String(t)}function Ub(s,t){return s.findIndex(e=>vl(e,t))}const g1=s=>!!(s&&s.__v_isRef===!0),U=s=>Oe(s)?s:s==null?"":Dt(s)||be(s)&&(s.toString===h1||!$t(s.toString))?g1(s)?U(s.value):JSON.stringify(s,v1,2):String(s),v1=(s,t)=>g1(t)?v1(s,t.value):Jl(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[n,i],r)=>(e[og(n,r)+" =>"]=i,e),{})}:_u(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>og(e))}:fi(t)?og(t):be(t)&&!Dt(t)&&!f1(t)?String(t):t,og=(s,t="")=>{var e;return fi(s)?`Symbol(${(e=s.description)!=null?e:t})`:s};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let vn;class uT{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=vn,!t&&vn&&(this.index=(vn.scopes||(vn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].pause();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].resume();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].resume()}}run(t){if(this._active){const e=vn;try{return vn=this,t()}finally{vn=e}}}on(){vn=this}off(){vn=this.parent}stop(t){if(this._active){this._active=!1;let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(this.effects.length=0,e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.cleanups.length=0,this.scopes){for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function dT(){return vn}let Ae;const lg=new WeakSet;class b1{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,vn&&vn.active&&vn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,lg.has(this)&&(lg.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||w1(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,rw(this),_1(this);const t=Ae,e=di;Ae=this,di=!0;try{return this.fn()}finally{A1(this),Ae=t,di=e,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Vb(t);this.deps=this.depsTail=void 0,rw(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?lg.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Yg(this)&&this.run()}get dirty(){return Yg(this)}}let y1=0,pd,md;function w1(s,t=!1){if(s.flags|=8,t){s.next=md,md=s;return}s.next=pd,pd=s}function jb(){y1++}function Yb(){if(--y1>0)return;if(md){let t=md;for(md=void 0;t;){const e=t.next;t.next=void 0,t.flags&=-9,t=e}}let s;for(;pd;){let t=pd;for(pd=void 0;t;){const e=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){s||(s=n)}t=e}}if(s)throw s}function _1(s){for(let t=s.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function A1(s){let t,e=s.depsTail,n=e;for(;n;){const i=n.prevDep;n.version===-1?(n===e&&(e=i),Vb(n),hT(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}s.deps=t,s.depsTail=e}function Yg(s){for(let t=s.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(S1(t.dep.computed)||t.dep.version!==t.version))return!0;return!!s._dirty}function S1(s){if(s.flags&4&&!(s.flags&16)||(s.flags&=-17,s.globalVersion===Ed))return;s.globalVersion=Ed;const t=s.dep;if(s.flags|=2,t.version>0&&!s.isSSR&&s.deps&&!Yg(s)){s.flags&=-3;return}const e=Ae,n=di;Ae=s,di=!0;try{_1(s);const i=s.fn(s._value);(t.version===0||Na(i,s._value))&&(s._value=i,t.version++)}catch(i){throw t.version++,i}finally{Ae=e,di=n,A1(s),s.flags&=-3}}function Vb(s,t=!1){const{dep:e,prevSub:n,nextSub:i}=s;if(n&&(n.nextSub=i,s.prevSub=void 0),i&&(i.prevSub=n,s.nextSub=void 0),e.subs===s&&(e.subs=n,!n&&e.computed)){e.computed.flags&=-5;for(let r=e.computed.deps;r;r=r.nextDep)Vb(r,!0)}!t&&!--e.sc&&e.map&&e.map.delete(e.key)}function hT(s){const{prevDep:t,nextDep:e}=s;t&&(t.nextDep=e,s.prevDep=void 0),e&&(e.prevDep=t,s.nextDep=void 0)}let di=!0;const E1=[];function za(){E1.push(di),di=!1}function Ga(){const s=E1.pop();di=s===void 0?!0:s}function rw(s){const{cleanup:t}=s;if(s.cleanup=void 0,t){const e=Ae;Ae=void 0;try{t()}finally{Ae=e}}}let Ed=0;class fT{constructor(t,e){this.sub=t,this.dep=e,this.version=e.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Wb{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Ae||!di||Ae===this.computed)return;let e=this.activeLink;if(e===void 0||e.sub!==Ae)e=this.activeLink=new fT(Ae,this),Ae.deps?(e.prevDep=Ae.depsTail,Ae.depsTail.nextDep=e,Ae.depsTail=e):Ae.deps=Ae.depsTail=e,x1(e);else if(e.version===-1&&(e.version=this.version,e.nextDep)){const n=e.nextDep;n.prevDep=e.prevDep,e.prevDep&&(e.prevDep.nextDep=n),e.prevDep=Ae.depsTail,e.nextDep=void 0,Ae.depsTail.nextDep=e,Ae.depsTail=e,Ae.deps===e&&(Ae.deps=n)}return e}trigger(t){this.version++,Ed++,this.notify(t)}notify(t){jb();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{Yb()}}}function x1(s){if(s.dep.sc++,s.sub.flags&4){const t=s.dep.computed;if(t&&!s.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)x1(n)}const e=s.dep.subs;e!==s&&(s.prevSub=e,e&&(e.nextSub=s)),s.dep.subs=s}}const xp=new WeakMap,pl=Symbol(""),Vg=Symbol(""),xd=Symbol("");function Ts(s,t,e){if(di&&Ae){let n=xp.get(s);n||xp.set(s,n=new Map);let i=n.get(e);i||(n.set(e,i=new Wb),i.map=n,i.key=e),i.track()}}function $r(s,t,e,n,i,r){const a=xp.get(s);if(!a){Ed++;return}const o=l=>{l&&l.trigger()};if(jb(),t==="clear")a.forEach(o);else{const l=Dt(s),c=l&&Hb(e);if(l&&e==="length"){const d=Number(n);a.forEach((h,f)=>{(f==="length"||f===xd||!fi(f)&&f>=d)&&o(h)})}else switch((e!==void 0||a.has(void 0))&&o(a.get(e)),c&&o(a.get(xd)),t){case"add":l?c&&o(a.get("length")):(o(a.get(pl)),Jl(s)&&o(a.get(Vg)));break;case"delete":l||(o(a.get(pl)),Jl(s)&&o(a.get(Vg)));break;case"set":Jl(s)&&o(a.get(pl));break}}Yb()}function pT(s,t){const e=xp.get(s);return e&&e.get(t)}function $l(s){const t=ne(s);return t===s?t:(Ts(t,"iterate",xd),Bn(s)?t:t.map(Ds))}function Em(s){return Ts(s=ne(s),"iterate",xd),s}const mT={__proto__:null,[Symbol.iterator](){return cg(this,Symbol.iterator,Ds)},concat(...s){return $l(this).concat(...s.map(t=>Dt(t)?$l(t):t))},entries(){return cg(this,"entries",s=>(s[1]=Ds(s[1]),s))},every(s,t){return nr(this,"every",s,t,void 0,arguments)},filter(s,t){return nr(this,"filter",s,t,e=>e.map(Ds),arguments)},find(s,t){return nr(this,"find",s,t,Ds,arguments)},findIndex(s,t){return nr(this,"findIndex",s,t,void 0,arguments)},findLast(s,t){return nr(this,"findLast",s,t,Ds,arguments)},findLastIndex(s,t){return nr(this,"findLastIndex",s,t,void 0,arguments)},forEach(s,t){return nr(this,"forEach",s,t,void 0,arguments)},includes(...s){return ug(this,"includes",s)},indexOf(...s){return ug(this,"indexOf",s)},join(s){return $l(this).join(s)},lastIndexOf(...s){return ug(this,"lastIndexOf",s)},map(s,t){return nr(this,"map",s,t,void 0,arguments)},pop(){return Iu(this,"pop")},push(...s){return Iu(this,"push",s)},reduce(s,...t){return aw(this,"reduce",s,t)},reduceRight(s,...t){return aw(this,"reduceRight",s,t)},shift(){return Iu(this,"shift")},some(s,t){return nr(this,"some",s,t,void 0,arguments)},splice(...s){return Iu(this,"splice",s)},toReversed(){return $l(this).toReversed()},toSorted(s){return $l(this).toSorted(s)},toSpliced(...s){return $l(this).toSpliced(...s)},unshift(...s){return Iu(this,"unshift",s)},values(){return cg(this,"values",Ds)}};function cg(s,t,e){const n=Em(s),i=n[t]();return n!==s&&!Bn(s)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=e(r.value)),r}),i}const gT=Array.prototype;function nr(s,t,e,n,i,r){const a=Em(s),o=a!==s&&!Bn(s),l=a[t];if(l!==gT[t]){const h=l.apply(s,r);return o?Ds(h):h}let c=e;a!==s&&(o?c=function(h,f){return e.call(this,Ds(h),f,s)}:e.length>2&&(c=function(h,f){return e.call(this,h,f,s)}));const d=l.call(a,c,n);return o&&i?i(d):d}function aw(s,t,e,n){const i=Em(s);let r=e;return i!==s&&(Bn(s)?e.length>3&&(r=function(a,o,l){return e.call(this,a,o,l,s)}):r=function(a,o,l){return e.call(this,a,Ds(o),l,s)}),i[t](r,...n)}function ug(s,t,e){const n=ne(s);Ts(n,"iterate",xd);const i=n[t](...e);return(i===-1||i===!1)&&Gb(e[0])?(e[0]=ne(e[0]),n[t](...e)):i}function Iu(s,t,e=[]){za(),jb();const n=ne(s)[t].apply(s,e);return Yb(),Ga(),n}const vT=Nb("__proto__,__v_isRef,__isVue"),C1=new Set(Object.getOwnPropertyNames(Symbol).filter(s=>s!=="arguments"&&s!=="caller").map(s=>Symbol[s]).filter(fi));function bT(s){fi(s)||(s=String(s));const t=ne(this);return Ts(t,"has",s),t.hasOwnProperty(s)}class T1{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,n){if(e==="__v_skip")return t.__v_skip;const i=this._isReadonly,r=this._isShallow;if(e==="__v_isReactive")return!i;if(e==="__v_isReadonly")return i;if(e==="__v_isShallow")return r;if(e==="__v_raw")return n===(i?r?DT:M1:r?P1:k1).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const a=Dt(t);if(!i){let l;if(a&&(l=mT[e]))return l;if(e==="hasOwnProperty")return bT}const o=Reflect.get(t,e,Me(t)?t:n);return(fi(e)?C1.has(e):vT(e))||(i||Ts(t,"get",e),r)?o:Me(o)?a&&Hb(e)?o:o.value:be(o)?i?O1(o):Je(o):o}}class D1 extends T1{constructor(t=!1){super(!1,t)}set(t,e,n,i){let r=t[e];if(!this._isShallow){const l=bl(r);if(!Bn(n)&&!bl(n)&&(r=ne(r),n=ne(n)),!Dt(t)&&Me(r)&&!Me(n))return l?!1:(r.value=n,!0)}const a=Dt(t)&&Hb(e)?Number(e)<t.length:ce(t,e),o=Reflect.set(t,e,n,Me(t)?t:i);return t===ne(i)&&(a?Na(n,r)&&$r(t,"set",e,n):$r(t,"add",e,n)),o}deleteProperty(t,e){const n=ce(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&n&&$r(t,"delete",e,void 0),i}has(t,e){const n=Reflect.has(t,e);return(!fi(e)||!C1.has(e))&&Ts(t,"has",e),n}ownKeys(t){return Ts(t,"iterate",Dt(t)?"length":pl),Reflect.ownKeys(t)}}class yT extends T1{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const wT=new D1,_T=new yT,AT=new D1(!0);const Wg=s=>s,Af=s=>Reflect.getPrototypeOf(s);function ST(s,t,e){return function(...n){const i=this.__v_raw,r=ne(i),a=Jl(r),o=s==="entries"||s===Symbol.iterator&&a,l=s==="keys"&&a,c=i[s](...n),d=e?Wg:t?qg:Ds;return!t&&Ts(r,"iterate",l?Vg:pl),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:o?[d(h[0]),d(h[1])]:d(h),done:f}},[Symbol.iterator](){return this}}}}function Sf(s){return function(...t){return s==="delete"?!1:s==="clear"?void 0:this}}function ET(s,t){const e={get(i){const r=this.__v_raw,a=ne(r),o=ne(i);s||(Na(i,o)&&Ts(a,"get",i),Ts(a,"get",o));const{has:l}=Af(a),c=t?Wg:s?qg:Ds;if(l.call(a,i))return c(r.get(i));if(l.call(a,o))return c(r.get(o));r!==a&&r.get(i)},get size(){const i=this.__v_raw;return!s&&Ts(ne(i),"iterate",pl),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,a=ne(r),o=ne(i);return s||(Na(i,o)&&Ts(a,"has",i),Ts(a,"has",o)),i===o?r.has(i):r.has(i)||r.has(o)},forEach(i,r){const a=this,o=a.__v_raw,l=ne(o),c=t?Wg:s?qg:Ds;return!s&&Ts(l,"iterate",pl),o.forEach((d,h)=>i.call(r,c(d),c(h),a))}};return Ve(e,s?{add:Sf("add"),set:Sf("set"),delete:Sf("delete"),clear:Sf("clear")}:{add(i){!t&&!Bn(i)&&!bl(i)&&(i=ne(i));const r=ne(this);return Af(r).has.call(r,i)||(r.add(i),$r(r,"add",i,i)),this},set(i,r){!t&&!Bn(r)&&!bl(r)&&(r=ne(r));const a=ne(this),{has:o,get:l}=Af(a);let c=o.call(a,i);c||(i=ne(i),c=o.call(a,i));const d=l.call(a,i);return a.set(i,r),c?Na(r,d)&&$r(a,"set",i,r):$r(a,"add",i,r),this},delete(i){const r=ne(this),{has:a,get:o}=Af(r);let l=a.call(r,i);l||(i=ne(i),l=a.call(r,i)),o&&o.call(r,i);const c=r.delete(i);return l&&$r(r,"delete",i,void 0),c},clear(){const i=ne(this),r=i.size!==0,a=i.clear();return r&&$r(i,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=ST(i,s,t)}),e}function qb(s,t){const e=ET(s,t);return(n,i,r)=>i==="__v_isReactive"?!s:i==="__v_isReadonly"?s:i==="__v_raw"?n:Reflect.get(ce(e,i)&&i in n?e:n,i,r)}const xT={get:qb(!1,!1)},CT={get:qb(!1,!0)},TT={get:qb(!0,!1)};const k1=new WeakMap,P1=new WeakMap,M1=new WeakMap,DT=new WeakMap;function kT(s){switch(s){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function PT(s){return s.__v_skip||!Object.isExtensible(s)?0:kT(ZC(s))}function Je(s){return bl(s)?s:zb(s,!1,wT,xT,k1)}function R1(s){return zb(s,!1,AT,CT,P1)}function O1(s){return zb(s,!0,_T,TT,M1)}function zb(s,t,e,n,i){if(!be(s)||s.__v_raw&&!(t&&s.__v_isReactive))return s;const r=i.get(s);if(r)return r;const a=PT(s);if(a===0)return s;const o=new Proxy(s,a===2?n:e);return i.set(s,o),o}function Ql(s){return bl(s)?Ql(s.__v_raw):!!(s&&s.__v_isReactive)}function bl(s){return!!(s&&s.__v_isReadonly)}function Bn(s){return!!(s&&s.__v_isShallow)}function Gb(s){return s?!!s.__v_raw:!1}function ne(s){const t=s&&s.__v_raw;return t?ne(t):s}function MT(s){return!ce(s,"__v_skip")&&Object.isExtensible(s)&&p1(s,"__v_skip",!0),s}const Ds=s=>be(s)?Je(s):s,qg=s=>be(s)?O1(s):s;function Me(s){return s?s.__v_isRef===!0:!1}function vt(s){return I1(s,!1)}function RT(s){return I1(s,!0)}function I1(s,t){return Me(s)?s:new OT(s,t)}class OT{constructor(t,e){this.dep=new Wb,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=e?t:ne(t),this._value=e?t:Ds(t),this.__v_isShallow=e}get value(){return this.dep.track(),this._value}set value(t){const e=this._rawValue,n=this.__v_isShallow||Bn(t)||bl(t);t=n?t:ne(t),Na(t,e)&&(this._rawValue=t,this._value=n?t:Ds(t),this.dep.trigger())}}function Q(s){return Me(s)?s.value:s}const IT={get:(s,t,e)=>t==="__v_raw"?s:Q(Reflect.get(s,t,e)),set:(s,t,e,n)=>{const i=s[t];return Me(i)&&!Me(e)?(i.value=e,!0):Reflect.set(s,t,e,n)}};function $1(s){return Ql(s)?s:new Proxy(s,IT)}function $T(s){const t=Dt(s)?new Array(s.length):{};for(const e in s)t[e]=L1(s,e);return t}class LT{constructor(t,e,n){this._object=t,this._key=e,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return pT(ne(this._object),this._key)}}class NT{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Ff(s,t,e){return Me(s)?s:$t(s)?new NT(s):be(s)&&arguments.length>1?L1(s,t,e):vt(s)}function L1(s,t,e){const n=s[t];return Me(n)?n:new LT(s,t,e)}class FT{constructor(t,e,n){this.fn=t,this.setter=e,this._value=void 0,this.dep=new Wb(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ed-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!e,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Ae!==this)return w1(this,!0),!0}get value(){const t=this.dep.track();return S1(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function BT(s,t,e=!1){let n,i;return $t(s)?n=s:(n=s.get,i=s.set),new FT(n,i,e)}const Ef={},Cp=new WeakMap;let ro;function HT(s,t=!1,e=ro){if(e){let n=Cp.get(e);n||Cp.set(e,n=[]),n.push(s)}}function UT(s,t,e=ye){const{immediate:n,deep:i,once:r,scheduler:a,augmentJob:o,call:l}=e,c=x=>i?x:Bn(x)||i===!1||i===0?Lr(x,1):Lr(x);let d,h,f,p,m=!1,v=!1;if(Me(s)?(h=()=>s.value,m=Bn(s)):Ql(s)?(h=()=>c(s),m=!0):Dt(s)?(v=!0,m=s.some(x=>Ql(x)||Bn(x)),h=()=>s.map(x=>{if(Me(x))return x.value;if(Ql(x))return c(x);if($t(x))return l?l(x,2):x()})):$t(s)?t?h=l?()=>l(s,2):s:h=()=>{if(f){za();try{f()}finally{Ga()}}const x=ro;ro=d;try{return l?l(s,3,[p]):s(p)}finally{ro=x}}:h=Gi,t&&i){const x=h,D=i===!0?1/0:i;h=()=>Lr(x(),D)}const b=dT(),y=()=>{d.stop(),b&&b.active&&Bb(b.effects,d)};if(r&&t){const x=t;t=(...D)=>{x(...D),y()}}let E=v?new Array(s.length).fill(Ef):Ef;const C=x=>{if(!(!(d.flags&1)||!d.dirty&&!x))if(t){const D=d.run();if(i||m||(v?D.some((M,P)=>Na(M,E[P])):Na(D,E))){f&&f();const M=ro;ro=d;try{const P=[D,E===Ef?void 0:v&&E[0]===Ef?[]:E,p];l?l(t,3,P):t(...P),E=D}finally{ro=M}}}else d.run()};return o&&o(C),d=new b1(h),d.scheduler=a?()=>a(C,!1):C,p=x=>HT(x,!1,d),f=d.onStop=()=>{const x=Cp.get(d);if(x){if(l)l(x,4);else for(const D of x)D();Cp.delete(d)}},t?n?C(!0):E=d.run():a?a(C.bind(null,!0),!0):d.run(),y.pause=d.pause.bind(d),y.resume=d.resume.bind(d),y.stop=y,y}function Lr(s,t=1/0,e){if(t<=0||!be(s)||s.__v_skip||(e=e||new Set,e.has(s)))return s;if(e.add(s),t--,Me(s))Lr(s.value,t,e);else if(Dt(s))for(let n=0;n<s.length;n++)Lr(s[n],t,e);else if(_u(s)||Jl(s))s.forEach(n=>{Lr(n,t,e)});else if(f1(s)){for(const n in s)Lr(s[n],t,e);for(const n of Object.getOwnPropertySymbols(s))Object.prototype.propertyIsEnumerable.call(s,n)&&Lr(s[n],t,e)}return s}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function lf(s,t,e,n){try{return n?s(...n):s()}catch(i){xm(i,t,e)}}function pi(s,t,e,n){if($t(s)){const i=lf(s,t,e,n);return i&&d1(i)&&i.catch(r=>{xm(r,t,e)}),i}if(Dt(s)){const i=[];for(let r=0;r<s.length;r++)i.push(pi(s[r],t,e,n));return i}}function xm(s,t,e,n=!0){const i=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||ye;if(t){let o=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${e}`;for(;o;){const d=o.ec;if(d){for(let h=0;h<d.length;h++)if(d[h](s,l,c)===!1)return}o=o.parent}if(r){za(),lf(r,null,10,[s,l,c]),Ga();return}}jT(s,e,i,n,a)}function jT(s,t,e,n=!0,i=!1){if(i)throw s;console.error(s)}const Fs=[];let Ci=-1;const Zl=[];let sa=null,Nl=0;const N1=Promise.resolve();let Tp=null;function La(s){const t=Tp||N1;return s?t.then(this?s.bind(this):s):t}function YT(s){let t=Ci+1,e=Fs.length;for(;t<e;){const n=t+e>>>1,i=Fs[n],r=Cd(i);r<s||r===s&&i.flags&2?t=n+1:e=n}return t}function Kb(s){if(!(s.flags&1)){const t=Cd(s),e=Fs[Fs.length-1];!e||!(s.flags&2)&&t>=Cd(e)?Fs.push(s):Fs.splice(YT(t),0,s),s.flags|=1,F1()}}function F1(){Tp||(Tp=N1.then(H1))}function VT(s){Dt(s)?Zl.push(...s):sa&&s.id===-1?sa.splice(Nl+1,0,s):s.flags&1||(Zl.push(s),s.flags|=1),F1()}function ow(s,t,e=Ci+1){for(;e<Fs.length;e++){const n=Fs[e];if(n&&n.flags&2){if(s&&n.id!==s.uid)continue;Fs.splice(e,1),e--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function B1(s){if(Zl.length){const t=[...new Set(Zl)].sort((e,n)=>Cd(e)-Cd(n));if(Zl.length=0,sa){sa.push(...t);return}for(sa=t,Nl=0;Nl<sa.length;Nl++){const e=sa[Nl];e.flags&4&&(e.flags&=-2),e.flags&8||e(),e.flags&=-2}sa=null,Nl=0}}const Cd=s=>s.id==null?s.flags&2?-1:1/0:s.id;function H1(s){try{for(Ci=0;Ci<Fs.length;Ci++){const t=Fs[Ci];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),lf(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ci<Fs.length;Ci++){const t=Fs[Ci];t&&(t.flags&=-2)}Ci=-1,Fs.length=0,B1(),Tp=null,(Fs.length||Zl.length)&&H1()}}let os=null,U1=null;function Dp(s){const t=os;return os=s,U1=s&&s.type.__scopeId||null,t}function ie(s,t=os,e){if(!t||s._n)return s;const n=(...i)=>{n._d&&vw(-1);const r=Dp(t);let a;try{a=s(...i)}finally{Dp(r),n._d&&vw(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function ee(s,t){if(os===null)return s;const e=Pm(os),n=s.dirs||(s.dirs=[]);for(let i=0;i<t.length;i++){let[r,a,o,l=ye]=t[i];r&&($t(r)&&(r={mounted:r,updated:r}),r.deep&&Lr(a),n.push({dir:r,instance:e,value:a,oldValue:void 0,arg:o,modifiers:l}))}return s}function eo(s,t,e,n){const i=s.dirs,r=t&&t.dirs;for(let a=0;a<i.length;a++){const o=i[a];r&&(o.oldValue=r[a].value);let l=o.dir[n];l&&(za(),pi(l,e,8,[s.el,o,s,t]),Ga())}}const WT=Symbol("_vte"),j1=s=>s.__isTeleport,na=Symbol("_leaveCb"),xf=Symbol("_enterCb");function qT(){const s={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ls(()=>{s.isMounted=!0}),Q1(()=>{s.isUnmounting=!0}),s}const En=[Function,Array],Y1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:En,onEnter:En,onAfterEnter:En,onEnterCancelled:En,onBeforeLeave:En,onLeave:En,onAfterLeave:En,onLeaveCancelled:En,onBeforeAppear:En,onAppear:En,onAfterAppear:En,onAppearCancelled:En},V1=s=>{const t=s.subTree;return t.component?V1(t.component):t},zT={name:"BaseTransition",props:Y1,setup(s,{slots:t}){const e=FD(),n=qT();return()=>{const i=t.default&&z1(t.default(),!0);if(!i||!i.length)return;const r=W1(i),a=ne(s),{mode:o}=a;if(n.isLeaving)return dg(r);const l=lw(r);if(!l)return dg(r);let c=zg(l,a,n,e,h=>c=h);l.type!==Hs&&Td(l,c);let d=e.subTree&&lw(e.subTree);if(d&&d.type!==Hs&&!ho(l,d)&&V1(e).type!==Hs){let h=zg(d,a,n,e);if(Td(d,h),o==="out-in"&&l.type!==Hs)return n.isLeaving=!0,h.afterLeave=()=>{n.isLeaving=!1,e.job.flags&8||e.update(),delete h.afterLeave,d=void 0},dg(r);o==="in-out"&&l.type!==Hs?h.delayLeave=(f,p,m)=>{const v=q1(n,d);v[String(d.key)]=d,f[na]=()=>{p(),f[na]=void 0,delete c.delayedLeave,d=void 0},c.delayedLeave=()=>{m(),delete c.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return r}}};function W1(s){let t=s[0];if(s.length>1){for(const e of s)if(e.type!==Hs){t=e;break}}return t}const GT=zT;function q1(s,t){const{leavingVNodes:e}=s;let n=e.get(t.type);return n||(n=Object.create(null),e.set(t.type,n)),n}function zg(s,t,e,n,i){const{appear:r,mode:a,persisted:o=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:d,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:m,onLeaveCancelled:v,onBeforeAppear:b,onAppear:y,onAfterAppear:E,onAppearCancelled:C}=t,x=String(s.key),D=q1(e,s),M=(F,Z)=>{F&&pi(F,n,9,Z)},P=(F,Z)=>{const Y=Z[1];M(F,Z),Dt(F)?F.every(L=>L.length<=1)&&Y():F.length<=1&&Y()},H={mode:a,persisted:o,beforeEnter(F){let Z=l;if(!e.isMounted)if(r)Z=b||l;else return;F[na]&&F[na](!0);const Y=D[x];Y&&ho(s,Y)&&Y.el[na]&&Y.el[na](),M(Z,[F])},enter(F){let Z=c,Y=d,L=h;if(!e.isMounted)if(r)Z=y||c,Y=E||d,L=C||h;else return;let K=!1;const lt=F[xf]=dt=>{K||(K=!0,dt?M(L,[F]):M(Y,[F]),H.delayedLeave&&H.delayedLeave(),F[xf]=void 0)};Z?P(Z,[F,lt]):lt()},leave(F,Z){const Y=String(s.key);if(F[xf]&&F[xf](!0),e.isUnmounting)return Z();M(f,[F]);let L=!1;const K=F[na]=lt=>{L||(L=!0,Z(),lt?M(v,[F]):M(m,[F]),F[na]=void 0,D[Y]===s&&delete D[Y])};D[Y]=s,p?P(p,[F,K]):K()},clone(F){const Z=zg(F,t,e,n,i);return i&&i(Z),Z}};return H}function dg(s){if(Cm(s))return s=Ba(s),s.children=null,s}function lw(s){if(!Cm(s))return j1(s.type)&&s.children?W1(s.children):s;const{shapeFlag:t,children:e}=s;if(e){if(t&16)return e[0];if(t&32&&$t(e.default))return e.default()}}function Td(s,t){s.shapeFlag&6&&s.component?(s.transition=t,Td(s.component.subTree,t)):s.shapeFlag&128?(s.ssContent.transition=t.clone(s.ssContent),s.ssFallback.transition=t.clone(s.ssFallback)):s.transition=t}function z1(s,t=!1,e){let n=[],i=0;for(let r=0;r<s.length;r++){let a=s[r];const o=e==null?a.key:String(e)+String(a.key!=null?a.key:r);a.type===Et?(a.patchFlag&128&&i++,n=n.concat(z1(a.children,t,o))):(t||a.type!==Hs)&&n.push(o!=null?Ba(a,{key:o}):a)}if(i>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function Qe(s,t){return $t(s)?Ve({name:s.name},t,{setup:s}):s}function G1(s){s.ids=[s.ids[0]+s.ids[2]+++"-",0,0]}function kp(s,t,e,n,i=!1){if(Dt(s)){s.forEach((m,v)=>kp(m,t&&(Dt(t)?t[v]:t),e,n,i));return}if(tc(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&kp(s,t,e,n.component.subTree);return}const r=n.shapeFlag&4?Pm(n.component):n.el,a=i?null:r,{i:o,r:l}=s,c=t&&t.r,d=o.refs===ye?o.refs={}:o.refs,h=o.setupState,f=ne(h),p=h===ye?()=>!1:m=>ce(f,m);if(c!=null&&c!==l&&(Oe(c)?(d[c]=null,p(c)&&(h[c]=null)):Me(c)&&(c.value=null)),$t(l))lf(l,o,12,[a,d]);else{const m=Oe(l),v=Me(l);if(m||v){const b=()=>{if(s.f){const y=m?p(l)?h[l]:d[l]:l.value;i?Dt(y)&&Bb(y,r):Dt(y)?y.includes(r)||y.push(r):m?(d[l]=[r],p(l)&&(h[l]=d[l])):(l.value=[r],s.k&&(d[s.k]=l.value))}else m?(d[l]=a,p(l)&&(h[l]=a)):v&&(l.value=a,s.k&&(d[s.k]=a))};a?(b.id=-1,an(b,e)):b()}}}Sm().requestIdleCallback;Sm().cancelIdleCallback;const tc=s=>!!s.type.__asyncLoader,Cm=s=>s.type.__isKeepAlive;function K1(s,t){J1(s,"a",t)}function X1(s,t){J1(s,"da",t)}function J1(s,t,e=ms){const n=s.__wdc||(s.__wdc=()=>{let i=e;for(;i;){if(i.isDeactivated)return;i=i.parent}return s()});if(Tm(t,n,e),e){let i=e.parent;for(;i&&i.parent;)Cm(i.parent.vnode)&&KT(n,t,e,i),i=i.parent}}function KT(s,t,e,n){const i=Tm(t,s,n,!0);Ka(()=>{Bb(n[t],i)},e)}function Tm(s,t,e=ms,n=!1){if(e){const i=e[s]||(e[s]=[]),r=t.__weh||(t.__weh=(...a)=>{za();const o=uf(e),l=pi(t,e,s,a);return o(),Ga(),l});return n?i.unshift(r):i.push(r),r}}const qr=s=>(t,e=ms)=>{(!Pd||s==="sp")&&Tm(s,(...n)=>t(...n),e)},XT=qr("bm"),ls=qr("m"),JT=qr("bu"),QT=qr("u"),Q1=qr("bum"),Ka=qr("um"),ZT=qr("sp"),tD=qr("rtg"),eD=qr("rtc");function sD(s,t=ms){Tm("ec",s,t)}const Xb="components",nD="directives";function as(s,t){return Jb(Xb,s,!0,t)||s}const Z1=Symbol.for("v-ndc");function tA(s){return Oe(s)?Jb(Xb,s,!1)||s:s||Z1}function iD(s){return Jb(nD,s)}function Jb(s,t,e=!0,n=!1){const i=os||ms;if(i){const r=i.type;if(s===Xb){const o=YD(r,!1);if(o&&(o===t||o===Vn(t)||o===Am(Vn(t))))return r}const a=cw(i[s]||r[s],t)||cw(i.appContext[s],t);return!a&&n?r:a}}function cw(s,t){return s&&(s[t]||s[Vn(t)]||s[Am(Vn(t))])}function Wt(s,t,e,n){let i;const r=e,a=Dt(s);if(a||Oe(s)){const o=a&&Ql(s);let l=!1;o&&(l=!Bn(s),s=Em(s)),i=new Array(s.length);for(let c=0,d=s.length;c<d;c++)i[c]=t(l?Ds(s[c]):s[c],c,void 0,r)}else if(typeof s=="number"){i=new Array(s);for(let o=0;o<s;o++)i[o]=t(o+1,o,void 0,r)}else if(be(s))if(s[Symbol.iterator])i=Array.from(s,(o,l)=>t(o,l,void 0,r));else{const o=Object.keys(s);i=new Array(o.length);for(let l=0,c=o.length;l<c;l++){const d=o[l];i[l]=t(s[d],d,l,r)}}else i=[];return i}function cf(s,t,e={},n,i){if(os.ce||os.parent&&tc(os.parent)&&os.parent.ce)return R(),Fe(Et,null,[G("slot",e,n&&n())],64);let r=s[t];r&&r._c&&(r._d=!1),R();const a=r&&eA(r(e)),o=e.key||a&&a.key,l=Fe(Et,{key:(o&&!fi(o)?o:`_${t}`)+(!a&&n?"_fb":"")},a||(n?n():[]),a&&s._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function eA(s){return s.some(t=>kd(t)?!(t.type===Hs||t.type===Et&&!eA(t.children)):!0)?s:null}function sA(s,t){const e={};for(const n in s)e[/[A-Z]/.test(n)?`on:${n}`:Lf(n)]=s[n];return e}const Gg=s=>s?AA(s)?Pm(s):Gg(s.parent):null,gd=Ve(Object.create(null),{$:s=>s,$el:s=>s.vnode.el,$data:s=>s.data,$props:s=>s.props,$attrs:s=>s.attrs,$slots:s=>s.slots,$refs:s=>s.refs,$parent:s=>Gg(s.parent),$root:s=>Gg(s.root),$host:s=>s.ce,$emit:s=>s.emit,$options:s=>Qb(s),$forceUpdate:s=>s.f||(s.f=()=>{Kb(s.update)}),$nextTick:s=>s.n||(s.n=La.bind(s.proxy)),$watch:s=>xD.bind(s)}),hg=(s,t)=>s!==ye&&!s.__isScriptSetup&&ce(s,t),rD={get({_:s},t){if(t==="__v_skip")return!0;const{ctx:e,setupState:n,data:i,props:r,accessCache:a,type:o,appContext:l}=s;let c;if(t[0]!=="$"){const p=a[t];if(p!==void 0)switch(p){case 1:return n[t];case 2:return i[t];case 4:return e[t];case 3:return r[t]}else{if(hg(n,t))return a[t]=1,n[t];if(i!==ye&&ce(i,t))return a[t]=2,i[t];if((c=s.propsOptions[0])&&ce(c,t))return a[t]=3,r[t];if(e!==ye&&ce(e,t))return a[t]=4,e[t];Kg&&(a[t]=0)}}const d=gd[t];let h,f;if(d)return t==="$attrs"&&Ts(s.attrs,"get",""),d(s);if((h=o.__cssModules)&&(h=h[t]))return h;if(e!==ye&&ce(e,t))return a[t]=4,e[t];if(f=l.config.globalProperties,ce(f,t))return f[t]},set({_:s},t,e){const{data:n,setupState:i,ctx:r}=s;return hg(i,t)?(i[t]=e,!0):n!==ye&&ce(n,t)?(n[t]=e,!0):ce(s.props,t)||t[0]==="$"&&t.slice(1)in s?!1:(r[t]=e,!0)},has({_:{data:s,setupState:t,accessCache:e,ctx:n,appContext:i,propsOptions:r}},a){let o;return!!e[a]||s!==ye&&ce(s,a)||hg(t,a)||(o=r[0])&&ce(o,a)||ce(n,a)||ce(gd,a)||ce(i.config.globalProperties,a)},defineProperty(s,t,e){return e.get!=null?s._.accessCache[t]=0:ce(e,"value")&&this.set(s,t,e.value,null),Reflect.defineProperty(s,t,e)}};function uw(s){return Dt(s)?s.reduce((t,e)=>(t[e]=null,t),{}):s}let Kg=!0;function aD(s){const t=Qb(s),e=s.proxy,n=s.ctx;Kg=!1,t.beforeCreate&&dw(t.beforeCreate,s,"bc");const{data:i,computed:r,methods:a,watch:o,provide:l,inject:c,created:d,beforeMount:h,mounted:f,beforeUpdate:p,updated:m,activated:v,deactivated:b,beforeDestroy:y,beforeUnmount:E,destroyed:C,unmounted:x,render:D,renderTracked:M,renderTriggered:P,errorCaptured:H,serverPrefetch:F,expose:Z,inheritAttrs:Y,components:L,directives:K,filters:lt}=t;if(c&&oD(c,n,null),a)for(const X in a){const nt=a[X];$t(nt)&&(n[X]=nt.bind(e))}if(i){const X=i.call(e,e);be(X)&&(s.data=Je(X))}if(Kg=!0,r)for(const X in r){const nt=r[X],pt=$t(nt)?nt.bind(e,e):$t(nt.get)?nt.get.bind(e,e):Gi,W=!$t(nt)&&$t(nt.set)?nt.set.bind(e):Gi,At=B({get:pt,set:W});Object.defineProperty(n,X,{enumerable:!0,configurable:!0,get:()=>At.value,set:ct=>At.value=ct})}if(o)for(const X in o)nA(o[X],n,e,X);if(l){const X=$t(l)?l.call(e):l;Reflect.ownKeys(X).forEach(nt=>{Ki(nt,X[nt])})}d&&dw(d,s,"c");function ut(X,nt){Dt(nt)?nt.forEach(pt=>X(pt.bind(e))):nt&&X(nt.bind(e))}if(ut(XT,h),ut(ls,f),ut(JT,p),ut(QT,m),ut(K1,v),ut(X1,b),ut(sD,H),ut(eD,M),ut(tD,P),ut(Q1,E),ut(Ka,x),ut(ZT,F),Dt(Z))if(Z.length){const X=s.exposed||(s.exposed={});Z.forEach(nt=>{Object.defineProperty(X,nt,{get:()=>e[nt],set:pt=>e[nt]=pt})})}else s.exposed||(s.exposed={});D&&s.render===Gi&&(s.render=D),Y!=null&&(s.inheritAttrs=Y),L&&(s.components=L),K&&(s.directives=K),F&&G1(s)}function oD(s,t,e=Gi){Dt(s)&&(s=Xg(s));for(const n in s){const i=s[n];let r;be(i)?"default"in i?r=gs(i.from||n,i.default,!0):r=gs(i.from||n):r=gs(i),Me(r)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):t[n]=r}}function dw(s,t,e){pi(Dt(s)?s.map(n=>n.bind(t.proxy)):s.bind(t.proxy),t,e)}function nA(s,t,e,n){let i=n.includes(".")?vA(e,n):()=>e[n];if(Oe(s)){const r=t[s];$t(r)&&$e(i,r)}else if($t(s))$e(i,s.bind(e));else if(be(s))if(Dt(s))s.forEach(r=>nA(r,t,e,n));else{const r=$t(s.handler)?s.handler.bind(e):t[s.handler];$t(r)&&$e(i,r,s)}}function Qb(s){const t=s.type,{mixins:e,extends:n}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:a}}=s.appContext,o=r.get(t);let l;return o?l=o:!i.length&&!e&&!n?l=t:(l={},i.length&&i.forEach(c=>Pp(l,c,a,!0)),Pp(l,t,a)),be(t)&&r.set(t,l),l}function Pp(s,t,e,n=!1){const{mixins:i,extends:r}=t;r&&Pp(s,r,e,!0),i&&i.forEach(a=>Pp(s,a,e,!0));for(const a in t)if(!(n&&a==="expose")){const o=lD[a]||e&&e[a];s[a]=o?o(s[a],t[a]):t[a]}return s}const lD={data:hw,props:fw,emits:fw,methods:zu,computed:zu,beforeCreate:Os,created:Os,beforeMount:Os,mounted:Os,beforeUpdate:Os,updated:Os,beforeDestroy:Os,beforeUnmount:Os,destroyed:Os,unmounted:Os,activated:Os,deactivated:Os,errorCaptured:Os,serverPrefetch:Os,components:zu,directives:zu,watch:uD,provide:hw,inject:cD};function hw(s,t){return t?s?function(){return Ve($t(s)?s.call(this,this):s,$t(t)?t.call(this,this):t)}:t:s}function cD(s,t){return zu(Xg(s),Xg(t))}function Xg(s){if(Dt(s)){const t={};for(let e=0;e<s.length;e++)t[s[e]]=s[e];return t}return s}function Os(s,t){return s?[...new Set([].concat(s,t))]:t}function zu(s,t){return s?Ve(Object.create(null),s,t):t}function fw(s,t){return s?Dt(s)&&Dt(t)?[...new Set([...s,...t])]:Ve(Object.create(null),uw(s),uw(t??{})):t}function uD(s,t){if(!s)return t;if(!t)return s;const e=Ve(Object.create(null),s);for(const n in t)e[n]=Os(s[n],t[n]);return e}function iA(){return{app:null,config:{isNativeTag:JC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let dD=0;function hD(s,t){return function(n,i=null){$t(n)||(n=Ve({},n)),i!=null&&!be(i)&&(i=null);const r=iA(),a=new WeakSet,o=[];let l=!1;const c=r.app={_uid:dD++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:WD,get config(){return r.config},set config(d){},use(d,...h){return a.has(d)||(d&&$t(d.install)?(a.add(d),d.install(c,...h)):$t(d)&&(a.add(d),d(c,...h))),c},mixin(d){return r.mixins.includes(d)||r.mixins.push(d),c},component(d,h){return h?(r.components[d]=h,c):r.components[d]},directive(d,h){return h?(r.directives[d]=h,c):r.directives[d]},mount(d,h,f){if(!l){const p=c._ceVNode||G(n,i);return p.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),h&&t?t(p,d):s(p,d,f),l=!0,c._container=d,d.__vue_app__=c,Pm(p.component)}},onUnmount(d){o.push(d)},unmount(){l&&(pi(o,c._instance,16),s(null,c._container),delete c._container.__vue_app__)},provide(d,h){return r.provides[d]=h,c},runWithContext(d){const h=ec;ec=c;try{return d()}finally{ec=h}}};return c}}let ec=null;function Ki(s,t){if(ms){let e=ms.provides;const n=ms.parent&&ms.parent.provides;n===e&&(e=ms.provides=Object.create(n)),e[s]=t}}function gs(s,t,e=!1){const n=ms||os;if(n||ec){const i=ec?ec._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&s in i)return i[s];if(arguments.length>1)return e&&$t(t)?t.call(n&&n.proxy):t}}const rA={},aA=()=>Object.create(rA),oA=s=>Object.getPrototypeOf(s)===rA;function fD(s,t,e,n=!1){const i={},r=aA();s.propsDefaults=Object.create(null),lA(s,t,i,r);for(const a in s.propsOptions[0])a in i||(i[a]=void 0);e?s.props=n?i:R1(i):s.type.props?s.props=i:s.props=r,s.attrs=r}function pD(s,t,e,n){const{props:i,attrs:r,vnode:{patchFlag:a}}=s,o=ne(i),[l]=s.propsOptions;let c=!1;if((n||a>0)&&!(a&16)){if(a&8){const d=s.vnode.dynamicProps;for(let h=0;h<d.length;h++){let f=d[h];if(Dm(s.emitsOptions,f))continue;const p=t[f];if(l)if(ce(r,f))p!==r[f]&&(r[f]=p,c=!0);else{const m=Vn(f);i[m]=Jg(l,o,m,p,s,!1)}else p!==r[f]&&(r[f]=p,c=!0)}}}else{lA(s,t,i,r)&&(c=!0);let d;for(const h in o)(!t||!ce(t,h)&&((d=qa(h))===h||!ce(t,d)))&&(l?e&&(e[h]!==void 0||e[d]!==void 0)&&(i[h]=Jg(l,o,h,void 0,s,!0)):delete i[h]);if(r!==o)for(const h in r)(!t||!ce(t,h))&&(delete r[h],c=!0)}c&&$r(s.attrs,"set","")}function lA(s,t,e,n){const[i,r]=s.propsOptions;let a=!1,o;if(t)for(let l in t){if(hd(l))continue;const c=t[l];let d;i&&ce(i,d=Vn(l))?!r||!r.includes(d)?e[d]=c:(o||(o={}))[d]=c:Dm(s.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,a=!0)}if(r){const l=ne(e),c=o||ye;for(let d=0;d<r.length;d++){const h=r[d];e[h]=Jg(i,l,h,c[h],s,!ce(c,h))}}return a}function Jg(s,t,e,n,i,r){const a=s[e];if(a!=null){const o=ce(a,"default");if(o&&n===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&$t(l)){const{propsDefaults:c}=i;if(e in c)n=c[e];else{const d=uf(i);n=c[e]=l.call(null,t),d()}}else n=l;i.ce&&i.ce._setProp(e,n)}a[0]&&(r&&!o?n=!1:a[1]&&(n===""||n===qa(e))&&(n=!0))}return n}const mD=new WeakMap;function cA(s,t,e=!1){const n=e?mD:t.propsCache,i=n.get(s);if(i)return i;const r=s.props,a={},o=[];let l=!1;if(!$t(s)){const d=h=>{l=!0;const[f,p]=cA(h,t,!0);Ve(a,f),p&&o.push(...p)};!e&&t.mixins.length&&t.mixins.forEach(d),s.extends&&d(s.extends),s.mixins&&s.mixins.forEach(d)}if(!r&&!l)return be(s)&&n.set(s,Xl),Xl;if(Dt(r))for(let d=0;d<r.length;d++){const h=Vn(r[d]);pw(h)&&(a[h]=ye)}else if(r)for(const d in r){const h=Vn(d);if(pw(h)){const f=r[d],p=a[h]=Dt(f)||$t(f)?{type:f}:Ve({},f),m=p.type;let v=!1,b=!0;if(Dt(m))for(let y=0;y<m.length;++y){const E=m[y],C=$t(E)&&E.name;if(C==="Boolean"){v=!0;break}else C==="String"&&(b=!1)}else v=$t(m)&&m.name==="Boolean";p[0]=v,p[1]=b,(v||ce(p,"default"))&&o.push(h)}}const c=[a,o];return be(s)&&n.set(s,c),c}function pw(s){return s[0]!=="$"&&!hd(s)}const uA=s=>s[0]==="_"||s==="$stable",Zb=s=>Dt(s)?s.map(Wi):[Wi(s)],gD=(s,t,e)=>{if(t._n)return t;const n=ie((...i)=>Zb(t(...i)),e);return n._c=!1,n},dA=(s,t,e)=>{const n=s._ctx;for(const i in s){if(uA(i))continue;const r=s[i];if($t(r))t[i]=gD(i,r,n);else if(r!=null){const a=Zb(r);t[i]=()=>a}}},hA=(s,t)=>{const e=Zb(t);s.slots.default=()=>e},fA=(s,t,e)=>{for(const n in t)(e||n!=="_")&&(s[n]=t[n])},vD=(s,t,e)=>{const n=s.slots=aA();if(s.vnode.shapeFlag&32){const i=t._;i?(fA(n,t,e),e&&p1(n,"_",i,!0)):dA(t,n)}else t&&hA(s,t)},bD=(s,t,e)=>{const{vnode:n,slots:i}=s;let r=!0,a=ye;if(n.shapeFlag&32){const o=t._;o?e&&o===1?r=!1:fA(i,t,e):(r=!t.$stable,dA(t,i)),a=t}else t&&(hA(s,t),a={default:1});if(r)for(const o in i)!uA(o)&&a[o]==null&&delete i[o]},an=RD;function yD(s){return wD(s)}function wD(s,t){const e=Sm();e.__VUE__=!0;const{insert:n,remove:i,patchProp:r,createElement:a,createText:o,createComment:l,setText:c,setElementText:d,parentNode:h,nextSibling:f,setScopeId:p=Gi,insertStaticContent:m}=s,v=(_,T,$,q=null,I=null,z=null,J=void 0,it=null,at=!!T.dynamicChildren)=>{if(_===T)return;_&&!ho(_,T)&&(q=N(_),ct(_,I,z,!0),_=null),T.patchFlag===-2&&(at=!1,T.dynamicChildren=null);const{type:st,ref:_t,shapeFlag:ht}=T;switch(st){case km:b(_,T,$,q);break;case Hs:y(_,T,$,q);break;case Bf:_==null&&E(T,$,q,J);break;case Et:L(_,T,$,q,I,z,J,it,at);break;default:ht&1?D(_,T,$,q,I,z,J,it,at):ht&6?K(_,T,$,q,I,z,J,it,at):(ht&64||ht&128)&&st.process(_,T,$,q,I,z,J,it,at,gt)}_t!=null&&I&&kp(_t,_&&_.ref,z,T||_,!T)},b=(_,T,$,q)=>{if(_==null)n(T.el=o(T.children),$,q);else{const I=T.el=_.el;T.children!==_.children&&c(I,T.children)}},y=(_,T,$,q)=>{_==null?n(T.el=l(T.children||""),$,q):T.el=_.el},E=(_,T,$,q)=>{[_.el,_.anchor]=m(_.children,T,$,q,_.el,_.anchor)},C=({el:_,anchor:T},$,q)=>{let I;for(;_&&_!==T;)I=f(_),n(_,$,q),_=I;n(T,$,q)},x=({el:_,anchor:T})=>{let $;for(;_&&_!==T;)$=f(_),i(_),_=$;i(T)},D=(_,T,$,q,I,z,J,it,at)=>{T.type==="svg"?J="svg":T.type==="math"&&(J="mathml"),_==null?M(T,$,q,I,z,J,it,at):F(_,T,I,z,J,it,at)},M=(_,T,$,q,I,z,J,it)=>{let at,st;const{props:_t,shapeFlag:ht,transition:wt,dirs:Tt}=_;if(at=_.el=a(_.type,z,_t&&_t.is,_t),ht&8?d(at,_.children):ht&16&&H(_.children,at,null,q,I,fg(_,z),J,it),Tt&&eo(_,null,q,"created"),P(at,_,_.scopeId,J,q),_t){for(const Zt in _t)Zt!=="value"&&!hd(Zt)&&r(at,Zt,null,_t[Zt],z,q);"value"in _t&&r(at,"value",null,_t.value,z),(st=_t.onVnodeBeforeMount)&&_i(st,q,_)}Tt&&eo(_,null,q,"beforeMount");const Ht=_D(I,wt);Ht&&wt.beforeEnter(at),n(at,T,$),((st=_t&&_t.onVnodeMounted)||Ht||Tt)&&an(()=>{st&&_i(st,q,_),Ht&&wt.enter(at),Tt&&eo(_,null,q,"mounted")},I)},P=(_,T,$,q,I)=>{if($&&p(_,$),q)for(let z=0;z<q.length;z++)p(_,q[z]);if(I){let z=I.subTree;if(T===z||yA(z.type)&&(z.ssContent===T||z.ssFallback===T)){const J=I.vnode;P(_,J,J.scopeId,J.slotScopeIds,I.parent)}}},H=(_,T,$,q,I,z,J,it,at=0)=>{for(let st=at;st<_.length;st++){const _t=_[st]=it?ia(_[st]):Wi(_[st]);v(null,_t,T,$,q,I,z,J,it)}},F=(_,T,$,q,I,z,J)=>{const it=T.el=_.el;let{patchFlag:at,dynamicChildren:st,dirs:_t}=T;at|=_.patchFlag&16;const ht=_.props||ye,wt=T.props||ye;let Tt;if($&&so($,!1),(Tt=wt.onVnodeBeforeUpdate)&&_i(Tt,$,T,_),_t&&eo(T,_,$,"beforeUpdate"),$&&so($,!0),(ht.innerHTML&&wt.innerHTML==null||ht.textContent&&wt.textContent==null)&&d(it,""),st?Z(_.dynamicChildren,st,it,$,q,fg(T,I),z):J||nt(_,T,it,null,$,q,fg(T,I),z,!1),at>0){if(at&16)Y(it,ht,wt,$,I);else if(at&2&&ht.class!==wt.class&&r(it,"class",null,wt.class,I),at&4&&r(it,"style",ht.style,wt.style,I),at&8){const Ht=T.dynamicProps;for(let Zt=0;Zt<Ht.length;Zt++){const te=Ht[Zt],We=ht[te],He=wt[te];(He!==We||te==="value")&&r(it,te,We,He,I,$)}}at&1&&_.children!==T.children&&d(it,T.children)}else!J&&st==null&&Y(it,ht,wt,$,I);((Tt=wt.onVnodeUpdated)||_t)&&an(()=>{Tt&&_i(Tt,$,T,_),_t&&eo(T,_,$,"updated")},q)},Z=(_,T,$,q,I,z,J)=>{for(let it=0;it<T.length;it++){const at=_[it],st=T[it],_t=at.el&&(at.type===Et||!ho(at,st)||at.shapeFlag&70)?h(at.el):$;v(at,st,_t,null,q,I,z,J,!0)}},Y=(_,T,$,q,I)=>{if(T!==$){if(T!==ye)for(const z in T)!hd(z)&&!(z in $)&&r(_,z,T[z],null,I,q);for(const z in $){if(hd(z))continue;const J=$[z],it=T[z];J!==it&&z!=="value"&&r(_,z,it,J,I,q)}"value"in $&&r(_,"value",T.value,$.value,I)}},L=(_,T,$,q,I,z,J,it,at)=>{const st=T.el=_?_.el:o(""),_t=T.anchor=_?_.anchor:o("");let{patchFlag:ht,dynamicChildren:wt,slotScopeIds:Tt}=T;Tt&&(it=it?it.concat(Tt):Tt),_==null?(n(st,$,q),n(_t,$,q),H(T.children||[],$,_t,I,z,J,it,at)):ht>0&&ht&64&&wt&&_.dynamicChildren?(Z(_.dynamicChildren,wt,$,I,z,J,it),(T.key!=null||I&&T===I.subTree)&&pA(_,T,!0)):nt(_,T,$,_t,I,z,J,it,at)},K=(_,T,$,q,I,z,J,it,at)=>{T.slotScopeIds=it,_==null?T.shapeFlag&512?I.ctx.activate(T,$,q,J,at):lt(T,$,q,I,z,J,at):dt(_,T,at)},lt=(_,T,$,q,I,z,J)=>{const it=_.component=ND(_,q,I);if(Cm(_)&&(it.ctx.renderer=gt),BD(it,!1,J),it.asyncDep){if(I&&I.registerDep(it,ut,J),!_.el){const at=it.subTree=G(Hs);y(null,at,T,$)}}else ut(it,_,T,$,I,z,J)},dt=(_,T,$)=>{const q=T.component=_.component;if(PD(_,T,$))if(q.asyncDep&&!q.asyncResolved){X(q,T,$);return}else q.next=T,q.update();else T.el=_.el,q.vnode=T},ut=(_,T,$,q,I,z,J)=>{const it=()=>{if(_.isMounted){let{next:ht,bu:wt,u:Tt,parent:Ht,vnode:Zt}=_;{const Ze=mA(_);if(Ze){ht&&(ht.el=Zt.el,X(_,ht,J)),Ze.asyncDep.then(()=>{_.isUnmounted||it()});return}}let te=ht,We;so(_,!1),ht?(ht.el=Zt.el,X(_,ht,J)):ht=Zt,wt&&Nf(wt),(We=ht.props&&ht.props.onVnodeBeforeUpdate)&&_i(We,Ht,ht,Zt),so(_,!0);const He=pg(_),vs=_.subTree;_.subTree=He,v(vs,He,h(vs.el),N(vs),_,I,z),ht.el=He.el,te===null&&MD(_,He.el),Tt&&an(Tt,I),(We=ht.props&&ht.props.onVnodeUpdated)&&an(()=>_i(We,Ht,ht,Zt),I)}else{let ht;const{el:wt,props:Tt}=T,{bm:Ht,m:Zt,parent:te,root:We,type:He}=_,vs=tc(T);if(so(_,!1),Ht&&Nf(Ht),!vs&&(ht=Tt&&Tt.onVnodeBeforeMount)&&_i(ht,te,T),so(_,!0),wt&&V){const Ze=()=>{_.subTree=pg(_),V(wt,_.subTree,_,I,null)};vs&&He.__asyncHydrate?He.__asyncHydrate(wt,_,Ze):Ze()}else{We.ce&&We.ce._injectChildStyle(He);const Ze=_.subTree=pg(_);v(null,Ze,$,q,_,I,z),T.el=Ze.el}if(Zt&&an(Zt,I),!vs&&(ht=Tt&&Tt.onVnodeMounted)){const Ze=T;an(()=>_i(ht,te,Ze),I)}(T.shapeFlag&256||te&&tc(te.vnode)&&te.vnode.shapeFlag&256)&&_.a&&an(_.a,I),_.isMounted=!0,T=$=q=null}};_.scope.on();const at=_.effect=new b1(it);_.scope.off();const st=_.update=at.run.bind(at),_t=_.job=at.runIfDirty.bind(at);_t.i=_,_t.id=_.uid,at.scheduler=()=>Kb(_t),so(_,!0),st()},X=(_,T,$)=>{T.component=_;const q=_.vnode.props;_.vnode=T,_.next=null,pD(_,T.props,q,$),bD(_,T.children,$),za(),ow(_),Ga()},nt=(_,T,$,q,I,z,J,it,at=!1)=>{const st=_&&_.children,_t=_?_.shapeFlag:0,ht=T.children,{patchFlag:wt,shapeFlag:Tt}=T;if(wt>0){if(wt&128){W(st,ht,$,q,I,z,J,it,at);return}else if(wt&256){pt(st,ht,$,q,I,z,J,it,at);return}}Tt&8?(_t&16&&Rt(st,I,z),ht!==st&&d($,ht)):_t&16?Tt&16?W(st,ht,$,q,I,z,J,it,at):Rt(st,I,z,!0):(_t&8&&d($,""),Tt&16&&H(ht,$,q,I,z,J,it,at))},pt=(_,T,$,q,I,z,J,it,at)=>{_=_||Xl,T=T||Xl;const st=_.length,_t=T.length,ht=Math.min(st,_t);let wt;for(wt=0;wt<ht;wt++){const Tt=T[wt]=at?ia(T[wt]):Wi(T[wt]);v(_[wt],Tt,$,null,I,z,J,it,at)}st>_t?Rt(_,I,z,!0,!1,ht):H(T,$,q,I,z,J,it,at,ht)},W=(_,T,$,q,I,z,J,it,at)=>{let st=0;const _t=T.length;let ht=_.length-1,wt=_t-1;for(;st<=ht&&st<=wt;){const Tt=_[st],Ht=T[st]=at?ia(T[st]):Wi(T[st]);if(ho(Tt,Ht))v(Tt,Ht,$,null,I,z,J,it,at);else break;st++}for(;st<=ht&&st<=wt;){const Tt=_[ht],Ht=T[wt]=at?ia(T[wt]):Wi(T[wt]);if(ho(Tt,Ht))v(Tt,Ht,$,null,I,z,J,it,at);else break;ht--,wt--}if(st>ht){if(st<=wt){const Tt=wt+1,Ht=Tt<_t?T[Tt].el:q;for(;st<=wt;)v(null,T[st]=at?ia(T[st]):Wi(T[st]),$,Ht,I,z,J,it,at),st++}}else if(st>wt)for(;st<=ht;)ct(_[st],I,z,!0),st++;else{const Tt=st,Ht=st,Zt=new Map;for(st=Ht;st<=wt;st++){const ts=T[st]=at?ia(T[st]):Wi(T[st]);ts.key!=null&&Zt.set(ts.key,st)}let te,We=0;const He=wt-Ht+1;let vs=!1,Ze=0;const sr=new Array(He);for(st=0;st<He;st++)sr[st]=0;for(st=Tt;st<=ht;st++){const ts=_[st];if(We>=He){ct(ts,I,z,!0);continue}let tt;if(ts.key!=null)tt=Zt.get(ts.key);else for(te=Ht;te<=wt;te++)if(sr[te-Ht]===0&&ho(ts,T[te])){tt=te;break}tt===void 0?ct(ts,I,z,!0):(sr[tt-Ht]=st+1,tt>=Ze?Ze=tt:vs=!0,v(ts,T[tt],$,null,I,z,J,it,at),We++)}const to=vs?AD(sr):Xl;for(te=to.length-1,st=He-1;st>=0;st--){const ts=Ht+st,tt=T[ts],k=ts+1<_t?T[ts+1].el:q;sr[st]===0?v(null,tt,$,k,I,z,J,it,at):vs&&(te<0||st!==to[te]?At(tt,$,k,2):te--)}}},At=(_,T,$,q,I=null)=>{const{el:z,type:J,transition:it,children:at,shapeFlag:st}=_;if(st&6){At(_.component.subTree,T,$,q);return}if(st&128){_.suspense.move(T,$,q);return}if(st&64){J.move(_,T,$,gt);return}if(J===Et){n(z,T,$);for(let ht=0;ht<at.length;ht++)At(at[ht],T,$,q);n(_.anchor,T,$);return}if(J===Bf){C(_,T,$);return}if(q!==2&&st&1&&it)if(q===0)it.beforeEnter(z),n(z,T,$),an(()=>it.enter(z),I);else{const{leave:ht,delayLeave:wt,afterLeave:Tt}=it,Ht=()=>n(z,T,$),Zt=()=>{ht(z,()=>{Ht(),Tt&&Tt()})};wt?wt(z,Ht,Zt):Zt()}else n(z,T,$)},ct=(_,T,$,q=!1,I=!1)=>{const{type:z,props:J,ref:it,children:at,dynamicChildren:st,shapeFlag:_t,patchFlag:ht,dirs:wt,cacheIndex:Tt}=_;if(ht===-2&&(I=!1),it!=null&&kp(it,null,$,_,!0),Tt!=null&&(T.renderCache[Tt]=void 0),_t&256){T.ctx.deactivate(_);return}const Ht=_t&1&&wt,Zt=!tc(_);let te;if(Zt&&(te=J&&J.onVnodeBeforeUnmount)&&_i(te,T,_),_t&6)Qt(_.component,$,q);else{if(_t&128){_.suspense.unmount($,q);return}Ht&&eo(_,null,T,"beforeUnmount"),_t&64?_.type.remove(_,T,$,gt,q):st&&!st.hasOnce&&(z!==Et||ht>0&&ht&64)?Rt(st,T,$,!1,!0):(z===Et&&ht&384||!I&&_t&16)&&Rt(at,T,$),q&&Mt(_)}(Zt&&(te=J&&J.onVnodeUnmounted)||Ht)&&an(()=>{te&&_i(te,T,_),Ht&&eo(_,null,T,"unmounted")},$)},Mt=_=>{const{type:T,el:$,anchor:q,transition:I}=_;if(T===Et){It($,q);return}if(T===Bf){x(_);return}const z=()=>{i($),I&&!I.persisted&&I.afterLeave&&I.afterLeave()};if(_.shapeFlag&1&&I&&!I.persisted){const{leave:J,delayLeave:it}=I,at=()=>J($,z);it?it(_.el,z,at):at()}else z()},It=(_,T)=>{let $;for(;_!==T;)$=f(_),i(_),_=$;i(T)},Qt=(_,T,$)=>{const{bum:q,scope:I,job:z,subTree:J,um:it,m:at,a:st}=_;mw(at),mw(st),q&&Nf(q),I.stop(),z&&(z.flags|=8,ct(J,_,T,$)),it&&an(it,T),an(()=>{_.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},Rt=(_,T,$,q=!1,I=!1,z=0)=>{for(let J=z;J<_.length;J++)ct(_[J],T,$,q,I)},N=_=>{if(_.shapeFlag&6)return N(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const T=f(_.anchor||_.el),$=T&&T[WT];return $?f($):T};let rt=!1;const ot=(_,T,$)=>{_==null?T._vnode&&ct(T._vnode,null,null,!0):v(T._vnode||null,_,T,null,null,null,$),T._vnode=_,rt||(rt=!0,ow(),B1(),rt=!1)},gt={p:v,um:ct,m:At,r:Mt,mt:lt,mc:H,pc:nt,pbc:Z,n:N,o:s};let Nt,V;return{render:ot,hydrate:Nt,createApp:hD(ot,Nt)}}function fg({type:s,props:t},e){return e==="svg"&&s==="foreignObject"||e==="mathml"&&s==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:e}function so({effect:s,job:t},e){e?(s.flags|=32,t.flags|=4):(s.flags&=-33,t.flags&=-5)}function _D(s,t){return(!s||s&&!s.pendingBranch)&&t&&!t.persisted}function pA(s,t,e=!1){const n=s.children,i=t.children;if(Dt(n)&&Dt(i))for(let r=0;r<n.length;r++){const a=n[r];let o=i[r];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[r]=ia(i[r]),o.el=a.el),!e&&o.patchFlag!==-2&&pA(a,o)),o.type===km&&(o.el=a.el)}}function AD(s){const t=s.slice(),e=[0];let n,i,r,a,o;const l=s.length;for(n=0;n<l;n++){const c=s[n];if(c!==0){if(i=e[e.length-1],s[i]<c){t[n]=i,e.push(n);continue}for(r=0,a=e.length-1;r<a;)o=r+a>>1,s[e[o]]<c?r=o+1:a=o;c<s[e[r]]&&(r>0&&(t[n]=e[r-1]),e[r]=n)}}for(r=e.length,a=e[r-1];r-- >0;)e[r]=a,a=t[a];return e}function mA(s){const t=s.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:mA(t)}function mw(s){if(s)for(let t=0;t<s.length;t++)s[t].flags|=8}const SD=Symbol.for("v-scx"),ED=()=>gs(SD);function gA(s,t){return ty(s,null,t)}function $e(s,t,e){return ty(s,t,e)}function ty(s,t,e=ye){const{immediate:n,deep:i,flush:r,once:a}=e,o=Ve({},e),l=t&&n||!t&&r!=="post";let c;if(Pd){if(r==="sync"){const p=ED();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=Gi,p.resume=Gi,p.pause=Gi,p}}const d=ms;o.call=(p,m,v)=>pi(p,d,m,v);let h=!1;r==="post"?o.scheduler=p=>{an(p,d&&d.suspense)}:r!=="sync"&&(h=!0,o.scheduler=(p,m)=>{m?p():Kb(p)}),o.augmentJob=p=>{t&&(p.flags|=4),h&&(p.flags|=2,d&&(p.id=d.uid,p.i=d))};const f=UT(s,t,o);return Pd&&(c?c.push(f):l&&f()),f}function xD(s,t,e){const n=this.proxy,i=Oe(s)?s.includes(".")?vA(n,s):()=>n[s]:s.bind(n,n);let r;$t(t)?r=t:(r=t.handler,e=t);const a=uf(this),o=ty(i,r.bind(n),e);return a(),o}function vA(s,t){const e=t.split(".");return()=>{let n=s;for(let i=0;i<e.length&&n;i++)n=n[e[i]];return n}}const CD=(s,t)=>t==="modelValue"||t==="model-value"?s.modelModifiers:s[`${t}Modifiers`]||s[`${Vn(t)}Modifiers`]||s[`${qa(t)}Modifiers`];function TD(s,t,...e){if(s.isUnmounted)return;const n=s.vnode.props||ye;let i=e;const r=t.startsWith("update:"),a=r&&CD(n,t.slice(7));a&&(a.trim&&(i=e.map(d=>Oe(d)?d.trim():d)),a.number&&(i=e.map(Ep)));let o,l=n[o=Lf(t)]||n[o=Lf(Vn(t))];!l&&r&&(l=n[o=Lf(qa(t))]),l&&pi(l,s,6,i);const c=n[o+"Once"];if(c){if(!s.emitted)s.emitted={};else if(s.emitted[o])return;s.emitted[o]=!0,pi(c,s,6,i)}}function bA(s,t,e=!1){const n=t.emitsCache,i=n.get(s);if(i!==void 0)return i;const r=s.emits;let a={},o=!1;if(!$t(s)){const l=c=>{const d=bA(c,t,!0);d&&(o=!0,Ve(a,d))};!e&&t.mixins.length&&t.mixins.forEach(l),s.extends&&l(s.extends),s.mixins&&s.mixins.forEach(l)}return!r&&!o?(be(s)&&n.set(s,null),null):(Dt(r)?r.forEach(l=>a[l]=null):Ve(a,r),be(s)&&n.set(s,a),a)}function Dm(s,t){return!s||!wm(t)?!1:(t=t.slice(2).replace(/Once$/,""),ce(s,t[0].toLowerCase()+t.slice(1))||ce(s,qa(t))||ce(s,t))}function pg(s){const{type:t,vnode:e,proxy:n,withProxy:i,propsOptions:[r],slots:a,attrs:o,emit:l,render:c,renderCache:d,props:h,data:f,setupState:p,ctx:m,inheritAttrs:v}=s,b=Dp(s);let y,E;try{if(e.shapeFlag&4){const x=i||n,D=x;y=Wi(c.call(D,x,d,h,p,f,m)),E=o}else{const x=t;y=Wi(x.length>1?x(h,{attrs:o,slots:a,emit:l}):x(h,null)),E=t.props?o:DD(o)}}catch(x){vd.length=0,xm(x,s,1),y=G(Hs)}let C=y;if(E&&v!==!1){const x=Object.keys(E),{shapeFlag:D}=C;x.length&&D&7&&(r&&x.some(Fb)&&(E=kD(E,r)),C=Ba(C,E,!1,!0))}return e.dirs&&(C=Ba(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(e.dirs):e.dirs),e.transition&&Td(C,e.transition),y=C,Dp(b),y}const DD=s=>{let t;for(const e in s)(e==="class"||e==="style"||wm(e))&&((t||(t={}))[e]=s[e]);return t},kD=(s,t)=>{const e={};for(const n in s)(!Fb(n)||!(n.slice(9)in t))&&(e[n]=s[n]);return e};function PD(s,t,e){const{props:n,children:i,component:r}=s,{props:a,children:o,patchFlag:l}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&l>=0){if(l&1024)return!0;if(l&16)return n?gw(n,a,c):!!a;if(l&8){const d=t.dynamicProps;for(let h=0;h<d.length;h++){const f=d[h];if(a[f]!==n[f]&&!Dm(c,f))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:n===a?!1:n?a?gw(n,a,c):!0:!!a;return!1}function gw(s,t,e){const n=Object.keys(t);if(n.length!==Object.keys(s).length)return!0;for(let i=0;i<n.length;i++){const r=n[i];if(t[r]!==s[r]&&!Dm(e,r))return!0}return!1}function MD({vnode:s,parent:t},e){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===s&&(n.el=s.el),n===s)(s=t.vnode).el=e,t=t.parent;else break}}const yA=s=>s.__isSuspense;function RD(s,t){t&&t.pendingBranch?Dt(s)?t.effects.push(...s):t.effects.push(s):VT(s)}const Et=Symbol.for("v-fgt"),km=Symbol.for("v-txt"),Hs=Symbol.for("v-cmt"),Bf=Symbol.for("v-stc"),vd=[];let wn=null;function R(s=!1){vd.push(wn=s?null:[])}function OD(){vd.pop(),wn=vd[vd.length-1]||null}let Dd=1;function vw(s,t=!1){Dd+=s,s<0&&wn&&t&&(wn.hasOnce=!0)}function wA(s){return s.dynamicChildren=Dd>0?wn||Xl:null,OD(),Dd>0&&wn&&wn.push(s),s}function O(s,t,e,n,i,r){return wA(g(s,t,e,n,i,r,!0))}function Fe(s,t,e,n,i){return wA(G(s,t,e,n,i,!0))}function kd(s){return s?s.__v_isVNode===!0:!1}function ho(s,t){return s.type===t.type&&s.key===t.key}const _A=({key:s})=>s??null,Hf=({ref:s,ref_key:t,ref_for:e})=>(typeof s=="number"&&(s=""+s),s!=null?Oe(s)||Me(s)||$t(s)?{i:os,r:s,k:t,f:!!e}:s:null);function g(s,t=null,e=null,n=0,i=null,r=s===Et?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:s,props:t,key:t&&_A(t),ref:t&&Hf(t),scopeId:U1,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:os};return o?(ey(l,e),r&128&&s.normalize(l)):e&&(l.shapeFlag|=Oe(e)?8:16),Dd>0&&!a&&wn&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&wn.push(l),l}const G=ID;function ID(s,t=null,e=null,n=0,i=null,r=!1){if((!s||s===Z1)&&(s=Hs),kd(s)){const o=Ba(s,t,!0);return e&&ey(o,e),Dd>0&&!r&&wn&&(o.shapeFlag&6?wn[wn.indexOf(s)]=o:wn.push(o)),o.patchFlag=-2,o}if(VD(s)&&(s=s.__vccOpts),t){t=Mp(t);let{class:o,style:l}=t;o&&!Oe(o)&&(t.class=Ft(o)),be(l)&&(Gb(l)&&!Dt(l)&&(l=Ve({},l)),t.style=ui(l))}const a=Oe(s)?1:yA(s)?128:j1(s)?64:be(s)?4:$t(s)?2:0;return g(s,t,e,n,i,a,r,!0)}function Mp(s){return s?Gb(s)||oA(s)?Ve({},s):s:null}function Ba(s,t,e=!1,n=!1){const{props:i,ref:r,patchFlag:a,children:o,transition:l}=s,c=t?Xa(i||{},t):i,d={__v_isVNode:!0,__v_skip:!0,type:s.type,props:c,key:c&&_A(c),ref:t&&t.ref?e&&r?Dt(r)?r.concat(Hf(t)):[r,Hf(t)]:Hf(t):r,scopeId:s.scopeId,slotScopeIds:s.slotScopeIds,children:o,target:s.target,targetStart:s.targetStart,targetAnchor:s.targetAnchor,staticCount:s.staticCount,shapeFlag:s.shapeFlag,patchFlag:t&&s.type!==Et?a===-1?16:a|16:a,dynamicProps:s.dynamicProps,dynamicChildren:s.dynamicChildren,appContext:s.appContext,dirs:s.dirs,transition:l,component:s.component,suspense:s.suspense,ssContent:s.ssContent&&Ba(s.ssContent),ssFallback:s.ssFallback&&Ba(s.ssFallback),el:s.el,anchor:s.anchor,ctx:s.ctx,ce:s.ce};return l&&n&&Td(d,l.clone(d)),d}function Jt(s=" ",t=0){return G(km,null,s,t)}function Ha(s,t){const e=G(Bf,null,s);return e.staticCount=t,e}function Ot(s="",t=!1){return t?(R(),Fe(Hs,null,s)):G(Hs,null,s)}function Wi(s){return s==null||typeof s=="boolean"?G(Hs):Dt(s)?G(Et,null,s.slice()):kd(s)?ia(s):G(km,null,String(s))}function ia(s){return s.el===null&&s.patchFlag!==-1||s.memo?s:Ba(s)}function ey(s,t){let e=0;const{shapeFlag:n}=s;if(t==null)t=null;else if(Dt(t))e=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),ey(s,i()),i._c&&(i._d=!0));return}else{e=32;const i=t._;!i&&!oA(t)?t._ctx=os:i===3&&os&&(os.slots._===1?t._=1:(t._=2,s.patchFlag|=1024))}else $t(t)?(t={default:t,_ctx:os},e=32):(t=String(t),n&64?(e=16,t=[Jt(t)]):e=8);s.children=t,s.shapeFlag|=e}function Xa(...s){const t={};for(let e=0;e<s.length;e++){const n=s[e];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=Ft([t.class,n.class]));else if(i==="style")t.style=ui([t.style,n.style]);else if(wm(i)){const r=t[i],a=n[i];a&&r!==a&&!(Dt(r)&&r.includes(a))&&(t[i]=r?[].concat(r,a):a)}else i!==""&&(t[i]=n[i])}return t}function _i(s,t,e,n=null){pi(s,t,7,[e,n])}const $D=iA();let LD=0;function ND(s,t,e){const n=s.type,i=(t?t.appContext:s.appContext)||$D,r={uid:LD++,vnode:s,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new uT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:cA(n,i),emitsOptions:bA(n,i),emit:null,emitted:null,propsDefaults:ye,inheritAttrs:n.inheritAttrs,ctx:ye,data:ye,props:ye,attrs:ye,slots:ye,refs:ye,setupState:ye,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=TD.bind(null,r),s.ce&&s.ce(r),r}let ms=null;const FD=()=>ms||os;let Rp,Qg;{const s=Sm(),t=(e,n)=>{let i;return(i=s[e])||(i=s[e]=[]),i.push(n),r=>{i.length>1?i.forEach(a=>a(r)):i[0](r)}};Rp=t("__VUE_INSTANCE_SETTERS__",e=>ms=e),Qg=t("__VUE_SSR_SETTERS__",e=>Pd=e)}const uf=s=>{const t=ms;return Rp(s),s.scope.on(),()=>{s.scope.off(),Rp(t)}},bw=()=>{ms&&ms.scope.off(),Rp(null)};function AA(s){return s.vnode.shapeFlag&4}let Pd=!1;function BD(s,t=!1,e=!1){t&&Qg(t);const{props:n,children:i}=s.vnode,r=AA(s);fD(s,n,r,t),vD(s,i,e);const a=r?HD(s,t):void 0;return t&&Qg(!1),a}function HD(s,t){const e=s.type;s.accessCache=Object.create(null),s.proxy=new Proxy(s.ctx,rD);const{setup:n}=e;if(n){za();const i=s.setupContext=n.length>1?jD(s):null,r=uf(s),a=lf(n,s,0,[s.props,i]),o=d1(a);if(Ga(),r(),(o||s.sp)&&!tc(s)&&G1(s),o){if(a.then(bw,bw),t)return a.then(l=>{yw(s,l,t)}).catch(l=>{xm(l,s,0)});s.asyncDep=a}else yw(s,a,t)}else SA(s,t)}function yw(s,t,e){$t(t)?s.type.__ssrInlineRender?s.ssrRender=t:s.render=t:be(t)&&(s.setupState=$1(t)),SA(s,e)}let ww;function SA(s,t,e){const n=s.type;if(!s.render){if(!t&&ww&&!n.render){const i=n.template||Qb(s).template;if(i){const{isCustomElement:r,compilerOptions:a}=s.appContext.config,{delimiters:o,compilerOptions:l}=n,c=Ve(Ve({isCustomElement:r,delimiters:o},a),l);n.render=ww(i,c)}}s.render=n.render||Gi}{const i=uf(s);za();try{aD(s)}finally{Ga(),i()}}}const UD={get(s,t){return Ts(s,"get",""),s[t]}};function jD(s){const t=e=>{s.exposed=e||{}};return{attrs:new Proxy(s.attrs,UD),slots:s.slots,emit:s.emit,expose:t}}function Pm(s){return s.exposed?s.exposeProxy||(s.exposeProxy=new Proxy($1(MT(s.exposed)),{get(t,e){if(e in t)return t[e];if(e in gd)return gd[e](s)},has(t,e){return e in t||e in gd}})):s.proxy}function YD(s,t=!0){return $t(s)?s.displayName||s.name:s.name||t&&s.__name}function VD(s){return $t(s)&&"__vccOpts"in s}const B=(s,t)=>BT(s,t,Pd);function sy(s,t,e){const n=arguments.length;return n===2?be(t)&&!Dt(t)?kd(t)?G(s,null,[t]):G(s,t):G(s,null,t):(n>3?e=Array.prototype.slice.call(arguments,2):n===3&&kd(e)&&(e=[e]),G(s,t,e))}const WD="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Zg;const _w=typeof window<"u"&&window.trustedTypes;if(_w)try{Zg=_w.createPolicy("vue",{createHTML:s=>s})}catch{}const EA=Zg?s=>Zg.createHTML(s):s=>s,qD="http://www.w3.org/2000/svg",zD="http://www.w3.org/1998/Math/MathML",ur=typeof document<"u"?document:null,Aw=ur&&ur.createElement("template"),GD={insert:(s,t,e)=>{t.insertBefore(s,e||null)},remove:s=>{const t=s.parentNode;t&&t.removeChild(s)},createElement:(s,t,e,n)=>{const i=t==="svg"?ur.createElementNS(qD,s):t==="mathml"?ur.createElementNS(zD,s):e?ur.createElement(s,{is:e}):ur.createElement(s);return s==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:s=>ur.createTextNode(s),createComment:s=>ur.createComment(s),setText:(s,t)=>{s.nodeValue=t},setElementText:(s,t)=>{s.textContent=t},parentNode:s=>s.parentNode,nextSibling:s=>s.nextSibling,querySelector:s=>ur.querySelector(s),setScopeId(s,t){s.setAttribute(t,"")},insertStaticContent(s,t,e,n,i,r){const a=e?e.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),e),!(i===r||!(i=i.nextSibling)););else{Aw.innerHTML=EA(n==="svg"?`<svg>${s}</svg>`:n==="mathml"?`<math>${s}</math>`:s);const o=Aw.content;if(n==="svg"||n==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}t.insertBefore(o,e)}return[a?a.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}},Jr="transition",$u="animation",Md=Symbol("_vtc"),xA={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},KD=Ve({},Y1,xA),XD=s=>(s.displayName="Transition",s.props=KD,s),CA=XD((s,{slots:t})=>sy(GT,JD(s),t)),no=(s,t=[])=>{Dt(s)?s.forEach(e=>e(...t)):s&&s(...t)},Sw=s=>s?Dt(s)?s.some(t=>t.length>1):s.length>1:!1;function JD(s){const t={};for(const L in s)L in xA||(t[L]=s[L]);if(s.css===!1)return t;const{name:e="v",type:n,duration:i,enterFromClass:r=`${e}-enter-from`,enterActiveClass:a=`${e}-enter-active`,enterToClass:o=`${e}-enter-to`,appearFromClass:l=r,appearActiveClass:c=a,appearToClass:d=o,leaveFromClass:h=`${e}-leave-from`,leaveActiveClass:f=`${e}-leave-active`,leaveToClass:p=`${e}-leave-to`}=s,m=QD(i),v=m&&m[0],b=m&&m[1],{onBeforeEnter:y,onEnter:E,onEnterCancelled:C,onLeave:x,onLeaveCancelled:D,onBeforeAppear:M=y,onAppear:P=E,onAppearCancelled:H=C}=t,F=(L,K,lt,dt)=>{L._enterCancelled=dt,io(L,K?d:o),io(L,K?c:a),lt&&lt()},Z=(L,K)=>{L._isLeaving=!1,io(L,h),io(L,p),io(L,f),K&&K()},Y=L=>(K,lt)=>{const dt=L?P:E,ut=()=>F(K,L,lt);no(dt,[K,ut]),Ew(()=>{io(K,L?l:r),ir(K,L?d:o),Sw(dt)||xw(K,n,v,ut)})};return Ve(t,{onBeforeEnter(L){no(y,[L]),ir(L,r),ir(L,a)},onBeforeAppear(L){no(M,[L]),ir(L,l),ir(L,c)},onEnter:Y(!1),onAppear:Y(!0),onLeave(L,K){L._isLeaving=!0;const lt=()=>Z(L,K);ir(L,h),L._enterCancelled?(ir(L,f),Dw()):(Dw(),ir(L,f)),Ew(()=>{L._isLeaving&&(io(L,h),ir(L,p),Sw(x)||xw(L,n,b,lt))}),no(x,[L,lt])},onEnterCancelled(L){F(L,!1,void 0,!0),no(C,[L])},onAppearCancelled(L){F(L,!0,void 0,!0),no(H,[L])},onLeaveCancelled(L){Z(L),no(D,[L])}})}function QD(s){if(s==null)return null;if(be(s))return[mg(s.enter),mg(s.leave)];{const t=mg(s);return[t,t]}}function mg(s){return sT(s)}function ir(s,t){t.split(/\s+/).forEach(e=>e&&s.classList.add(e)),(s[Md]||(s[Md]=new Set)).add(t)}function io(s,t){t.split(/\s+/).forEach(n=>n&&s.classList.remove(n));const e=s[Md];e&&(e.delete(t),e.size||(s[Md]=void 0))}function Ew(s){requestAnimationFrame(()=>{requestAnimationFrame(s)})}let ZD=0;function xw(s,t,e,n){const i=s._endId=++ZD,r=()=>{i===s._endId&&n()};if(e!=null)return setTimeout(r,e);const{type:a,timeout:o,propCount:l}=tk(s,t);if(!a)return n();const c=a+"end";let d=0;const h=()=>{s.removeEventListener(c,f),r()},f=p=>{p.target===s&&++d>=l&&h()};setTimeout(()=>{d<l&&h()},o+1),s.addEventListener(c,f)}function tk(s,t){const e=window.getComputedStyle(s),n=m=>(e[m]||"").split(", "),i=n(`${Jr}Delay`),r=n(`${Jr}Duration`),a=Cw(i,r),o=n(`${$u}Delay`),l=n(`${$u}Duration`),c=Cw(o,l);let d=null,h=0,f=0;t===Jr?a>0&&(d=Jr,h=a,f=r.length):t===$u?c>0&&(d=$u,h=c,f=l.length):(h=Math.max(a,c),d=h>0?a>c?Jr:$u:null,f=d?d===Jr?r.length:l.length:0);const p=d===Jr&&/\b(transform|all)(,|$)/.test(n(`${Jr}Property`).toString());return{type:d,timeout:h,propCount:f,hasTransform:p}}function Cw(s,t){for(;s.length<t.length;)s=s.concat(s);return Math.max(...t.map((e,n)=>Tw(e)+Tw(s[n])))}function Tw(s){return s==="auto"?0:Number(s.slice(0,-1).replace(",","."))*1e3}function Dw(){return document.body.offsetHeight}function ek(s,t,e){const n=s[Md];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?s.removeAttribute("class"):e?s.setAttribute("class",t):s.className=t}const kw=Symbol("_vod"),sk=Symbol("_vsh"),nk=Symbol(""),ik=/(^|;)\s*display\s*:/;function rk(s,t,e){const n=s.style,i=Oe(e);let r=!1;if(e&&!i){if(t)if(Oe(t))for(const a of t.split(";")){const o=a.slice(0,a.indexOf(":")).trim();e[o]==null&&Uf(n,o,"")}else for(const a in t)e[a]==null&&Uf(n,a,"");for(const a in e)a==="display"&&(r=!0),Uf(n,a,e[a])}else if(i){if(t!==e){const a=n[nk];a&&(e+=";"+a),n.cssText=e,r=ik.test(e)}}else t&&s.removeAttribute("style");kw in s&&(s[kw]=r?n.display:"",s[sk]&&(n.display="none"))}const Pw=/\s*!important$/;function Uf(s,t,e){if(Dt(e))e.forEach(n=>Uf(s,t,n));else if(e==null&&(e=""),t.startsWith("--"))s.setProperty(t,e);else{const n=ak(s,t);Pw.test(e)?s.setProperty(qa(n),e.replace(Pw,""),"important"):s[n]=e}}const Mw=["Webkit","Moz","ms"],gg={};function ak(s,t){const e=gg[t];if(e)return e;let n=Vn(t);if(n!=="filter"&&n in s)return gg[t]=n;n=Am(n);for(let i=0;i<Mw.length;i++){const r=Mw[i]+n;if(r in s)return gg[t]=r}return t}const Rw="http://www.w3.org/1999/xlink";function Ow(s,t,e,n,i,r=lT(t)){n&&t.startsWith("xlink:")?e==null?s.removeAttributeNS(Rw,t.slice(6,t.length)):s.setAttributeNS(Rw,t,e):e==null||r&&!m1(e)?s.removeAttribute(t):s.setAttribute(t,r?"":fi(e)?String(e):e)}function Iw(s,t,e,n,i){if(t==="innerHTML"||t==="textContent"){e!=null&&(s[t]=t==="innerHTML"?EA(e):e);return}const r=s.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const o=r==="OPTION"?s.getAttribute("value")||"":s.value,l=e==null?s.type==="checkbox"?"on":"":String(e);(o!==l||!("_value"in s))&&(s.value=l),e==null&&s.removeAttribute(t),s._value=e;return}let a=!1;if(e===""||e==null){const o=typeof s[t];o==="boolean"?e=m1(e):e==null&&o==="string"?(e="",a=!0):o==="number"&&(e=0,a=!0)}try{s[t]=e}catch{}a&&s.removeAttribute(i||t)}function Nr(s,t,e,n){s.addEventListener(t,e,n)}function ok(s,t,e,n){s.removeEventListener(t,e,n)}const $w=Symbol("_vei");function lk(s,t,e,n,i=null){const r=s[$w]||(s[$w]={}),a=r[t];if(n&&a)a.value=n;else{const[o,l]=ck(t);if(n){const c=r[t]=hk(n,i);Nr(s,o,c,l)}else a&&(ok(s,o,a,l),r[t]=void 0)}}const Lw=/(?:Once|Passive|Capture)$/;function ck(s){let t;if(Lw.test(s)){t={};let n;for(;n=s.match(Lw);)s=s.slice(0,s.length-n[0].length),t[n[0].toLowerCase()]=!0}return[s[2]===":"?s.slice(3):qa(s.slice(2)),t]}let vg=0;const uk=Promise.resolve(),dk=()=>vg||(uk.then(()=>vg=0),vg=Date.now());function hk(s,t){const e=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=e.attached)return;pi(fk(n,e.value),t,5,[n])};return e.value=s,e.attached=dk(),e}function fk(s,t){if(Dt(t)){const e=s.stopImmediatePropagation;return s.stopImmediatePropagation=()=>{e.call(s),s._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const Nw=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&s.charCodeAt(2)>96&&s.charCodeAt(2)<123,pk=(s,t,e,n,i,r)=>{const a=i==="svg";t==="class"?ek(s,n,a):t==="style"?rk(s,e,n):wm(t)?Fb(t)||lk(s,t,e,n,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):mk(s,t,n,a))?(Iw(s,t,n),!s.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ow(s,t,n,a,r,t!=="value")):s._isVueCE&&(/[A-Z]/.test(t)||!Oe(n))?Iw(s,Vn(t),n,r,t):(t==="true-value"?s._trueValue=n:t==="false-value"&&(s._falseValue=n),Ow(s,t,n,a))};function mk(s,t,e,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in s&&Nw(t)&&$t(e));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&s.tagName==="INPUT"||t==="type"&&s.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=s.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Nw(t)&&Oe(e)?!1:t in s}const Ua=s=>{const t=s.props["onUpdate:modelValue"]||!1;return Dt(t)?e=>Nf(t,e):t};function gk(s){s.target.composing=!0}function Fw(s){const t=s.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Hn=Symbol("_assign"),pe={created(s,{modifiers:{lazy:t,trim:e,number:n}},i){s[Hn]=Ua(i);const r=n||i.props&&i.props.type==="number";Nr(s,t?"change":"input",a=>{if(a.target.composing)return;let o=s.value;e&&(o=o.trim()),r&&(o=Ep(o)),s[Hn](o)}),e&&Nr(s,"change",()=>{s.value=s.value.trim()}),t||(Nr(s,"compositionstart",gk),Nr(s,"compositionend",Fw),Nr(s,"change",Fw))},mounted(s,{value:t}){s.value=t??""},beforeUpdate(s,{value:t,oldValue:e,modifiers:{lazy:n,trim:i,number:r}},a){if(s[Hn]=Ua(a),s.composing)return;const o=(r||s.type==="number")&&!/^0\d/.test(s.value)?Ep(s.value):s.value,l=t??"";o!==l&&(document.activeElement===s&&s.type!=="range"&&(n&&t===e||i&&s.value.trim()===l)||(s.value=l))}},vk={deep:!0,created(s,t,e){s[Hn]=Ua(e),Nr(s,"change",()=>{const n=s._modelValue,i=du(s),r=s.checked,a=s[Hn];if(Dt(n)){const o=Ub(n,i),l=o!==-1;if(r&&!l)a(n.concat(i));else if(!r&&l){const c=[...n];c.splice(o,1),a(c)}}else if(_u(n)){const o=new Set(n);r?o.add(i):o.delete(i),a(o)}else a(TA(s,r))})},mounted:Bw,beforeUpdate(s,t,e){s[Hn]=Ua(e),Bw(s,t,e)}};function Bw(s,{value:t,oldValue:e},n){s._modelValue=t;let i;if(Dt(t))i=Ub(t,n.props.value)>-1;else if(_u(t))i=t.has(n.props.value);else{if(t===e)return;i=vl(t,TA(s,!0))}s.checked!==i&&(s.checked=i)}const tv={created(s,{value:t},e){s.checked=vl(t,e.props.value),s[Hn]=Ua(e),Nr(s,"change",()=>{s[Hn](du(s))})},beforeUpdate(s,{value:t,oldValue:e},n){s[Hn]=Ua(n),t!==e&&(s.checked=vl(t,n.props.value))}},ev={deep:!0,created(s,{value:t,modifiers:{number:e}},n){const i=_u(t);Nr(s,"change",()=>{const r=Array.prototype.filter.call(s.options,a=>a.selected).map(a=>e?Ep(du(a)):du(a));s[Hn](s.multiple?i?new Set(r):r:r[0]),s._assigning=!0,La(()=>{s._assigning=!1})}),s[Hn]=Ua(n)},mounted(s,{value:t}){Hw(s,t)},beforeUpdate(s,t,e){s[Hn]=Ua(e)},updated(s,{value:t}){s._assigning||Hw(s,t)}};function Hw(s,t){const e=s.multiple,n=Dt(t);if(!(e&&!n&&!_u(t))){for(let i=0,r=s.options.length;i<r;i++){const a=s.options[i],o=du(a);if(e)if(n){const l=typeof o;l==="string"||l==="number"?a.selected=t.some(c=>String(c)===String(o)):a.selected=Ub(t,o)>-1}else a.selected=t.has(o);else if(vl(du(a),t)){s.selectedIndex!==i&&(s.selectedIndex=i);return}}!e&&s.selectedIndex!==-1&&(s.selectedIndex=-1)}}function du(s){return"_value"in s?s._value:s.value}function TA(s,t){const e=t?"_trueValue":"_falseValue";return e in s?s[e]:t}const bk={created(s,t,e){Cf(s,t,e,null,"created")},mounted(s,t,e){Cf(s,t,e,null,"mounted")},beforeUpdate(s,t,e,n){Cf(s,t,e,n,"beforeUpdate")},updated(s,t,e,n){Cf(s,t,e,n,"updated")}};function yk(s,t){switch(s){case"SELECT":return ev;case"TEXTAREA":return pe;default:switch(t){case"checkbox":return vk;case"radio":return tv;default:return pe}}}function Cf(s,t,e,n,i){const a=yk(s.tagName,e.props&&e.props.type)[i];a&&a(s,t,e,n)}const wk=["ctrl","shift","alt","meta"],_k={stop:s=>s.stopPropagation(),prevent:s=>s.preventDefault(),self:s=>s.target!==s.currentTarget,ctrl:s=>!s.ctrlKey,shift:s=>!s.shiftKey,alt:s=>!s.altKey,meta:s=>!s.metaKey,left:s=>"button"in s&&s.button!==0,middle:s=>"button"in s&&s.button!==1,right:s=>"button"in s&&s.button!==2,exact:(s,t)=>wk.some(e=>s[`${e}Key`]&&!t.includes(e))},hi=(s,t)=>{const e=s._withMods||(s._withMods={}),n=t.join(".");return e[n]||(e[n]=(i,...r)=>{for(let a=0;a<t.length;a++){const o=_k[t[a]];if(o&&o(i,t))return}return s(i,...r)})},Ak={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Uw=(s,t)=>{const e=s._withKeys||(s._withKeys={}),n=t.join(".");return e[n]||(e[n]=i=>{if(!("key"in i))return;const r=qa(i.key);if(t.some(a=>a===r||Ak[a]===r))return s(i)})},Sk=Ve({patchProp:pk},GD);let jw;function Ek(){return jw||(jw=yD(Sk))}const xk=(...s)=>{const t=Ek().createApp(...s),{mount:e}=t;return t.mount=n=>{const i=Tk(n);if(!i)return;const r=t._component;!$t(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const a=e(i,!1,Ck(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t};function Ck(s){if(s instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&s instanceof MathMLElement)return"mathml"}function Tk(s){return Oe(s)?document.querySelector(s):s}const re=(s,t)=>{const e=s.__vccOpts||s;for(const[n,i]of t)e[n]=i;return e},Dk={};function kk(s,t){const e=as("router-view");return R(),O("main",null,[G(e)])}const Pk=re(Dk,[["render",kk],["__scopeId","data-v-fee1df6d"]]);/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Fl=typeof document<"u";function DA(s){return typeof s=="object"||"displayName"in s||"props"in s||"__vccOpts"in s}function Mk(s){return s.__esModule||s[Symbol.toStringTag]==="Module"||s.default&&DA(s.default)}const le=Object.assign;function bg(s,t){const e={};for(const n in t){const i=t[n];e[n]=mi(i)?i.map(s):s(i)}return e}const bd=()=>{},mi=Array.isArray,kA=/#/g,Rk=/&/g,Ok=/\//g,Ik=/=/g,$k=/\?/g,PA=/\+/g,Lk=/%5B/g,Nk=/%5D/g,MA=/%5E/g,Fk=/%60/g,RA=/%7B/g,Bk=/%7C/g,OA=/%7D/g,Hk=/%20/g;function ny(s){return encodeURI(""+s).replace(Bk,"|").replace(Lk,"[").replace(Nk,"]")}function Uk(s){return ny(s).replace(RA,"{").replace(OA,"}").replace(MA,"^")}function sv(s){return ny(s).replace(PA,"%2B").replace(Hk,"+").replace(kA,"%23").replace(Rk,"%26").replace(Fk,"`").replace(RA,"{").replace(OA,"}").replace(MA,"^")}function jk(s){return sv(s).replace(Ik,"%3D")}function Yk(s){return ny(s).replace(kA,"%23").replace($k,"%3F")}function Vk(s){return s==null?"":Yk(s).replace(Ok,"%2F")}function Rd(s){try{return decodeURIComponent(""+s)}catch{}return""+s}const Wk=/\/$/,qk=s=>s.replace(Wk,"");function yg(s,t,e="/"){let n,i={},r="",a="";const o=t.indexOf("#");let l=t.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(n=t.slice(0,l),r=t.slice(l+1,o>-1?o:t.length),i=s(r)),o>-1&&(n=n||t.slice(0,o),a=t.slice(o,t.length)),n=Xk(n??t,e),{fullPath:n+(r&&"?")+r+a,path:n,query:i,hash:Rd(a)}}function zk(s,t){const e=t.query?s(t.query):"";return t.path+(e&&"?")+e+(t.hash||"")}function Yw(s,t){return!t||!s.toLowerCase().startsWith(t.toLowerCase())?s:s.slice(t.length)||"/"}function Gk(s,t,e){const n=t.matched.length-1,i=e.matched.length-1;return n>-1&&n===i&&hu(t.matched[n],e.matched[i])&&IA(t.params,e.params)&&s(t.query)===s(e.query)&&t.hash===e.hash}function hu(s,t){return(s.aliasOf||s)===(t.aliasOf||t)}function IA(s,t){if(Object.keys(s).length!==Object.keys(t).length)return!1;for(const e in s)if(!Kk(s[e],t[e]))return!1;return!0}function Kk(s,t){return mi(s)?Vw(s,t):mi(t)?Vw(t,s):s===t}function Vw(s,t){return mi(t)?s.length===t.length&&s.every((e,n)=>e===t[n]):s.length===1&&s[0]===t}function Xk(s,t){if(s.startsWith("/"))return s;if(!s)return t;const e=t.split("/"),n=s.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let r=e.length-1,a,o;for(a=0;a<n.length;a++)if(o=n[a],o!==".")if(o==="..")r>1&&r--;else break;return e.slice(0,r).join("/")+"/"+n.slice(a).join("/")}const Qr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Od;(function(s){s.pop="pop",s.push="push"})(Od||(Od={}));var yd;(function(s){s.back="back",s.forward="forward",s.unknown=""})(yd||(yd={}));function Jk(s){if(!s)if(Fl){const t=document.querySelector("base");s=t&&t.getAttribute("href")||"/",s=s.replace(/^\w+:\/\/[^\/]+/,"")}else s="/";return s[0]!=="/"&&s[0]!=="#"&&(s="/"+s),qk(s)}const Qk=/^[^#]+#/;function Zk(s,t){return s.replace(Qk,"#")+t}function tP(s,t){const e=document.documentElement.getBoundingClientRect(),n=s.getBoundingClientRect();return{behavior:t.behavior,left:n.left-e.left-(t.left||0),top:n.top-e.top-(t.top||0)}}const Mm=()=>({left:window.scrollX,top:window.scrollY});function eP(s){let t;if("el"in s){const e=s.el,n=typeof e=="string"&&e.startsWith("#"),i=typeof e=="string"?n?document.getElementById(e.slice(1)):document.querySelector(e):e;if(!i)return;t=tP(i,s)}else t=s;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Ww(s,t){return(history.state?history.state.position-t:-1)+s}const nv=new Map;function sP(s,t){nv.set(s,t)}function nP(s){const t=nv.get(s);return nv.delete(s),t}let iP=()=>location.protocol+"//"+location.host;function $A(s,t){const{pathname:e,search:n,hash:i}=t,r=s.indexOf("#");if(r>-1){let o=i.includes(s.slice(r))?s.slice(r).length:1,l=i.slice(o);return l[0]!=="/"&&(l="/"+l),Yw(l,"")}return Yw(e,s)+n+i}function rP(s,t,e,n){let i=[],r=[],a=null;const o=({state:f})=>{const p=$A(s,location),m=e.value,v=t.value;let b=0;if(f){if(e.value=p,t.value=f,a&&a===m){a=null;return}b=v?f.position-v.position:0}else n(p);i.forEach(y=>{y(e.value,m,{delta:b,type:Od.pop,direction:b?b>0?yd.forward:yd.back:yd.unknown})})};function l(){a=e.value}function c(f){i.push(f);const p=()=>{const m=i.indexOf(f);m>-1&&i.splice(m,1)};return r.push(p),p}function d(){const{history:f}=window;f.state&&f.replaceState(le({},f.state,{scroll:Mm()}),"")}function h(){for(const f of r)f();r=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function qw(s,t,e,n=!1,i=!1){return{back:s,current:t,forward:e,replaced:n,position:window.history.length,scroll:i?Mm():null}}function aP(s){const{history:t,location:e}=window,n={value:$A(s,e)},i={value:t.state};i.value||r(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(l,c,d){const h=s.indexOf("#"),f=h>-1?(e.host&&document.querySelector("base")?s:s.slice(h))+l:iP()+s+l;try{t[d?"replaceState":"pushState"](c,"",f),i.value=c}catch(p){console.error(p),e[d?"replace":"assign"](f)}}function a(l,c){const d=le({},t.state,qw(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});r(l,d,!0),n.value=l}function o(l,c){const d=le({},i.value,t.state,{forward:l,scroll:Mm()});r(d.current,d,!0);const h=le({},qw(n.value,l,null),{position:d.position+1},c);r(l,h,!1),n.value=l}return{location:n,state:i,push:o,replace:a}}function oP(s){s=Jk(s);const t=aP(s),e=rP(s,t.state,t.location,t.replace);function n(r,a=!0){a||e.pauseListeners(),history.go(r)}const i=le({location:"",base:s,go:n,createHref:Zk.bind(null,s)},t,e);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function lP(s){return typeof s=="string"||s&&typeof s=="object"}function LA(s){return typeof s=="string"||typeof s=="symbol"}const NA=Symbol("");var zw;(function(s){s[s.aborted=4]="aborted",s[s.cancelled=8]="cancelled",s[s.duplicated=16]="duplicated"})(zw||(zw={}));function fu(s,t){return le(new Error,{type:s,[NA]:!0},t)}function rr(s,t){return s instanceof Error&&NA in s&&(t==null||!!(s.type&t))}const Gw="[^/]+?",cP={sensitive:!1,strict:!1,start:!0,end:!0},uP=/[.+*?^${}()[\]/\\]/g;function dP(s,t){const e=le({},cP,t),n=[];let i=e.start?"^":"";const r=[];for(const c of s){const d=c.length?[]:[90];e.strict&&!c.length&&(i+="/");for(let h=0;h<c.length;h++){const f=c[h];let p=40+(e.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(uP,"\\$&"),p+=40;else if(f.type===1){const{value:m,repeatable:v,optional:b,regexp:y}=f;r.push({name:m,repeatable:v,optional:b});const E=y||Gw;if(E!==Gw){p+=10;try{new RegExp(`(${E})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${m}" (${E}): `+x.message)}}let C=v?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;h||(C=b&&c.length<2?`(?:/${C})`:"/"+C),b&&(C+="?"),i+=C,p+=20,b&&(p+=-8),v&&(p+=-20),E===".*"&&(p+=-50)}d.push(p)}n.push(d)}if(e.strict&&e.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}e.strict||(i+="/?"),e.end?i+="$":e.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const a=new RegExp(i,e.sensitive?"":"i");function o(c){const d=c.match(a),h={};if(!d)return null;for(let f=1;f<d.length;f++){const p=d[f]||"",m=r[f-1];h[m.name]=p&&m.repeatable?p.split("/"):p}return h}function l(c){let d="",h=!1;for(const f of s){(!h||!d.endsWith("/"))&&(d+="/"),h=!1;for(const p of f)if(p.type===0)d+=p.value;else if(p.type===1){const{value:m,repeatable:v,optional:b}=p,y=m in c?c[m]:"";if(mi(y)&&!v)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const E=mi(y)?y.join("/"):y;if(!E)if(b)f.length<2&&(d.endsWith("/")?d=d.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);d+=E}}return d||"/"}return{re:a,score:n,keys:r,parse:o,stringify:l}}function hP(s,t){let e=0;for(;e<s.length&&e<t.length;){const n=t[e]-s[e];if(n)return n;e++}return s.length<t.length?s.length===1&&s[0]===80?-1:1:s.length>t.length?t.length===1&&t[0]===80?1:-1:0}function FA(s,t){let e=0;const n=s.score,i=t.score;for(;e<n.length&&e<i.length;){const r=hP(n[e],i[e]);if(r)return r;e++}if(Math.abs(i.length-n.length)===1){if(Kw(n))return 1;if(Kw(i))return-1}return i.length-n.length}function Kw(s){const t=s[s.length-1];return s.length>0&&t[t.length-1]<0}const fP={type:0,value:""},pP=/[a-zA-Z0-9_]/;function mP(s){if(!s)return[[]];if(s==="/")return[[fP]];if(!s.startsWith("/"))throw new Error(`Invalid path "${s}"`);function t(p){throw new Error(`ERR (${e})/"${c}": ${p}`)}let e=0,n=e;const i=[];let r;function a(){r&&i.push(r),r=[]}let o=0,l,c="",d="";function h(){c&&(e===0?r.push({type:0,value:c}):e===1||e===2||e===3?(r.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;o<s.length;){if(l=s[o++],l==="\\"&&e!==2){n=e,e=4;continue}switch(e){case 0:l==="/"?(c&&h(),a()):l===":"?(h(),e=1):f();break;case 4:f(),e=n;break;case 1:l==="("?e=2:pP.test(l)?f():(h(),e=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:e=3:d+=l;break;case 3:h(),e=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,d="";break;default:t("Unknown state");break}}return e===2&&t(`Unfinished custom RegExp for param "${c}"`),h(),a(),i}function gP(s,t,e){const n=dP(mP(s.path),e),i=le(n,{record:s,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function vP(s,t){const e=[],n=new Map;t=Zw({strict:!1,end:!0,sensitive:!1},t);function i(h){return n.get(h)}function r(h,f,p){const m=!p,v=Jw(h);v.aliasOf=p&&p.record;const b=Zw(t,h),y=[v];if("alias"in h){const x=typeof h.alias=="string"?[h.alias]:h.alias;for(const D of x)y.push(Jw(le({},v,{components:p?p.record.components:v.components,path:D,aliasOf:p?p.record:v})))}let E,C;for(const x of y){const{path:D}=x;if(f&&D[0]!=="/"){const M=f.record.path,P=M[M.length-1]==="/"?"":"/";x.path=f.record.path+(D&&P+D)}if(E=gP(x,f,b),p?p.alias.push(E):(C=C||E,C!==E&&C.alias.push(E),m&&h.name&&!Qw(E)&&a(h.name)),BA(E)&&l(E),v.children){const M=v.children;for(let P=0;P<M.length;P++)r(M[P],E,p&&p.children[P])}p=p||E}return C?()=>{a(C)}:bd}function a(h){if(LA(h)){const f=n.get(h);f&&(n.delete(h),e.splice(e.indexOf(f),1),f.children.forEach(a),f.alias.forEach(a))}else{const f=e.indexOf(h);f>-1&&(e.splice(f,1),h.record.name&&n.delete(h.record.name),h.children.forEach(a),h.alias.forEach(a))}}function o(){return e}function l(h){const f=wP(h,e);e.splice(f,0,h),h.record.name&&!Qw(h)&&n.set(h.record.name,h)}function c(h,f){let p,m={},v,b;if("name"in h&&h.name){if(p=n.get(h.name),!p)throw fu(1,{location:h});b=p.record.name,m=le(Xw(f.params,p.keys.filter(C=>!C.optional).concat(p.parent?p.parent.keys.filter(C=>C.optional):[]).map(C=>C.name)),h.params&&Xw(h.params,p.keys.map(C=>C.name))),v=p.stringify(m)}else if(h.path!=null)v=h.path,p=e.find(C=>C.re.test(v)),p&&(m=p.parse(v),b=p.record.name);else{if(p=f.name?n.get(f.name):e.find(C=>C.re.test(f.path)),!p)throw fu(1,{location:h,currentLocation:f});b=p.record.name,m=le({},f.params,h.params),v=p.stringify(m)}const y=[];let E=p;for(;E;)y.unshift(E.record),E=E.parent;return{name:b,path:v,params:m,matched:y,meta:yP(y)}}s.forEach(h=>r(h));function d(){e.length=0,n.clear()}return{addRoute:r,resolve:c,removeRoute:a,clearRoutes:d,getRoutes:o,getRecordMatcher:i}}function Xw(s,t){const e={};for(const n of t)n in s&&(e[n]=s[n]);return e}function Jw(s){const t={path:s.path,redirect:s.redirect,name:s.name,meta:s.meta||{},aliasOf:s.aliasOf,beforeEnter:s.beforeEnter,props:bP(s),children:s.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in s?s.components||null:s.component&&{default:s.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function bP(s){const t={},e=s.props||!1;if("component"in s)t.default=e;else for(const n in s.components)t[n]=typeof e=="object"?e[n]:e;return t}function Qw(s){for(;s;){if(s.record.aliasOf)return!0;s=s.parent}return!1}function yP(s){return s.reduce((t,e)=>le(t,e.meta),{})}function Zw(s,t){const e={};for(const n in s)e[n]=n in t?t[n]:s[n];return e}function wP(s,t){let e=0,n=t.length;for(;e!==n;){const r=e+n>>1;FA(s,t[r])<0?n=r:e=r+1}const i=_P(s);return i&&(n=t.lastIndexOf(i,n-1)),n}function _P(s){let t=s;for(;t=t.parent;)if(BA(t)&&FA(s,t)===0)return t}function BA({record:s}){return!!(s.name||s.components&&Object.keys(s.components).length||s.redirect)}function AP(s){const t={};if(s===""||s==="?")return t;const n=(s[0]==="?"?s.slice(1):s).split("&");for(let i=0;i<n.length;++i){const r=n[i].replace(PA," "),a=r.indexOf("="),o=Rd(a<0?r:r.slice(0,a)),l=a<0?null:Rd(r.slice(a+1));if(o in t){let c=t[o];mi(c)||(c=t[o]=[c]),c.push(l)}else t[o]=l}return t}function t0(s){let t="";for(let e in s){const n=s[e];if(e=jk(e),n==null){n!==void 0&&(t+=(t.length?"&":"")+e);continue}(mi(n)?n.map(r=>r&&sv(r)):[n&&sv(n)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+e,r!=null&&(t+="="+r))})}return t}function SP(s){const t={};for(const e in s){const n=s[e];n!==void 0&&(t[e]=mi(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return t}const HA=Symbol(""),e0=Symbol(""),Rm=Symbol(""),iy=Symbol(""),iv=Symbol("");function Lu(){let s=[];function t(n){return s.push(n),()=>{const i=s.indexOf(n);i>-1&&s.splice(i,1)}}function e(){s=[]}return{add:t,list:()=>s.slice(),reset:e}}function EP(s,t,e){const n=()=>{s[t].delete(e)};Ka(n),X1(n),K1(()=>{s[t].add(e)}),s[t].add(e)}function ry(s){const t=gs(HA,{}).value;t&&EP(t,"updateGuards",s)}function ra(s,t,e,n,i,r=a=>a()){const a=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((o,l)=>{const c=f=>{f===!1?l(fu(4,{from:e,to:t})):f instanceof Error?l(f):lP(f)?l(fu(2,{from:t,to:f})):(a&&n.enterCallbacks[i]===a&&typeof f=="function"&&a.push(f),o())},d=r(()=>s.call(n&&n.instances[i],t,e,c));let h=Promise.resolve(d);s.length<3&&(h=h.then(c)),h.catch(f=>l(f))})}function wg(s,t,e,n,i=r=>r()){const r=[];for(const a of s)for(const o in a.components){let l=a.components[o];if(!(t!=="beforeRouteEnter"&&!a.instances[o]))if(DA(l)){const d=(l.__vccOpts||l)[t];d&&r.push(ra(d,e,n,a,o,i))}else{let c=l();r.push(()=>c.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${o}" at "${a.path}"`);const h=Mk(d)?d.default:d;a.mods[o]=d,a.components[o]=h;const p=(h.__vccOpts||h)[t];return p&&ra(p,e,n,a,o,i)()}))}}return r}function s0(s){const t=gs(Rm),e=gs(iy),n=B(()=>{const l=Q(s.to);return t.resolve(l)}),i=B(()=>{const{matched:l}=n.value,{length:c}=l,d=l[c-1],h=e.matched;if(!d||!h.length)return-1;const f=h.findIndex(hu.bind(null,d));if(f>-1)return f;const p=n0(l[c-2]);return c>1&&n0(d)===p&&h[h.length-1].path!==p?h.findIndex(hu.bind(null,l[c-2])):f}),r=B(()=>i.value>-1&&kP(e.params,n.value.params)),a=B(()=>i.value>-1&&i.value===e.matched.length-1&&IA(e.params,n.value.params));function o(l={}){if(DP(l)){const c=t[Q(s.replace)?"replace":"push"](Q(s.to)).catch(bd);return s.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:B(()=>n.value.href),isActive:r,isExactActive:a,navigate:o}}function xP(s){return s.length===1?s[0]:s}const CP=Qe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:s0,setup(s,{slots:t}){const e=Je(s0(s)),{options:n}=gs(Rm),i=B(()=>({[i0(s.activeClass,n.linkActiveClass,"router-link-active")]:e.isActive,[i0(s.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:e.isExactActive}));return()=>{const r=t.default&&xP(t.default(e));return s.custom?r:sy("a",{"aria-current":e.isExactActive?s.ariaCurrentValue:null,href:e.href,onClick:e.navigate,class:i.value},r)}}}),TP=CP;function DP(s){if(!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)&&!s.defaultPrevented&&!(s.button!==void 0&&s.button!==0)){if(s.currentTarget&&s.currentTarget.getAttribute){const t=s.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return s.preventDefault&&s.preventDefault(),!0}}function kP(s,t){for(const e in t){const n=t[e],i=s[e];if(typeof n=="string"){if(n!==i)return!1}else if(!mi(i)||i.length!==n.length||n.some((r,a)=>r!==i[a]))return!1}return!0}function n0(s){return s?s.aliasOf?s.aliasOf.path:s.path:""}const i0=(s,t,e)=>s??t??e,PP=Qe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(s,{attrs:t,slots:e}){const n=gs(iv),i=B(()=>s.route||n.value),r=gs(e0,0),a=B(()=>{let c=Q(r);const{matched:d}=i.value;let h;for(;(h=d[c])&&!h.components;)c++;return c}),o=B(()=>i.value.matched[a.value]);Ki(e0,B(()=>a.value+1)),Ki(HA,o),Ki(iv,i);const l=vt();return $e(()=>[l.value,o.value,s.name],([c,d,h],[f,p,m])=>{d&&(d.instances[h]=c,p&&p!==d&&c&&c===f&&(d.leaveGuards.size||(d.leaveGuards=p.leaveGuards),d.updateGuards.size||(d.updateGuards=p.updateGuards))),c&&d&&(!p||!hu(d,p)||!f)&&(d.enterCallbacks[h]||[]).forEach(v=>v(c))},{flush:"post"}),()=>{const c=i.value,d=s.name,h=o.value,f=h&&h.components[d];if(!f)return r0(e.default,{Component:f,route:c});const p=h.props[d],m=p?p===!0?c.params:typeof p=="function"?p(c):p:null,b=sy(f,le({},m,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(h.instances[d]=null)},ref:l}));return r0(e.default,{Component:b,route:c})||b}}});function r0(s,t){if(!s)return null;const e=s(t);return e.length===1?e[0]:e}const MP=PP;function RP(s){const t=vP(s.routes,s),e=s.parseQuery||AP,n=s.stringifyQuery||t0,i=s.history,r=Lu(),a=Lu(),o=Lu(),l=RT(Qr);let c=Qr;Fl&&s.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=bg.bind(null,N=>""+N),h=bg.bind(null,Vk),f=bg.bind(null,Rd);function p(N,rt){let ot,gt;return LA(N)?(ot=t.getRecordMatcher(N),gt=rt):gt=N,t.addRoute(gt,ot)}function m(N){const rt=t.getRecordMatcher(N);rt&&t.removeRoute(rt)}function v(){return t.getRoutes().map(N=>N.record)}function b(N){return!!t.getRecordMatcher(N)}function y(N,rt){if(rt=le({},rt||l.value),typeof N=="string"){const T=yg(e,N,rt.path),$=t.resolve({path:T.path},rt),q=i.createHref(T.fullPath);return le(T,$,{params:f($.params),hash:Rd(T.hash),redirectedFrom:void 0,href:q})}let ot;if(N.path!=null)ot=le({},N,{path:yg(e,N.path,rt.path).path});else{const T=le({},N.params);for(const $ in T)T[$]==null&&delete T[$];ot=le({},N,{params:h(T)}),rt.params=h(rt.params)}const gt=t.resolve(ot,rt),Nt=N.hash||"";gt.params=d(f(gt.params));const V=zk(n,le({},N,{hash:Uk(Nt),path:gt.path})),_=i.createHref(V);return le({fullPath:V,hash:Nt,query:n===t0?SP(N.query):N.query||{}},gt,{redirectedFrom:void 0,href:_})}function E(N){return typeof N=="string"?yg(e,N,l.value.path):le({},N)}function C(N,rt){if(c!==N)return fu(8,{from:rt,to:N})}function x(N){return P(N)}function D(N){return x(le(E(N),{replace:!0}))}function M(N){const rt=N.matched[N.matched.length-1];if(rt&&rt.redirect){const{redirect:ot}=rt;let gt=typeof ot=="function"?ot(N):ot;return typeof gt=="string"&&(gt=gt.includes("?")||gt.includes("#")?gt=E(gt):{path:gt},gt.params={}),le({query:N.query,hash:N.hash,params:gt.path!=null?{}:N.params},gt)}}function P(N,rt){const ot=c=y(N),gt=l.value,Nt=N.state,V=N.force,_=N.replace===!0,T=M(ot);if(T)return P(le(E(T),{state:typeof T=="object"?le({},Nt,T.state):Nt,force:V,replace:_}),rt||ot);const $=ot;$.redirectedFrom=rt;let q;return!V&&Gk(n,gt,ot)&&(q=fu(16,{to:$,from:gt}),At(gt,gt,!0,!1)),(q?Promise.resolve(q):Z($,gt)).catch(I=>rr(I)?rr(I,2)?I:W(I):nt(I,$,gt)).then(I=>{if(I){if(rr(I,2))return P(le({replace:_},E(I.to),{state:typeof I.to=="object"?le({},Nt,I.to.state):Nt,force:V}),rt||$)}else I=L($,gt,!0,_,Nt);return Y($,gt,I),I})}function H(N,rt){const ot=C(N,rt);return ot?Promise.reject(ot):Promise.resolve()}function F(N){const rt=It.values().next().value;return rt&&typeof rt.runWithContext=="function"?rt.runWithContext(N):N()}function Z(N,rt){let ot;const[gt,Nt,V]=OP(N,rt);ot=wg(gt.reverse(),"beforeRouteLeave",N,rt);for(const T of gt)T.leaveGuards.forEach($=>{ot.push(ra($,N,rt))});const _=H.bind(null,N,rt);return ot.push(_),Rt(ot).then(()=>{ot=[];for(const T of r.list())ot.push(ra(T,N,rt));return ot.push(_),Rt(ot)}).then(()=>{ot=wg(Nt,"beforeRouteUpdate",N,rt);for(const T of Nt)T.updateGuards.forEach($=>{ot.push(ra($,N,rt))});return ot.push(_),Rt(ot)}).then(()=>{ot=[];for(const T of V)if(T.beforeEnter)if(mi(T.beforeEnter))for(const $ of T.beforeEnter)ot.push(ra($,N,rt));else ot.push(ra(T.beforeEnter,N,rt));return ot.push(_),Rt(ot)}).then(()=>(N.matched.forEach(T=>T.enterCallbacks={}),ot=wg(V,"beforeRouteEnter",N,rt,F),ot.push(_),Rt(ot))).then(()=>{ot=[];for(const T of a.list())ot.push(ra(T,N,rt));return ot.push(_),Rt(ot)}).catch(T=>rr(T,8)?T:Promise.reject(T))}function Y(N,rt,ot){o.list().forEach(gt=>F(()=>gt(N,rt,ot)))}function L(N,rt,ot,gt,Nt){const V=C(N,rt);if(V)return V;const _=rt===Qr,T=Fl?history.state:{};ot&&(gt||_?i.replace(N.fullPath,le({scroll:_&&T&&T.scroll},Nt)):i.push(N.fullPath,Nt)),l.value=N,At(N,rt,ot,_),W()}let K;function lt(){K||(K=i.listen((N,rt,ot)=>{if(!Qt.listening)return;const gt=y(N),Nt=M(gt);if(Nt){P(le(Nt,{replace:!0,force:!0}),gt).catch(bd);return}c=gt;const V=l.value;Fl&&sP(Ww(V.fullPath,ot.delta),Mm()),Z(gt,V).catch(_=>rr(_,12)?_:rr(_,2)?(P(le(E(_.to),{force:!0}),gt).then(T=>{rr(T,20)&&!ot.delta&&ot.type===Od.pop&&i.go(-1,!1)}).catch(bd),Promise.reject()):(ot.delta&&i.go(-ot.delta,!1),nt(_,gt,V))).then(_=>{_=_||L(gt,V,!1),_&&(ot.delta&&!rr(_,8)?i.go(-ot.delta,!1):ot.type===Od.pop&&rr(_,20)&&i.go(-1,!1)),Y(gt,V,_)}).catch(bd)}))}let dt=Lu(),ut=Lu(),X;function nt(N,rt,ot){W(N);const gt=ut.list();return gt.length?gt.forEach(Nt=>Nt(N,rt,ot)):console.error(N),Promise.reject(N)}function pt(){return X&&l.value!==Qr?Promise.resolve():new Promise((N,rt)=>{dt.add([N,rt])})}function W(N){return X||(X=!N,lt(),dt.list().forEach(([rt,ot])=>N?ot(N):rt()),dt.reset()),N}function At(N,rt,ot,gt){const{scrollBehavior:Nt}=s;if(!Fl||!Nt)return Promise.resolve();const V=!ot&&nP(Ww(N.fullPath,0))||(gt||!ot)&&history.state&&history.state.scroll||null;return La().then(()=>Nt(N,rt,V)).then(_=>_&&eP(_)).catch(_=>nt(_,N,rt))}const ct=N=>i.go(N);let Mt;const It=new Set,Qt={currentRoute:l,listening:!0,addRoute:p,removeRoute:m,clearRoutes:t.clearRoutes,hasRoute:b,getRoutes:v,resolve:y,options:s,push:x,replace:D,go:ct,back:()=>ct(-1),forward:()=>ct(1),beforeEach:r.add,beforeResolve:a.add,afterEach:o.add,onError:ut.add,isReady:pt,install(N){const rt=this;N.component("RouterLink",TP),N.component("RouterView",MP),N.config.globalProperties.$router=rt,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>Q(l)}),Fl&&!Mt&&l.value===Qr&&(Mt=!0,x(i.location).catch(Nt=>{}));const ot={};for(const Nt in Qr)Object.defineProperty(ot,Nt,{get:()=>l.value[Nt],enumerable:!0});N.provide(Rm,rt),N.provide(iy,R1(ot)),N.provide(iv,l);const gt=N.unmount;It.add(N),N.unmount=function(){It.delete(N),It.size<1&&(c=Qr,K&&K(),K=null,l.value=Qr,Mt=!1,X=!1),gt()}}};function Rt(N){return N.reduce((rt,ot)=>rt.then(()=>F(ot)),Promise.resolve())}return Qt}function OP(s,t){const e=[],n=[],i=[],r=Math.max(t.matched.length,s.matched.length);for(let a=0;a<r;a++){const o=t.matched[a];o&&(s.matched.find(c=>hu(c,o))?n.push(o):e.push(o));const l=s.matched[a];l&&(t.matched.find(c=>hu(c,l))||i.push(l))}return[e,n,i]}function ay(){return gs(Rm)}function df(s){return gs(iy)}const UA="/Web_Hamorny_Charity_Travel/assets/logo-z1qvNB3p.png",IP={class:"navigate"},$P={class:"navbar navbar-expand-xl bg-light",id:"navbar"},LP={class:"navbar-brand mx-0 col-2 d-flex justify-content-center"},NP={class:"collapse navbar-collapse row row-cols-2",id:"nav"},FP={class:"navbar-nav col-8"},BP={class:"navbar-nav nav-pills nav-left"},HP={class:"nav-item"},UP={class:"nav-item"},jP={class:"nav-item"},YP={class:"nav-item"},VP={class:"nav-item text-center"},WP={class:"account col-4 order-0 d-flex justify-content-end align-items-center"},qP={class:"text-center mx-2"},zP=["src"],GP={key:0},KP={class:"card",style:{width:"18rem"}},XP=["src"],JP={class:"card-body text-center"},QP={class:"card-title"},ZP={class:"card-text"},tM={__name:"Navigate",setup(s){const t=ay(),e=Je({email:"",name:"",image_avatar:""}),n=vt(!1),i=vt(!1),r=()=>{n.value?i.value=!i.value:window.location.href="/sign_in_and_out"},a=()=>{confirm("Are you sure you want to log out?")&&(console.log("Đăng xuất"),localStorage.removeItem("user"),localStorage.removeItem("authToken"),i.value=!1,alert("log out successfull"),o(),t.push("/"))},o=()=>{const l=JSON.parse(localStorage.getItem("user"));l?(n.value=!0,e.email=l.Email,e.name=l.FullName,e.image_avatar=l.AvatarUrl):(n.value=!1,e.email="",e.name="",e.image_avatar="")};return ls(()=>{const l=document.querySelector(".navbar-toggler"),c=document.querySelector("#navbar");l.addEventListener("click",()=>{c.classList.toggle("active")}),o()}),ry((l,c,d)=>{o(),d()}),(l,c)=>{const d=as("router-link");return R(),O("div",IP,[g("div",$P,[g("div",LP,[G(d,{to:"/",class:"image-container"},{default:ie(()=>c[0]||(c[0]=[g("img",{src:UA,alt:"Logo",class:"logo-img"},null,-1)])),_:1})]),c[6]||(c[6]=g("button",{class:"navbar-toggler","data-bs-toggle":"collapse","data-bs-target":"#nav","aria-controls":"nav","aria-expanded":"false","aria-label":"Toggle navigation"},[g("span",{class:"navbar-toggler-icon"})],-1)),g("div",NP,[g("div",FP,[g("ul",BP,[g("li",HP,[G(d,{to:"/",class:"nav-link text-center","active-class":"active"},{default:ie(()=>c[1]||(c[1]=[Jt("Home")])),_:1})]),g("li",UP,[G(d,{to:"/About",class:"nav-link text-center","active-class":"active"},{default:ie(()=>c[2]||(c[2]=[Jt("About Us")])),_:1})]),g("li",jP,[G(d,{to:"/Blog",class:"nav-link text-center","active-class":"active"},{default:ie(()=>c[3]||(c[3]=[Jt("Blogs")])),_:1})]),g("li",YP,[G(d,{to:"/Ebook",class:"nav-link text-center","active-class":"active"},{default:ie(()=>c[4]||(c[4]=[Jt("Ebooks")])),_:1})]),g("li",VP,[G(d,{to:"/OrderHistory",class:"store mx-4 text-center text-primary"},{default:ie(()=>c[5]||(c[5]=[g("i",{class:"bx bxs-store bx-tada bx-flip-horizontal fs-1"},null,-1)])),_:1})])])]),g("div",WP,[g("div",qP,[g("div",null,[g("img",{class:"avatar router-link-hover",src:e.image_avatar||"https://i.pinimg.com/236x/2f/15/f2/2f15f2e8c688b3120d3d26467b06330c.jpg",alt:"Avatar",style:{width:"55px",height:"55px"},onClick:r},null,8,zP)]),i.value?(R(),O("div",GP,[g("div",KP,[g("img",{src:e.image_avatar||"https://i.pinimg.com/236x/2f/15/f2/2f15f2e8c688b3120d3d26467b06330c.jpg",class:"card-img-top rounded-circle",alt:"User Avatar"},null,8,XP),g("div",JP,[g("h5",QP,U(e.name),1),g("p",ZP,U(e.email),1),g("button",{onClick:a,class:"btn btn-danger"}," Đăng xuất ")])])])):Ot("",!0)])])])])])}}},zr=re(tM,[["__scopeId","data-v-88271a34"]]),eM={class:"nameandslogan d-flex flex-column align-items-center fs-1"},Tl={__name:"HeroSection",props:{image:{type:String,required:!0},p1:{type:String,required:!0},p2:{type:String,required:!0}},setup(s){return(t,e)=>(R(),O("section",{class:"d-flex align-items-center justify-content-center",style:ui({backgroundImage:`url(${s.image})`,backgroundRepeat:"no-repeat"})},[g("div",eM,[g("p",null,U(s.p1),1),g("p",null,U(s.p2),1)])],4))}},sM={class:"card custom-card"},nM=["src"],iM={class:"card-body"},rM={class:"card-title"},aM={class:"card-text",id:"discription"},oM={__name:"Card",props:{title:{type:String,required:!0},description:{type:String,required:!0},image:{type:String,required:!0},buttonText:{type:String,required:!0},buttonLink:{type:String,required:!0}},setup(s){return(t,e)=>{const n=as("router-link");return R(),O("div",sM,[g("img",{src:s.image,class:"card-img-top",alt:"Card image"},null,8,nM),g("div",iM,[g("h5",rM,U(s.title),1),g("p",aM,U(s.description),1),G(n,{to:s.buttonLink,class:"btn btn-primary"},{default:ie(()=>[Jt(U(s.buttonText),1)]),_:1},8,["to"])])])}}},_g=re(oM,[["__scopeId","data-v-e628cd0b"]]),lM={class:"cardslayout container text-center justify-content-center"},cM={class:"cards row justify-content-center"},uM={__name:"CardsLayout",setup(s){return(t,e)=>(R(),O("div",lM,[g("div",cM,[G(_g,{title:"Local Guides",description:"Discover your destination with our experienced local guides. We connect you with experts who know the hidden gems, culture, and history of the area. Let us make your journey more authentic and meaningful!?",image:"https://i.pinimg.com/736x/ce/b7/77/ceb77763743d02ed0b8f2970fd807466.jpg",buttonLink:"/About",buttonText:"Meet The Team"}),G(_g,{title:"Unique Accommodation",description:"Our team is made up of passionate travelers and dedicated professionals. From tour organizers to enthusiastic guides, we’re here to ensure your trip is unforgettable. Get to know the people behind your adventure!",image:"https://i.pinimg.com/736x/be/45/d0/be45d0b0c9cef355b656923698219aeb.jpg",buttonLink:"/About",buttonText:"Where we stay"}),G(_g,{title:"Giving Back Projects",description:"Travel with a purpose. Our initiatives support local communities through education, conservation, and sustainable development. Join us in making a positive impact wherever we go.",image:"https://i.pinimg.com/736x/56/54/89/5654899f3c367d70e82b25e42f306a07.jpg",buttonLink:"/Ebook",buttonText:"Charity Project"})]),e[0]||(e[0]=g("iframe",{style:{"border-radius":"10px"},class:"embed-responsive-item video",id:"myVideo",src:"https://www.youtube.com/embed/NSnkb1IAjbE?autoplay=1&mute=1",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""},null,-1))]))}},dM=re(uM,[["__scopeId","data-v-0eed6f1a"]]),hM={};function fM(s,t){return R(),O("footer",null,t[0]||(t[0]=[Ha('<div class="content d-flex flex-column justify-content-center align-items-center text-center" data-v-58af24b0><img src="'+UA+'" alt="Logo" class="logo" data-v-58af24b0><div class="line" data-v-58af24b0></div><h1 style="font-size:30px;" data-v-58af24b0>Join the community!</h1><div style="width:200px;" data-v-58af24b0> Lorem ipsum dolor sit amet, consectetur adipiscing elit. </div></div><div class="social d-flex flex-column justify-content-center align-items-center" data-v-58af24b0><div class="container" data-v-58af24b0><div class="row justify-content-center flex-column flex-xl-row m-2" data-v-58af24b0><a class="sol facebook col-12 col-xl-2 text-center" data-v-58af24b0><i class="fa-brands fa-facebook" data-v-58af24b0></i></a><a class="sol tiktok col-12 col-xl-2 text-center" data-v-58af24b0><i class="fa-brands fa-tiktok" data-v-58af24b0></i></a><a class="sol ins col-12 col-xl-2 text-center" data-v-58af24b0><i class="fa-brands fa-square-instagram" data-v-58af24b0></i></a><a class="sol youtobe col-12 col-xl-2 text-center" data-v-58af24b0><i class="fa-brands fa-youtube" data-v-58af24b0></i></a><a class="sol telegram col-12 col-xl-2 text-center" data-v-58af24b0><i class="fa-brands fa-telegram" data-v-58af24b0></i></a></div></div><div class="line" data-v-58af24b0></div><div class="mb-3" data-v-58af24b0>@2024 by Hurminity Charity Travel</div></div>',2)]))}const Gr=re(hM,[["render",fM],["__scopeId","data-v-58af24b0"]]),pM={data(){return{feedbacks:[{image:"https://i.pinimg.com/474x/ed/b6/f1/edb6f1266815a40877fc64b59d5d7f8a.jpg",name:"John Doe",text:"This is an awesome service! The team went above and beyond to make our trip unforgettable. Their attention to detail and local expertise made every moment special. I can not recommend them enough!"},{image:"https://i.pinimg.com/474x/c9/d6/cb/c9d6cb15d77253cfdc6e7330a5f016a3.jpg",name:"Asa Walter",text:"They completely transformed our corporate retreat! From seamless logistics to unique local experiences, every aspect was perfectly curated. Our team came back inspired and reconnected."},{image:"https://i.pinimg.com/736x/95/2a/d1/952ad13f74d994f086552050ebc2432d.jpg",name:"Zahid Miles",text:"Loved working with them! Their guides felt like friends showing us their hometown. We discovered hidden cafes, secret viewpoints, and cultural gems we'd never find on our own."},{image:"https://i.pinimg.com/474x/83/28/59/8328593d9642ca303f78c6c5fa4d6eca.jpg",name:"Casper Leigh",text:"I will continue using their services for all my travels. The personalized itineraries and 24/7 support give me peace of mind while exploring new destinations. Truly exceptional!"}],size:3}},methods:{updateSize(){this.size=window.innerWidth<768?1:3}},computed:{groupedFeedbacks(){return window.addEventListener("resize",this.updateSize),this.feedbacks.reduce((s,t,e)=>{const n=Math.floor(e/this.size);return s[n]||(s[n]=[]),s[n].push(t),s},[])}}},mM={id:"carouselExample",class:"carousel slide","data-bs-ride":"carousel","data-bs-interval":"3000"},gM={class:"carousel-inner"},vM={class:"row justify-content-center"},bM={class:"feedback-card text-center"},yM=["src"],wM={class:"mt-3"},_M={class:"blockquote fst-italic mt-2"};function AM(s,t,e,n,i,r){return R(),O("div",mM,[g("div",gM,[(R(!0),O(Et,null,Wt(r.groupedFeedbacks,(a,o)=>(R(),O("div",{class:Ft(["carousel-item",{active:o===0}]),key:o},[g("div",vM,[(R(!0),O(Et,null,Wt(a,(l,c)=>(R(),O("div",{class:"col-md-4",key:`group-${o}-feedback-${c}`},[g("div",bM,[g("img",{src:l.image,alt:"Client",class:"client-image mx-auto"},null,8,yM),g("h3",wM,U(l.name),1),g("blockquote",_M,U(l.text),1)])]))),128))])],2))),128))]),t[0]||(t[0]=Ha('<button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev" data-v-ebd9d3cf><span class="carousel-control-prev-icon" aria-hidden="true" data-v-ebd9d3cf></span><span class="visually-hidden" data-v-ebd9d3cf>Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next" data-v-ebd9d3cf><span class="carousel-control-next-icon" aria-hidden="true" data-v-ebd9d3cf></span><span class="visually-hidden" data-v-ebd9d3cf>Next</span></button>',2))])}const SM=re(pM,[["render",AM],["__scopeId","data-v-ebd9d3cf"]]),EM={class:"container-fluid"},xM={__name:"Feedback",setup(s){return(t,e)=>(R(),O("div",null,[e[0]||(e[0]=Ha('<div class="feedback d-flex flex-column align-items-center justify-content-center" data-v-6845d837><h1 data-v-6845d837>WHAT OUR TRAVELERS SAY</h1><div class="stars row justify-content-center" data-v-6845d837><i class="fa-solid fa-star col-1" data-v-6845d837></i><i class="fa-solid fa-star col-1" data-v-6845d837></i><i class="fa-solid fa-star col-1" data-v-6845d837></i><i class="fa-solid fa-star col-1" data-v-6845d837></i><i class="fa-solid fa-star col-1" data-v-6845d837></i></div><a href="/" data-v-6845d837>READ OUR REVIEW ON FACEBOOK</a></div>',1)),g("div",EM,[G(SM)])]))}},CM=re(xM,[["__scopeId","data-v-6845d837"]]),TM={name:"SubscriptionComponent"},DM={class:"subscription-component text-center"};function kM(s,t,e,n,i,r){return R(),O("div",DM,t[0]||(t[0]=[Ha('<h3 class="mb-4" data-v-00b21a40>We also travel to inboxes</h3><form class="d-flex justify-content-center align-items-center gap-2" data-v-00b21a40><input type="email" class="form-control w-50" placeholder="Your email..." required data-v-00b21a40><button type="submit" class="btn btn-dark px-4" data-v-00b21a40> Subscribe </button></form><p class="text-muted mt-3 small" style="max-width:600px;margin:auto;" data-v-00b21a40> By entering your email, you agree to receive offers and trip updates via email and text message from Way To Travel, and you understand that consent to receive marketing messages is not a condition of purchase. You can unsubscribe at any time. </p>',3)]))}const PM=re(TM,[["render",kM],["__scopeId","data-v-00b21a40"]]),MM={class:"body"},RM={__name:"Home",setup(s){return(t,e)=>(R(),O("div",MM,[g("header",null,[G(zr,{class:"navigate"}),G(Tl,{image:"https://media.istockphoto.com/id/488876192/vi/anh/hoi-an-vietnam.jpg?s=2048x2048&w=is&k=20&c=i9PyzEChi5gMuB4Jf1HAzOmdEmY28_Bo3aBVx0tJb3Q=",p1:"HARMONY CHARITY TRAVEL",p2:"VOLUNTEER & CULTURE"})]),g("main",null,[G(dM),G(CM),G(PM),G(Gr)])]))}},OM={data(){return{form:{name:"",email:""}}},methods:{submitForm(){console.log("Form submitted",this.form)}}},IM={class:"container-fluid"},$M={class:"row"},LM={class:"col-md-6 text-white p-5 d-flex flex-column justify-content-center right-section"},NM={class:"mb-3"},FM={class:"mb-3"};function BM(s,t,e,n,i,r){return R(),O("div",IM,[g("div",$M,[t[7]||(t[7]=Ha('<div class="col-md-6 bg-dark text-white p-5" data-v-959167a3><div class="row" data-v-959167a3><img src="https://i.pinimg.com/736x/78/05/c6/7805c6c344db3a56abd1468be04f3044.jpg" alt="" class="col-6" data-v-959167a3><div class="col-6" data-v-959167a3><h3 data-v-959167a3>Da Nang Is Your Home</h3><p data-v-959167a3> Lorem ipsum dolor sit amet consectetur adipisicing elit. Delectus aliquid, doloribus fugit eaque doloremque iure minima officiis animi asperiores alias nesciunt explicabo, quae, minus suscipit exercitationem tempore ipsa cum natus. Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis, nisi. Veniam suscipit vitae nihil. Modi adipisci reiciendis corrupti, libero cumque reprehenderit similique, sapiente quas debitis vitae consequatur dignissimos, tempora velit? </p></div></div><div class="info" data-v-959167a3><a href="#" class="text-white me-2" data-v-959167a3><i class="fab fa-facebook-f" data-v-959167a3></i></a><a href="#" class="text-white me-2" data-v-959167a3><i class="fab fa-twitter" data-v-959167a3></i></a><a href="#" class="text-white me-2" data-v-959167a3><i class="fab fa-instagram" data-v-959167a3></i></a></div></div>',1)),g("div",LM,[t[6]||(t[6]=g("h4",null,"Enter your information to get ebook",-1)),g("form",{onSubmit:t[2]||(t[2]=hi((...a)=>r.submitForm&&r.submitForm(...a),["prevent"]))},[g("div",NM,[t[3]||(t[3]=g("label",{for:"name",class:"form-label"},"Full Name",-1)),ee(g("input",{type:"text",id:"name",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=a=>i.form.name=a),required:""},null,512),[[pe,i.form.name]])]),g("div",FM,[t[4]||(t[4]=g("label",{for:"email",class:"form-label"},"Email",-1)),ee(g("input",{type:"email",id:"email",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=a=>i.form.email=a),required:""},null,512),[[pe,i.form.email]])]),t[5]||(t[5]=g("button",{type:"submit",class:"btn btn-light"},"Submit",-1))],32)])])])}const HM=re(OM,[["render",BM],["__scopeId","data-v-959167a3"]]),UM={class:"body"},jM={class:"container"},YM={__name:"Ebook",setup(s){return(t,e)=>(R(),O("div",UM,[g("header",null,[G(zr),G(Tl,{image:"https://media.istockphoto.com/id/1154241782/vi/anh/ph%E1%BB%91-c%E1%BB%95-h%E1%BB%99i-an-v%C3%A0o-bu%E1%BB%95i-s%C3%A1ng.jpg?s=2048x2048&w=is&k=20&c=W77qSC4nfw_c0xGXhV8y3tfA2raTwsklv9rZEbj9Heg="}),e[0]||(e[0]=g("div",{class:"welcome"},[g("h1",null,"Stop Sabotaging Your Own Success: Discover the 6 Red Flags Holding You Back from a Fulfilling Life!"),g("h3",null,"Uncover the Hidden Obstacles Blocking Your Success and Learn How to Realign Your Life with Clarity, Purpose, and Fulfillment—Before It's Too Late.")],-1))]),g("main",null,[e[1]||(e[1]=g("div",{class:"container"},[g("div",{class:"row"},[g("h1",{class:"text-center"},"Lorem ipsum dolor sit amet consectetur adipisicing elit. Assumenda, veniam dolorum."),g("p",null,"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Autem eius doloremque deserunt velit soluta, reprehenderit, doloribus assumenda natus recusandae illo quis magnam aliquid, id est cupiditate vel maiores ipsum sapiente?")])],-1)),g("div",jM,[G(HM)]),G(Gr)])]))}},VM=re(YM,[["__scopeId","data-v-13b0a2c9"]]),WM={},qM={class:"mission_vision d-flex"};function zM(s,t){return R(),O("div",qM,t[0]||(t[0]=[g("div",{class:"mission"},[g("h2",{class:"text-center"},"Mission"),g("p",null," Lorem, ipsum dolor sit amet consectetur adipisicing elit. Incidunt, illo. Iure delectus officiis voluptate perferendis sint vel voluptas suscipit expedita provident asperiores, unde odio rem eum sit similique? Labore vero dolor nemo ut magni consequuntur quaerat laudantium ab? Molestias illum amet nihil obcaecati aliquam laboriosam ipsam accusamus nam assumenda possimus praesentium esse sunt ex aut eos dolorum magni eligendi ipsum est porro accusantium numquam, neque officia. Voluptatibus deleniti, at nisi obcaecati architecto dolorum laboriosam consectetur ea minus id repudiandae vero natus fuga esse recusandae illo doloribus non soluta rem distinctio eius quae deserunt? Deleniti similique quaerat, assumenda qui consectetur culpa. ")],-1),g("div",{class:"vision"},[g("h2",{class:"text-center"},"Vision"),g("p",null," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatum deleniti recusandae cupiditate facilis tenetur quisquam, dicta porro dolorem adipisci voluptates excepturi nam consectetur? Quam pariatur quasi rem facilis, error facere perspiciatis laborum qui amet nobis similique modi illum impedit repellendus eveniet officiis adipisci aut iste quidem non, rerum iusto id? Alias, sequi suscipit. Mollitia eos temporibus sed odio porro magnam similique voluptatibus dolorum laudantium debitis eveniet repellat, sequi accusamus exercitationem nihil, recusandae dolorem tempore expedita incidunt nobis consectetur. Veritatis ipsum nostrum quisquam. Ex perferendis itaque quis quos sed praesentium consequuntur ipsum doloremque. Laboriosam sunt obcaecati iste sequi modi quaerat delectus. ")],-1)]))}const GM=re(WM,[["render",zM],["__scopeId","data-v-f8cc9c3d"]]),KM={class:"card custom-card d-flex justify-content-center align-items-center"},XM=["src"],JM={class:"card-body text-center"},QM={class:"card-title"},ZM={style:{"font-size":"18px"}},tR={class:"card-text",id:"discription"},eR={class:"social row justify-content-center align-items-center"},sR=["href"],nR=["href"],iR=["href"],rR={__name:"Card_member",props:{facebook:{type:String,default:"#"},telegram:{type:String,default:"#"},linked:{type:String,default:"#"},position:{type:String,required:!0},name:{type:String,required:!0},description:{type:String,required:!0},image:{type:String,required:!0}},setup(s){return(t,e)=>(R(),O("div",KM,[g("img",{src:s.image,class:"card-img-top",alt:"Card image"},null,8,XM),g("div",JM,[g("h5",QM,U(s.position),1),g("div",ZM,U(s.name),1),g("p",tR,U(s.description),1),g("div",eR,[g("a",{href:s.facebook,class:"col-1"},e[0]||(e[0]=[g("i",{class:"fa-brands fa-facebook"},null,-1)]),8,sR),g("a",{href:s.telegram,class:"col-1"},e[1]||(e[1]=[g("i",{class:"fa-brands fa-telegram"},null,-1)]),8,nR),g("a",{href:s.linked,class:"col-1"},e[2]||(e[2]=[g("i",{class:"fa-brands fa-linkedin"},null,-1)]),8,iR)])])]))}},Ag=re(rR,[["__scopeId","data-v-63ba7d8d"]]),aR={class:"theteam"},oR={class:"row justify-content-center"},lR={__name:"TheTeam",setup(s){return(t,e)=>(R(),O("div",aR,[e[0]||(e[0]=g("h1",{class:"text-center my-3"},"Meet The Team",-1)),g("div",oR,[G(Ag,{position:"Local Guides",name:"Võ Thị XX",description:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Dolorum delectus amet ducimus unde labore eaque quas quam asperiores sunt, ea, et minus eligendi?",image:"https://i.pinimg.com/736x/c4/5a/d9/c45ad9b8f4730fba4038caf7445b0f62.jpg",buttonText:"Meet The Team"}),G(Ag,{position:"Local Guides",name:"Trần Thị Y",description:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Dolorum delectus amet ducimus unde labore eaque quas quam asperiores sunt, ea, et minus eligendi?",image:"https://i.pinimg.com/736x/47/e6/22/47e622527d9c7213d2b0d1fe7f447c6f.jpg",buttonText:"Meet The Team"}),G(Ag,{position:"Local Guides",name:"Châu văn B",description:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Dolorum delectus amet ducimus unde labore eaque quas quam asperiores sunt, ea, et minus eligendi?",image:"https://i.pinimg.com/736x/dc/5f/2f/dc5f2fb25d21ef45b5745b6e215eaee8.jpg",buttonText:"Meet The Team"})])]))}},cR={},uR={class:"core_value"};function dR(s,t){return R(),O("div",uR,t[0]||(t[0]=[g("div",{class:"core"},[g("h2",null,"Core Value"),g("p",null," Lorem, ipsum dolor sit amet consectetur adipisicing elit. Incidunt, illo. Iure delectus officiis voluptate perferendis sint vel voluptas suscipit expedita provident asperiores, unde odio rem eum sit similique? Labore vero dolor nemo ut magni consequuntur quaerat laudantium ab? Molestias illum amet nihil obcaecati aliquam laboriosam ipsam accusamus nam assumenda possimus praesentium esse sunt ex aut eos dolorum magni eligendi ipsum est porro accusantium numquam, neque officia. Voluptatibus deleniti, at nisi obcaecati architecto dolorum laboriosam consectetur ea minus id repudiandae vero natus fuga esse recusandae illo doloribus non soluta rem distinctio eius quae deserunt? Deleniti similique quaerat, assumenda qui consectetur culpa. ")],-1)]))}const hR=re(cR,[["render",dR],["__scopeId","data-v-03d12639"]]),fR={class:"body"},pR={class:"heroimage"},mR={__name:"About",setup(s){return(t,e)=>(R(),O("div",fR,[g("header",null,[G(zr),g("div",pR,[e[0]||(e[0]=Ha('<div class="custom-shape-divider-bottom-1734586163" data-v-071176f7><svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none" data-v-071176f7><path d="M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z" opacity=".25" class="shape-fill" data-v-071176f7></path><path d="M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z" opacity=".5" class="shape-fill" data-v-071176f7></path><path d="M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z" class="shape-fill" data-v-071176f7></path></svg></div>',1)),G(Tl,{image:"https://media.istockphoto.com/id/1154241782/vi/anh/ph%E1%BB%91-c%E1%BB%95-h%E1%BB%99i-an-v%C3%A0o-bu%E1%BB%95i-s%C3%A1ng.jpg?s=2048x2048&w=is&k=20&c=W77qSC4nfw_c0xGXhV8y3tfA2raTwsklv9rZEbj9Heg=",p1:"About Us"})]),e[1]||(e[1]=g("div",{class:"content text-center"}," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eius sapiente in error, animi nostrum ut suscipit corrupti voluptas, doloribus facilis et illo assumenda est alias autem! Iure nostrum dolores asperiores? ",-1))]),g("main",null,[G(GM),G(hR),G(lR),e[2]||(e[2]=g("div",{class:"d-flex justify-content-center"},[g("iframe",{style:{"border-radius":"10px"},class:"embed-responsive-item video",id:"myVideo",src:"https://www.youtube.com/embed/NSnkb1IAjbE?autoplay=1&mute=1",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""})],-1)),G(Gr)])]))}},gR=re(mR,[["__scopeId","data-v-071176f7"]]),vR={},bR={class:"project"};function yR(s,t){return R(),O("div",bR,t[0]||(t[0]=[g("h2",null,"Our project",-1),g("div",null,null,-1)]))}const wR=re(vR,[["render",yR]]);function jA(s,t){return function(){return s.apply(t,arguments)}}const{toString:_R}=Object.prototype,{getPrototypeOf:oy}=Object,Om=(s=>t=>{const e=_R.call(t);return s[e]||(s[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),bi=s=>(s=s.toLowerCase(),t=>Om(t)===s),Im=s=>t=>typeof t===s,{isArray:Au}=Array,Id=Im("undefined");function AR(s){return s!==null&&!Id(s)&&s.constructor!==null&&!Id(s.constructor)&&_n(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const YA=bi("ArrayBuffer");function SR(s){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(s):t=s&&s.buffer&&YA(s.buffer),t}const ER=Im("string"),_n=Im("function"),VA=Im("number"),$m=s=>s!==null&&typeof s=="object",xR=s=>s===!0||s===!1,jf=s=>{if(Om(s)!=="object")return!1;const t=oy(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},CR=bi("Date"),TR=bi("File"),DR=bi("Blob"),kR=bi("FileList"),PR=s=>$m(s)&&_n(s.pipe),MR=s=>{let t;return s&&(typeof FormData=="function"&&s instanceof FormData||_n(s.append)&&((t=Om(s))==="formdata"||t==="object"&&_n(s.toString)&&s.toString()==="[object FormData]"))},RR=bi("URLSearchParams"),[OR,IR,$R,LR]=["ReadableStream","Request","Response","Headers"].map(bi),NR=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hf(s,t,{allOwnKeys:e=!1}={}){if(s===null||typeof s>"u")return;let n,i;if(typeof s!="object"&&(s=[s]),Au(s))for(n=0,i=s.length;n<i;n++)t.call(null,s[n],n,s);else{const r=e?Object.getOwnPropertyNames(s):Object.keys(s),a=r.length;let o;for(n=0;n<a;n++)o=r[n],t.call(null,s[o],o,s)}}function WA(s,t){t=t.toLowerCase();const e=Object.keys(s);let n=e.length,i;for(;n-- >0;)if(i=e[n],t===i.toLowerCase())return i;return null}const mo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qA=s=>!Id(s)&&s!==mo;function rv(){const{caseless:s}=qA(this)&&this||{},t={},e=(n,i)=>{const r=s&&WA(t,i)||i;jf(t[r])&&jf(n)?t[r]=rv(t[r],n):jf(n)?t[r]=rv({},n):Au(n)?t[r]=n.slice():t[r]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&hf(arguments[n],e);return t}const FR=(s,t,e,{allOwnKeys:n}={})=>(hf(t,(i,r)=>{e&&_n(i)?s[r]=jA(i,e):s[r]=i},{allOwnKeys:n}),s),BR=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),HR=(s,t,e,n)=>{s.prototype=Object.create(t.prototype,n),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:t.prototype}),e&&Object.assign(s.prototype,e)},UR=(s,t,e,n)=>{let i,r,a;const o={};if(t=t||{},s==null)return t;do{for(i=Object.getOwnPropertyNames(s),r=i.length;r-- >0;)a=i[r],(!n||n(a,s,t))&&!o[a]&&(t[a]=s[a],o[a]=!0);s=e!==!1&&oy(s)}while(s&&(!e||e(s,t))&&s!==Object.prototype);return t},jR=(s,t,e)=>{s=String(s),(e===void 0||e>s.length)&&(e=s.length),e-=t.length;const n=s.indexOf(t,e);return n!==-1&&n===e},YR=s=>{if(!s)return null;if(Au(s))return s;let t=s.length;if(!VA(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=s[t];return e},VR=(s=>t=>s&&t instanceof s)(typeof Uint8Array<"u"&&oy(Uint8Array)),WR=(s,t)=>{const n=(s&&s[Symbol.iterator]).call(s);let i;for(;(i=n.next())&&!i.done;){const r=i.value;t.call(s,r[0],r[1])}},qR=(s,t)=>{let e;const n=[];for(;(e=s.exec(t))!==null;)n.push(e);return n},zR=bi("HTMLFormElement"),GR=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,n,i){return n.toUpperCase()+i}),a0=(({hasOwnProperty:s})=>(t,e)=>s.call(t,e))(Object.prototype),KR=bi("RegExp"),zA=(s,t)=>{const e=Object.getOwnPropertyDescriptors(s),n={};hf(e,(i,r)=>{let a;(a=t(i,r,s))!==!1&&(n[r]=a||i)}),Object.defineProperties(s,n)},XR=s=>{zA(s,(t,e)=>{if(_n(s)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const n=s[e];if(_n(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},JR=(s,t)=>{const e={},n=i=>{i.forEach(r=>{e[r]=!0})};return Au(s)?n(s):n(String(s).split(t)),e},QR=()=>{},ZR=(s,t)=>s!=null&&Number.isFinite(s=+s)?s:t,Sg="abcdefghijklmnopqrstuvwxyz",o0="0123456789",GA={DIGIT:o0,ALPHA:Sg,ALPHA_DIGIT:Sg+Sg.toUpperCase()+o0},tO=(s=16,t=GA.ALPHA_DIGIT)=>{let e="";const{length:n}=t;for(;s--;)e+=t[Math.random()*n|0];return e};function eO(s){return!!(s&&_n(s.append)&&s[Symbol.toStringTag]==="FormData"&&s[Symbol.iterator])}const sO=s=>{const t=new Array(10),e=(n,i)=>{if($m(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;const r=Au(n)?[]:{};return hf(n,(a,o)=>{const l=e(a,i+1);!Id(l)&&(r[o]=l)}),t[i]=void 0,r}}return n};return e(s,0)},nO=bi("AsyncFunction"),iO=s=>s&&($m(s)||_n(s))&&_n(s.then)&&_n(s.catch),KA=((s,t)=>s?setImmediate:t?((e,n)=>(mo.addEventListener("message",({source:i,data:r})=>{i===mo&&r===e&&n.length&&n.shift()()},!1),i=>{n.push(i),mo.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",_n(mo.postMessage)),rO=typeof queueMicrotask<"u"?queueMicrotask.bind(mo):typeof process<"u"&&process.nextTick||KA,j={isArray:Au,isArrayBuffer:YA,isBuffer:AR,isFormData:MR,isArrayBufferView:SR,isString:ER,isNumber:VA,isBoolean:xR,isObject:$m,isPlainObject:jf,isReadableStream:OR,isRequest:IR,isResponse:$R,isHeaders:LR,isUndefined:Id,isDate:CR,isFile:TR,isBlob:DR,isRegExp:KR,isFunction:_n,isStream:PR,isURLSearchParams:RR,isTypedArray:VR,isFileList:kR,forEach:hf,merge:rv,extend:FR,trim:NR,stripBOM:BR,inherits:HR,toFlatObject:UR,kindOf:Om,kindOfTest:bi,endsWith:jR,toArray:YR,forEachEntry:WR,matchAll:qR,isHTMLForm:zR,hasOwnProperty:a0,hasOwnProp:a0,reduceDescriptors:zA,freezeMethods:XR,toObjectSet:JR,toCamelCase:GR,noop:QR,toFiniteNumber:ZR,findKey:WA,global:mo,isContextDefined:qA,ALPHABET:GA,generateString:tO,isSpecCompliantForm:eO,toJSONObject:sO,isAsyncFn:nO,isThenable:iO,setImmediate:KA,asap:rO};function jt(s,t,e,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}j.inherits(jt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:j.toJSONObject(this.config),code:this.code,status:this.status}}});const XA=jt.prototype,JA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{JA[s]={value:s}});Object.defineProperties(jt,JA);Object.defineProperty(XA,"isAxiosError",{value:!0});jt.from=(s,t,e,n,i,r)=>{const a=Object.create(XA);return j.toFlatObject(s,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),jt.call(a,s.message,t,e,n,i),a.cause=s,a.name=s.name,r&&Object.assign(a,r),a};const aO=null;function av(s){return j.isPlainObject(s)||j.isArray(s)}function QA(s){return j.endsWith(s,"[]")?s.slice(0,-2):s}function l0(s,t,e){return s?s.concat(t).map(function(i,r){return i=QA(i),!e&&r?"["+i+"]":i}).join(e?".":""):t}function oO(s){return j.isArray(s)&&!s.some(av)}const lO=j.toFlatObject(j,{},null,function(t){return/^is[A-Z]/.test(t)});function Lm(s,t,e){if(!j.isObject(s))throw new TypeError("target must be an object");t=t||new FormData,e=j.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!j.isUndefined(b[v])});const n=e.metaTokens,i=e.visitor||d,r=e.dots,a=e.indexes,l=(e.Blob||typeof Blob<"u"&&Blob)&&j.isSpecCompliantForm(t);if(!j.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(j.isDate(m))return m.toISOString();if(!l&&j.isBlob(m))throw new jt("Blob is not supported. Use a Buffer instead.");return j.isArrayBuffer(m)||j.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,v,b){let y=m;if(m&&!b&&typeof m=="object"){if(j.endsWith(v,"{}"))v=n?v:v.slice(0,-2),m=JSON.stringify(m);else if(j.isArray(m)&&oO(m)||(j.isFileList(m)||j.endsWith(v,"[]"))&&(y=j.toArray(m)))return v=QA(v),y.forEach(function(C,x){!(j.isUndefined(C)||C===null)&&t.append(a===!0?l0([v],x,r):a===null?v:v+"[]",c(C))}),!1}return av(m)?!0:(t.append(l0(b,v,r),c(m)),!1)}const h=[],f=Object.assign(lO,{defaultVisitor:d,convertValue:c,isVisitable:av});function p(m,v){if(!j.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(m),j.forEach(m,function(y,E){(!(j.isUndefined(y)||y===null)&&i.call(t,y,j.isString(E)?E.trim():E,v,f))===!0&&p(y,v?v.concat(E):[E])}),h.pop()}}if(!j.isObject(s))throw new TypeError("data must be an object");return p(s),t}function c0(s){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function ly(s,t){this._pairs=[],s&&Lm(s,this,t)}const ZA=ly.prototype;ZA.append=function(t,e){this._pairs.push([t,e])};ZA.toString=function(t){const e=t?function(n){return t.call(this,n,c0)}:c0;return this._pairs.map(function(i){return e(i[0])+"="+e(i[1])},"").join("&")};function cO(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tS(s,t,e){if(!t)return s;const n=e&&e.encode||cO;j.isFunction(e)&&(e={serialize:e});const i=e&&e.serialize;let r;if(i?r=i(t,e):r=j.isURLSearchParams(t)?t.toString():new ly(t,e).toString(n),r){const a=s.indexOf("#");a!==-1&&(s=s.slice(0,a)),s+=(s.indexOf("?")===-1?"?":"&")+r}return s}class u0{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){j.forEach(this.handlers,function(n){n!==null&&t(n)})}}const eS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uO=typeof URLSearchParams<"u"?URLSearchParams:ly,dO=typeof FormData<"u"?FormData:null,hO=typeof Blob<"u"?Blob:null,fO={isBrowser:!0,classes:{URLSearchParams:uO,FormData:dO,Blob:hO},protocols:["http","https","file","blob","url","data"]},cy=typeof window<"u"&&typeof document<"u",ov=typeof navigator=="object"&&navigator||void 0,pO=cy&&(!ov||["ReactNative","NativeScript","NS"].indexOf(ov.product)<0),mO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gO=cy&&window.location.href||"http://localhost",vO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:cy,hasStandardBrowserEnv:pO,hasStandardBrowserWebWorkerEnv:mO,navigator:ov,origin:gO},Symbol.toStringTag,{value:"Module"})),ks={...vO,...fO};function bO(s,t){return Lm(s,new ks.classes.URLSearchParams,Object.assign({visitor:function(e,n,i,r){return ks.isNode&&j.isBuffer(e)?(this.append(n,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}function yO(s){return j.matchAll(/\w+|\[(\w*)]/g,s).map(t=>t[0]==="[]"?"":t[1]||t[0])}function wO(s){const t={},e=Object.keys(s);let n;const i=e.length;let r;for(n=0;n<i;n++)r=e[n],t[r]=s[r];return t}function sS(s){function t(e,n,i,r){let a=e[r++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=r>=e.length;return a=!a&&j.isArray(i)?i.length:a,l?(j.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!j.isObject(i[a]))&&(i[a]=[]),t(e,n,i[a],r)&&j.isArray(i[a])&&(i[a]=wO(i[a])),!o)}if(j.isFormData(s)&&j.isFunction(s.entries)){const e={};return j.forEachEntry(s,(n,i)=>{t(yO(n),i,e,0)}),e}return null}function _O(s,t,e){if(j.isString(s))try{return(t||JSON.parse)(s),j.trim(s)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(s)}const ff={transitional:eS,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const n=e.getContentType()||"",i=n.indexOf("application/json")>-1,r=j.isObject(t);if(r&&j.isHTMLForm(t)&&(t=new FormData(t)),j.isFormData(t))return i?JSON.stringify(sS(t)):t;if(j.isArrayBuffer(t)||j.isBuffer(t)||j.isStream(t)||j.isFile(t)||j.isBlob(t)||j.isReadableStream(t))return t;if(j.isArrayBufferView(t))return t.buffer;if(j.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return bO(t,this.formSerializer).toString();if((o=j.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Lm(o?{"files[]":t}:t,l&&new l,this.formSerializer)}}return r||i?(e.setContentType("application/json",!1),_O(t)):t}],transformResponse:[function(t){const e=this.transitional||ff.transitional,n=e&&e.forcedJSONParsing,i=this.responseType==="json";if(j.isResponse(t)||j.isReadableStream(t))return t;if(t&&j.isString(t)&&(n&&!this.responseType||i)){const a=!(e&&e.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(o){if(a)throw o.name==="SyntaxError"?jt.from(o,jt.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ks.classes.FormData,Blob:ks.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};j.forEach(["delete","get","head","post","put","patch"],s=>{ff.headers[s]={}});const AO=j.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),SO=s=>{const t={};let e,n,i;return s&&s.split(`
`).forEach(function(a){i=a.indexOf(":"),e=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!e||t[e]&&AO[e])&&(e==="set-cookie"?t[e]?t[e].push(n):t[e]=[n]:t[e]=t[e]?t[e]+", "+n:n)}),t},d0=Symbol("internals");function Nu(s){return s&&String(s).trim().toLowerCase()}function Yf(s){return s===!1||s==null?s:j.isArray(s)?s.map(Yf):String(s)}function EO(s){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=e.exec(s);)t[n[1]]=n[2];return t}const xO=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function Eg(s,t,e,n,i){if(j.isFunction(n))return n.call(this,t,e);if(i&&(t=e),!!j.isString(t)){if(j.isString(n))return t.indexOf(n)!==-1;if(j.isRegExp(n))return n.test(t)}}function CO(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,n)=>e.toUpperCase()+n)}function TO(s,t){const e=j.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(s,n+e,{value:function(i,r,a){return this[n].call(this,t,i,r,a)},configurable:!0})})}class en{constructor(t){t&&this.set(t)}set(t,e,n){const i=this;function r(o,l,c){const d=Nu(l);if(!d)throw new Error("header name must be a non-empty string");const h=j.findKey(i,d);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=Yf(o))}const a=(o,l)=>j.forEach(o,(c,d)=>r(c,d,l));if(j.isPlainObject(t)||t instanceof this.constructor)a(t,e);else if(j.isString(t)&&(t=t.trim())&&!xO(t))a(SO(t),e);else if(j.isHeaders(t))for(const[o,l]of t.entries())r(l,o,n);else t!=null&&r(e,t,n);return this}get(t,e){if(t=Nu(t),t){const n=j.findKey(this,t);if(n){const i=this[n];if(!e)return i;if(e===!0)return EO(i);if(j.isFunction(e))return e.call(this,i,n);if(j.isRegExp(e))return e.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Nu(t),t){const n=j.findKey(this,t);return!!(n&&this[n]!==void 0&&(!e||Eg(this,this[n],n,e)))}return!1}delete(t,e){const n=this;let i=!1;function r(a){if(a=Nu(a),a){const o=j.findKey(n,a);o&&(!e||Eg(n,n[o],o,e))&&(delete n[o],i=!0)}}return j.isArray(t)?t.forEach(r):r(t),i}clear(t){const e=Object.keys(this);let n=e.length,i=!1;for(;n--;){const r=e[n];(!t||Eg(this,this[r],r,t,!0))&&(delete this[r],i=!0)}return i}normalize(t){const e=this,n={};return j.forEach(this,(i,r)=>{const a=j.findKey(n,r);if(a){e[a]=Yf(i),delete e[r];return}const o=t?CO(r):String(r).trim();o!==r&&delete e[r],e[o]=Yf(i),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return j.forEach(this,(n,i)=>{n!=null&&n!==!1&&(e[i]=t&&j.isArray(n)?n.join(", "):n)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[d0]=this[d0]={accessors:{}}).accessors,i=this.prototype;function r(a){const o=Nu(a);n[o]||(TO(i,a),n[o]=!0)}return j.isArray(t)?t.forEach(r):r(t),this}}en.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);j.reduceDescriptors(en.prototype,({value:s},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(n){this[e]=n}}});j.freezeMethods(en);function xg(s,t){const e=this||ff,n=t||e,i=en.from(n.headers);let r=n.data;return j.forEach(s,function(o){r=o.call(e,r,i.normalize(),t?t.status:void 0)}),i.normalize(),r}function nS(s){return!!(s&&s.__CANCEL__)}function Su(s,t,e){jt.call(this,s??"canceled",jt.ERR_CANCELED,t,e),this.name="CanceledError"}j.inherits(Su,jt,{__CANCEL__:!0});function iS(s,t,e){const n=e.config.validateStatus;!e.status||!n||n(e.status)?s(e):t(new jt("Request failed with status code "+e.status,[jt.ERR_BAD_REQUEST,jt.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function DO(s){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return t&&t[1]||""}function kO(s,t){s=s||10;const e=new Array(s),n=new Array(s);let i=0,r=0,a;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),d=n[r];a||(a=c),e[i]=l,n[i]=c;let h=r,f=0;for(;h!==i;)f+=e[h++],h=h%s;if(i=(i+1)%s,i===r&&(r=(r+1)%s),c-a<t)return;const p=d&&c-d;return p?Math.round(f*1e3/p):void 0}}function PO(s,t){let e=0,n=1e3/t,i,r;const a=(c,d=Date.now())=>{e=d,i=null,r&&(clearTimeout(r),r=null),s.apply(null,c)};return[(...c)=>{const d=Date.now(),h=d-e;h>=n?a(c,d):(i=c,r||(r=setTimeout(()=>{r=null,a(i)},n-h)))},()=>i&&a(i)]}const Op=(s,t,e=3)=>{let n=0;const i=kO(50,250);return PO(r=>{const a=r.loaded,o=r.lengthComputable?r.total:void 0,l=a-n,c=i(l),d=a<=o;n=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&d?(o-a)/c:void 0,event:r,lengthComputable:o!=null,[t?"download":"upload"]:!0};s(h)},e)},h0=(s,t)=>{const e=s!=null;return[n=>t[0]({lengthComputable:e,total:s,loaded:n}),t[1]]},f0=s=>(...t)=>j.asap(()=>s(...t)),MO=ks.hasStandardBrowserEnv?((s,t)=>e=>(e=new URL(e,ks.origin),s.protocol===e.protocol&&s.host===e.host&&(t||s.port===e.port)))(new URL(ks.origin),ks.navigator&&/(msie|trident)/i.test(ks.navigator.userAgent)):()=>!0,RO=ks.hasStandardBrowserEnv?{write(s,t,e,n,i,r){const a=[s+"="+encodeURIComponent(t)];j.isNumber(e)&&a.push("expires="+new Date(e).toGMTString()),j.isString(n)&&a.push("path="+n),j.isString(i)&&a.push("domain="+i),r===!0&&a.push("secure"),document.cookie=a.join("; ")},read(s){const t=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function OO(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function IO(s,t){return t?s.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):s}function rS(s,t){return s&&!OO(t)?IO(s,t):t}const p0=s=>s instanceof en?{...s}:s;function yl(s,t){t=t||{};const e={};function n(c,d,h,f){return j.isPlainObject(c)&&j.isPlainObject(d)?j.merge.call({caseless:f},c,d):j.isPlainObject(d)?j.merge({},d):j.isArray(d)?d.slice():d}function i(c,d,h,f){if(j.isUndefined(d)){if(!j.isUndefined(c))return n(void 0,c,h,f)}else return n(c,d,h,f)}function r(c,d){if(!j.isUndefined(d))return n(void 0,d)}function a(c,d){if(j.isUndefined(d)){if(!j.isUndefined(c))return n(void 0,c)}else return n(void 0,d)}function o(c,d,h){if(h in t)return n(c,d);if(h in s)return n(void 0,c)}const l={url:r,method:r,data:r,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,d,h)=>i(p0(c),p0(d),h,!0)};return j.forEach(Object.keys(Object.assign({},s,t)),function(d){const h=l[d]||i,f=h(s[d],t[d],d);j.isUndefined(f)&&h!==o||(e[d]=f)}),e}const aS=s=>{const t=yl({},s);let{data:e,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:r,headers:a,auth:o}=t;t.headers=a=en.from(a),t.url=tS(rS(t.baseURL,t.url),s.params,s.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(j.isFormData(e)){if(ks.hasStandardBrowserEnv||ks.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[c,...d]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];a.setContentType([c||"multipart/form-data",...d].join("; "))}}if(ks.hasStandardBrowserEnv&&(n&&j.isFunction(n)&&(n=n(t)),n||n!==!1&&MO(t.url))){const c=i&&r&&RO.read(r);c&&a.set(i,c)}return t},$O=typeof XMLHttpRequest<"u",LO=$O&&function(s){return new Promise(function(e,n){const i=aS(s);let r=i.data;const a=en.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=i,d,h,f,p,m;function v(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function y(){if(!b)return;const C=en.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),D={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:C,config:s,request:b};iS(function(P){e(P),v()},function(P){n(P),v()},D),b=null}"onloadend"in b?b.onloadend=y:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(y)},b.onabort=function(){b&&(n(new jt("Request aborted",jt.ECONNABORTED,s,b)),b=null)},b.onerror=function(){n(new jt("Network Error",jt.ERR_NETWORK,s,b)),b=null},b.ontimeout=function(){let x=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const D=i.transitional||eS;i.timeoutErrorMessage&&(x=i.timeoutErrorMessage),n(new jt(x,D.clarifyTimeoutError?jt.ETIMEDOUT:jt.ECONNABORTED,s,b)),b=null},r===void 0&&a.setContentType(null),"setRequestHeader"in b&&j.forEach(a.toJSON(),function(x,D){b.setRequestHeader(D,x)}),j.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),o&&o!=="json"&&(b.responseType=i.responseType),c&&([f,m]=Op(c,!0),b.addEventListener("progress",f)),l&&b.upload&&([h,p]=Op(l),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=C=>{b&&(n(!C||C.type?new Su(null,s,b):C),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const E=DO(i.url);if(E&&ks.protocols.indexOf(E)===-1){n(new jt("Unsupported protocol "+E+":",jt.ERR_BAD_REQUEST,s));return}b.send(r||null)})},NO=(s,t)=>{const{length:e}=s=s?s.filter(Boolean):[];if(t||e){let n=new AbortController,i;const r=function(c){if(!i){i=!0,o();const d=c instanceof Error?c:this.reason;n.abort(d instanceof jt?d:new Su(d instanceof Error?d.message:d))}};let a=t&&setTimeout(()=>{a=null,r(new jt(`timeout ${t} of ms exceeded`,jt.ETIMEDOUT))},t);const o=()=>{s&&(a&&clearTimeout(a),a=null,s.forEach(c=>{c.unsubscribe?c.unsubscribe(r):c.removeEventListener("abort",r)}),s=null)};s.forEach(c=>c.addEventListener("abort",r));const{signal:l}=n;return l.unsubscribe=()=>j.asap(o),l}},FO=function*(s,t){let e=s.byteLength;if(e<t){yield s;return}let n=0,i;for(;n<e;)i=n+t,yield s.slice(n,i),n=i},BO=async function*(s,t){for await(const e of HO(s))yield*FO(e,t)},HO=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const t=s.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},m0=(s,t,e,n)=>{const i=BO(s,t);let r=0,a,o=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await i.next();if(c){o(),l.close();return}let h=d.byteLength;if(e){let f=r+=h;e(f)}l.enqueue(new Uint8Array(d))}catch(c){throw o(c),c}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},Nm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",oS=Nm&&typeof ReadableStream=="function",UO=Nm&&(typeof TextEncoder=="function"?(s=>t=>s.encode(t))(new TextEncoder):async s=>new Uint8Array(await new Response(s).arrayBuffer())),lS=(s,...t)=>{try{return!!s(...t)}catch{return!1}},jO=oS&&lS(()=>{let s=!1;const t=new Request(ks.origin,{body:new ReadableStream,method:"POST",get duplex(){return s=!0,"half"}}).headers.has("Content-Type");return s&&!t}),g0=64*1024,lv=oS&&lS(()=>j.isReadableStream(new Response("").body)),Ip={stream:lv&&(s=>s.body)};Nm&&(s=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Ip[t]&&(Ip[t]=j.isFunction(s[t])?e=>e[t]():(e,n)=>{throw new jt(`Response type '${t}' is not supported`,jt.ERR_NOT_SUPPORT,n)})})})(new Response);const YO=async s=>{if(s==null)return 0;if(j.isBlob(s))return s.size;if(j.isSpecCompliantForm(s))return(await new Request(ks.origin,{method:"POST",body:s}).arrayBuffer()).byteLength;if(j.isArrayBufferView(s)||j.isArrayBuffer(s))return s.byteLength;if(j.isURLSearchParams(s)&&(s=s+""),j.isString(s))return(await UO(s)).byteLength},VO=async(s,t)=>{const e=j.toFiniteNumber(s.getContentLength());return e??YO(t)},WO=Nm&&(async s=>{let{url:t,method:e,data:n,signal:i,cancelToken:r,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:d,withCredentials:h="same-origin",fetchOptions:f}=aS(s);c=c?(c+"").toLowerCase():"text";let p=NO([i,r&&r.toAbortSignal()],a),m;const v=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let b;try{if(l&&jO&&e!=="get"&&e!=="head"&&(b=await VO(d,n))!==0){let D=new Request(t,{method:"POST",body:n,duplex:"half"}),M;if(j.isFormData(n)&&(M=D.headers.get("content-type"))&&d.setContentType(M),D.body){const[P,H]=h0(b,Op(f0(l)));n=m0(D.body,g0,P,H)}}j.isString(h)||(h=h?"include":"omit");const y="credentials"in Request.prototype;m=new Request(t,{...f,signal:p,method:e.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:y?h:void 0});let E=await fetch(m);const C=lv&&(c==="stream"||c==="response");if(lv&&(o||C&&v)){const D={};["status","statusText","headers"].forEach(F=>{D[F]=E[F]});const M=j.toFiniteNumber(E.headers.get("content-length")),[P,H]=o&&h0(M,Op(f0(o),!0))||[];E=new Response(m0(E.body,g0,P,()=>{H&&H(),v&&v()}),D)}c=c||"text";let x=await Ip[j.findKey(Ip,c)||"text"](E,s);return!C&&v&&v(),await new Promise((D,M)=>{iS(D,M,{data:x,headers:en.from(E.headers),status:E.status,statusText:E.statusText,config:s,request:m})})}catch(y){throw v&&v(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new jt("Network Error",jt.ERR_NETWORK,s,m),{cause:y.cause||y}):jt.from(y,y&&y.code,s,m)}}),cv={http:aO,xhr:LO,fetch:WO};j.forEach(cv,(s,t)=>{if(s){try{Object.defineProperty(s,"name",{value:t})}catch{}Object.defineProperty(s,"adapterName",{value:t})}});const v0=s=>`- ${s}`,qO=s=>j.isFunction(s)||s===null||s===!1,cS={getAdapter:s=>{s=j.isArray(s)?s:[s];const{length:t}=s;let e,n;const i={};for(let r=0;r<t;r++){e=s[r];let a;if(n=e,!qO(e)&&(n=cv[(a=String(e)).toLowerCase()],n===void 0))throw new jt(`Unknown adapter '${a}'`);if(n)break;i[a||"#"+r]=n}if(!n){const r=Object.entries(i).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=t?r.length>1?`since :
`+r.map(v0).join(`
`):" "+v0(r[0]):"as no adapter specified";throw new jt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:cv};function Cg(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Su(null,s)}function b0(s){return Cg(s),s.headers=en.from(s.headers),s.data=xg.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),cS.getAdapter(s.adapter||ff.adapter)(s).then(function(n){return Cg(s),n.data=xg.call(s,s.transformResponse,n),n.headers=en.from(n.headers),n},function(n){return nS(n)||(Cg(s),n&&n.response&&(n.response.data=xg.call(s,s.transformResponse,n.response),n.response.headers=en.from(n.response.headers))),Promise.reject(n)})}const uS="1.7.9",Fm={};["object","boolean","number","function","string","symbol"].forEach((s,t)=>{Fm[s]=function(n){return typeof n===s||"a"+(t<1?"n ":" ")+s}});const y0={};Fm.transitional=function(t,e,n){function i(r,a){return"[Axios v"+uS+"] Transitional option '"+r+"'"+a+(n?". "+n:"")}return(r,a,o)=>{if(t===!1)throw new jt(i(a," has been removed"+(e?" in "+e:"")),jt.ERR_DEPRECATED);return e&&!y0[a]&&(y0[a]=!0,console.warn(i(a," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(r,a,o):!0}};Fm.spelling=function(t){return(e,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function zO(s,t,e){if(typeof s!="object")throw new jt("options must be an object",jt.ERR_BAD_OPTION_VALUE);const n=Object.keys(s);let i=n.length;for(;i-- >0;){const r=n[i],a=t[r];if(a){const o=s[r],l=o===void 0||a(o,r,s);if(l!==!0)throw new jt("option "+r+" must be "+l,jt.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new jt("Unknown option "+r,jt.ERR_BAD_OPTION)}}const Vf={assertOptions:zO,validators:Fm},Ai=Vf.validators;class ml{constructor(t){this.defaults=t,this.interceptors={request:new u0,response:new u0}}async request(t,e){try{return await this._request(t,e)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const r=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?r&&!String(n.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+r):n.stack=r}catch{}}throw n}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=yl(this.defaults,e);const{transitional:n,paramsSerializer:i,headers:r}=e;n!==void 0&&Vf.assertOptions(n,{silentJSONParsing:Ai.transitional(Ai.boolean),forcedJSONParsing:Ai.transitional(Ai.boolean),clarifyTimeoutError:Ai.transitional(Ai.boolean)},!1),i!=null&&(j.isFunction(i)?e.paramsSerializer={serialize:i}:Vf.assertOptions(i,{encode:Ai.function,serialize:Ai.function},!0)),Vf.assertOptions(e,{baseUrl:Ai.spelling("baseURL"),withXsrfToken:Ai.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let a=r&&j.merge(r.common,r[e.method]);r&&j.forEach(["delete","get","head","post","put","patch","common"],m=>{delete r[m]}),e.headers=en.concat(a,r);const o=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(e)===!1||(l=l&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let d,h=0,f;if(!l){const m=[b0.bind(this),void 0];for(m.unshift.apply(m,o),m.push.apply(m,c),f=m.length,d=Promise.resolve(e);h<f;)d=d.then(m[h++],m[h++]);return d}f=o.length;let p=e;for(h=0;h<f;){const m=o[h++],v=o[h++];try{p=m(p)}catch(b){v.call(this,b);break}}try{d=b0.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=c.length;h<f;)d=d.then(c[h++],c[h++]);return d}getUri(t){t=yl(this.defaults,t);const e=rS(t.baseURL,t.url);return tS(e,t.params,t.paramsSerializer)}}j.forEach(["delete","get","head","options"],function(t){ml.prototype[t]=function(e,n){return this.request(yl(n||{},{method:t,url:e,data:(n||{}).data}))}});j.forEach(["post","put","patch"],function(t){function e(n){return function(r,a,o){return this.request(yl(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:a}))}}ml.prototype[t]=e(),ml.prototype[t+"Form"]=e(!0)});class uy{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(r){e=r});const n=this;this.promise.then(i=>{if(!n._listeners)return;let r=n._listeners.length;for(;r-- >0;)n._listeners[r](i);n._listeners=null}),this.promise.then=i=>{let r;const a=new Promise(o=>{n.subscribe(o),r=o}).then(i);return a.cancel=function(){n.unsubscribe(r)},a},t(function(r,a,o){n.reason||(n.reason=new Su(r,a,o),e(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=n=>{t.abort(n)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new uy(function(i){t=i}),cancel:t}}}function GO(s){return function(e){return s.apply(null,e)}}function KO(s){return j.isObject(s)&&s.isAxiosError===!0}const uv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(uv).forEach(([s,t])=>{uv[t]=s});function dS(s){const t=new ml(s),e=jA(ml.prototype.request,t);return j.extend(e,ml.prototype,t,{allOwnKeys:!0}),j.extend(e,t,null,{allOwnKeys:!0}),e.create=function(i){return dS(yl(s,i))},e}const Pt=dS(ff);Pt.Axios=ml;Pt.CanceledError=Su;Pt.CancelToken=uy;Pt.isCancel=nS;Pt.VERSION=uS;Pt.toFormData=Lm;Pt.AxiosError=jt;Pt.Cancel=Pt.CanceledError;Pt.all=function(t){return Promise.all(t)};Pt.spread=GO;Pt.isAxiosError=KO;Pt.mergeConfig=yl;Pt.AxiosHeaders=en;Pt.formToJSON=s=>sS(j.isHTMLForm(s)?new FormData(s):s);Pt.getAdapter=cS.getAdapter;Pt.HttpStatusCode=uv;Pt.default=Pt;const XO={class:"card shadow-sm"},JO=["src"],QO={class:"card-body"},ZO={class:"card-title text-truncate",title:"Click to view"},tI={class:"card-text text-muted"},eI={__name:"pdfCard",props:{file:{type:Object,required:!0}},setup(s){const t=e=>{const n=new Date,i=new Date(e),r=Math.floor((n-i)/1e3);if(r<60)return`${r} seconds ago`;if(r<3600){const a=Math.floor(r/60);return`${a} minute${a>1?"s":""} ago`}else if(r<86400){const a=Math.floor(r/3600);return`${a} hour${a>1?"s":""} ago`}else if(r<2592e3){const a=Math.floor(r/86400);return`${a} day${a>1?"s":""} ago`}else if(r<31536e3){const a=i.toLocaleString("default",{month:"long"}),o=i.getDate(),l=i.getFullYear();return`${a} ${o}, ${l}`}else return`${i.getFullYear()}`};return(e,n)=>(R(),O("div",XO,[g("img",{src:s.file.ImageUrl,class:"card-img-top",alt:"Thumbnail",style:{height:"150px","object-fit":"cover"}},null,8,JO),g("div",QO,[g("h5",ZO,U(s.file.Title),1),g("p",tI,[g("small",null,"Update: "+U(t(s.file.CreatedAt)),1)]),g("button",{class:"btn btn-primary btn-sm w-100",onClick:n[0]||(n[0]=i=>e.openFile(s.file))}," Open ")])]))}},hS=re(eI,[["__scopeId","data-v-9c706831"]]),sI={class:"body"},nI={class:"container"},iI={class:"row"},rI={class:"roportage"},aI={"aria-label":"Page navigation example"},oI={class:"pagination justify-content-center mb-0 pb-3"},lI=["onClick"],Tg=4,cI={__name:"PdfViewer",setup(s){const t=Je({admin:!1,reportages:[]}),e=vt(1),n=()=>{Pt.get("/api/posts",{params:{category_name:"reportage"}}).then(c=>{t.reportages=c.data}).catch(c=>{console.error("Error fetching reports:",c)})},i=B(()=>Math.ceil(t.reportages.length/Tg)),r=B(()=>{const c=(e.value-1)*Tg,d=c+Tg;return t.reportages.slice(c,d)}),a=c=>{c>=1&&c<=i.value&&(e.value=c)},o=async()=>{const c=JSON.parse(localStorage.getItem("user"));if(c){const d=await l();t.admin=d.some(h=>h.id===c.id),t.admin?console.log("User is an admin"):console.log("User is not an admin")}else console.log("No user data found")},l=async()=>{try{return(await Pt.get("/api/users/admin")).data}catch(c){console.error("Error fetching comments:",c)}};return ls(()=>{n(),o()}),(c,d)=>{const h=as("router-link");return R(),O("div",sI,[g("div",nI,[d[2]||(d[2]=g("h1",{class:"mb-4"},"Reportages",-1)),g("div",iI,[(R(!0),O(Et,null,Wt(r.value,(f,p)=>(R(),O("div",{class:"col-xl-3 col-md-6 col-lg-4 blog-card",key:p},[g("div",rI,[G(h,{to:`/view-file/${f.PostID}`},{default:ie(()=>[G(hS,{file:f},null,8,["file"])]),_:2},1032,["to"])])]))),128))]),g("nav",aI,[g("ul",oI,[g("li",{class:Ft(["page-item",{disabled:e.value===1}])},[g("a",{class:"page-link",href:"#",onClick:d[0]||(d[0]=hi(f=>a(e.value-1),["prevent"]))},"Previous")],2),(R(!0),O(Et,null,Wt(i.value,f=>(R(),O("li",{class:Ft(["page-item",{active:e.value===f}]),key:f},[g("a",{class:"page-link",href:"#",onClick:hi(p=>a(f),["prevent"])},U(f),9,lI)],2))),128)),g("li",{class:Ft(["page-item",{disabled:e.value===i.value}])},[g("a",{class:"page-link",href:"#",onClick:d[1]||(d[1]=hi(f=>a(e.value+1),["prevent"]))},"Next")],2)])])])])}}},uI=re(cI,[["__scopeId","data-v-03d7af9d"]]),dI={data(){return{averageRating:4.74,totalReviews:29,starRatings:[0,1,7,17,4],reviews:[{id:1,name:"Nguyễn Văn Nam",comment:"Giao diện đẹp, dễ sử dụng",rating:5},{id:2,name:"Quốc Hân",comment:"Tốt, ổn định",rating:4}]}}},hI={class:"rating-component p-3"},fI={class:"rating-summary d-flex align-items-center"},pI={class:"average-rating me-3"},mI={class:"mb-0"},gI={class:"progress-bars flex-grow-1"},vI={class:"me-2"},bI={class:"progress flex-grow-1"},yI=["aria-valuenow","aria-valuemax"],wI={class:"ms-2"},_I={class:"text-warning"};function AI(s,t,e,n,i,r){return R(),O("div",hI,[t[0]||(t[0]=g("h4",null,"Đánh giá sản phẩm",-1)),g("div",fI,[g("div",pI,[g("h1",mI,U(i.averageRating.toFixed(2)),1),g("p",null,U(i.totalReviews)+" đánh giá",1)]),g("div",gI,[(R(!0),O(Et,null,Wt(i.starRatings,(a,o)=>(R(),O("div",{key:o,class:"d-flex align-items-center"},[g("span",vI,U(5-o)+" ★",1),g("div",bI,[g("div",{class:"progress-bar bg-warning",role:"progressbar",style:ui({width:a/i.totalReviews*100+"%"}),"aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":i.totalReviews},null,12,yI)]),g("span",wI,U(a),1)]))),128))])]),t[1]||(t[1]=g("hr",null,null,-1)),t[2]||(t[2]=g("h5",null,"Đánh giá của khách hàng",-1)),(R(!0),O(Et,null,Wt(i.reviews,a=>(R(),O("div",{key:a.id,class:"customer-review mb-3"},[g("h6",null,U(a.name),1),g("p",null,U(a.comment),1),g("span",_I,[(R(!0),O(Et,null,Wt(a.rating,o=>(R(),O("i",{key:o,class:"bi bi-star-fill"}))),128))])]))),128))])}const SI=re(dI,[["render",AI],["__scopeId","data-v-b8d5a706"]]),EI={class:"card-tour card"},xI=["src"],CI={class:"card-body"},TI={class:"card-title"},DI={class:"card-title"},kI={class:"card-text text-primary"},PI={__name:"Card_Tour",props:{Tour:{}},setup(s){return(t,e)=>(R(),O("div",EI,[g("img",{src:s.Tour.Img_Tour,alt:"",class:"card-img-top"},null,8,xI),g("div",CI,[g("h4",TI,"| "+U(s.Tour.Duration)+" Days",1),g("h4",DI,U(s.Tour.TourName),1),g("h6",kI,"From $"+U(s.Tour.Price)+" USD",1)])]))}},MI=re(PI,[["__scopeId","data-v-bb96af6f"]]),RI={class:"container"},OI={class:"row"},II={__name:"TourSection",props:{},setup(s){const t=vt([]),e=async()=>{try{const n=await Pt.get("/api/tour");console.log(n.data),t.value=n.data.filter(i=>i.IsDeleted==0).reverse(),console.log(t.value)}catch(n){console.error("Error fetching tour:",n)}};return ls(()=>{e()}),(n,i)=>{const r=as("router-link");return R(),O("div",RI,[g("div",OI,[(R(!0),O(Et,null,Wt(t.value,(a,o)=>(R(),O("div",{class:"col-xl-3 col-md-6 col-lg-4",key:o},[G(r,{to:`/TourDetail/${a.TourID}`},{default:ie(()=>[G(MI,{Tour:a},null,8,["Tour"])]),_:2},1032,["to"])]))),128))])])}}},fS=re(II,[["__scopeId","data-v-c07ccade"]]),$I={class:"heroimage"},LI={class:"tab-content",id:"myTabContent"},NI={class:"tab-pane fade show active tour-history",id:"home-tab-pane",role:"tabpanel","aria-labelledby":"home-tab",tabindex:"0"},FI={class:"tab-pane fade tour-history",id:"profile-tab-pane",role:"tabpanel","aria-labelledby":"profile-tab",tabindex:"0"},BI={class:"container my-4"},HI={key:0,class:"alert alert-info"},UI={class:"list-group"},jI={class:"mb-1"},YI={class:"mb-1 text-muted"},VI=["onClick"],WI={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},qI={class:"modal-dialog modal-xl"},zI={class:"modal-content"},GI={class:"modal-body"},KI={class:"row"},XI={class:"col"},JI={class:"col"},QI={class:"col"},ZI={class:"table table-striped table-bordered table-hover table-sm"},t$={key:0},e$={class:"table table-striped table-bordered table-hover table-sm"},pS={__name:"OrderHistory",setup(s){const t=v=>({Psending:"badge bg-light",Booked:"badge bg-success",Cancelled:"badge bg-danger",Paid:"badge bg-primary"})[v]||"badge bg-secondary",e=v=>{const b={year:"numeric",month:"2-digit",day:"2-digit"};return new Date(v).toLocaleDateString("vi-VN",b)},n=Je({StartDate:"",EndDate:"",TourID:"",Status:"",TourName:"",BookingID:""});vt(1);const i=vt([{}]),r=vt([{}]);var a=vt([]);const o=vt([]),l=v=>v.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),c=v=>{console.log(v);const b=l(v.TourName||"").trim(),y=a.value.filter(E=>{const C=l(E.TourName).trim(),x=b.split(/\s+/),D=C.split(/\s+/),M=x.every(P=>D.some(H=>H.includes(P)));return(!v.TourID||v.TourID==-1||E.TourID==v.TourID)&&(!v.Status||v.Status==="All"||E.Status===v.Status)&&(!v.StartDate||new Date(E.StartDate)>=new Date(v.StartDate))&&(!v.EndDate||new Date(E.EndDate)<=new Date(v.EndDate))&&(!v.TourName||M)});return console.log("filteredBookings: ",y),y},d=()=>{const v=JSON.parse(localStorage.getItem("user"));v&&h(v.UserID)},h=async v=>{try{const b=await Pt.get(`/api/booking/${v}`);a.value=b.data.reverse(),console.log(v),console.log("bookings: ",a.value),a.value.map(y=>{y.StartDate=new Date(y.StartDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),y.EndDate=new Date(y.EndDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),o.value=[...new Map(a.value.map(y=>[y.TourID,{TourID:y.TourID,TourName:y.TourName}])).values()]}catch(b){console.log(b)}},f=async v=>{try{const b=await Pt.get(`/api/detail_booking/${v.BookingID}`);i.value=b.data}catch(b){console.log("err of getDetailOfSpecificedBooking",b)}},p=async v=>{try{const b=await Pt.get(`/api/booked_service/${v}`);r.value=b.data,console.log(r.value)}catch(b){console.log("Error bookedServices",b)}},m=v=>v.reduce((b,y)=>b+y.Price*y.Quantity,0);return ls(()=>{d()}),(v,b)=>(R(),O("div",null,[g("header",null,[G(zr),g("div",$I,[G(Tl,{image:"https://media.istockphoto.com/id/1512839621/vi/anh/h%C3%ACnh-%E1%BA%A3nh-ph%E1%BA%A3n-chi%E1%BA%BFu-b%C3%ACnh-minh-tr%C3%AAn-c%E1%BA%A7u-r%E1%BB%93ng-th%C3%A0nh-ph%E1%BB%91-%C4%91%C3%A0-n%E1%BA%B5ng.jpg?s=2048x2048&w=is&k=20&c=fnnKucMMkWmX7JEBp4yOIh-5qkjX6dtGqWXtW2I6zVc=",p2:"OUR tours"})])]),g("div",null,[b[14]||(b[14]=g("ul",{class:"nav nav-tabs justify-content-center fs-4",id:"myTab",role:"tablist",style:{"background-color":"rgba(31, 68, 95)"}},[g("li",{class:"nav-item",role:"presentation"},[g("button",{class:"nav-link active fw-bold",id:"home-tab","data-bs-toggle":"tab","data-bs-target":"#home-tab-pane",type:"button",role:"tab","aria-controls":"home-tab-pane","aria-selected":"true"}," Our Tours ")]),g("li",{class:"nav-item",role:"presentation"},[g("button",{class:"nav-link fw-bold",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#profile-tab-pane",type:"button",role:"tab","aria-controls":"profile-tab-pane","aria-selected":"false"}," Your Booking History ")])],-1)),g("div",LI,[g("div",NI,[b[0]||(b[0]=g("h3",null,"List Of Tour",-1)),G(fS)]),g("div",FI,[b[13]||(b[13]=g("h3",null,"Booking History",-1)),g("div",BI,[Q(a).length===0?(R(),O("div",HI," You have no tour booking history. ")):Ot("",!0),g("div",UI,[(R(!0),O(Et,null,Wt(c(n),(y,E)=>(R(),O("div",{key:E,class:"list-group-item d-flex justify-content-between align-items-center"},[g("div",null,[g("h5",jI,U(y.TourName),1),g("p",YI," Booking Date: "+U(e(y.BookingDate)),1),g("span",{class:Ft(t(y.Status))},U(y.Status),3)]),g("button",{type:"button",class:"btn btn-sm btn-outline-success","data-bs-toggle":"modal","data-bs-target":"#exampleModal",onClick:C=>(f(y),p(y.BookingID))}," Detail ",8,VI)]))),128))]),g("div",WI,[g("div",qI,[g("div",zI,[b[11]||(b[11]=g("div",{class:"modal-header"},[g("h1",{class:"modal-title fs-5 text-primary",id:"exampleModalLabel"}," DETAIL OF BOOKING "),g("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),g("div",GI,[g("div",KI,[g("div",XI,[b[1]||(b[1]=g("h5",{class:"text-success"},"Info Of Tour",-1)),g("h6",null,"Name of tour: "+U(i.value[0].TourName),1),g("h6",null,"Price of tour: $"+U(i.value[0].Price),1),g("h6",null," Start Date: "+U(new Date(i.value[0].StartDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})),1),g("h6",null," End Date: "+U(new Date(new Date(i.value[0].StartDate).setDate(new Date(i.value[0].StartDate).getDate()+i.value[0].Duration-1)).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})),1)]),g("div",JI,[b[5]||(b[5]=g("h5",{class:"text-success"},"Whose Booking",-1)),g("h6",null,"FullName: "+U(i.value[0].FullName),1),g("h6",null," Phone Number: "+U(i.value[0].PhoneNumber),1),g("h6",null," Booking Date: "+U(new Date(i.value[0].BookingDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1})),1),g("h6",null," Number of participant: "+U(i.value[0].NumberOfGuests),1),g("h6",null,[b[2]||(b[2]=g("span",{class:"fst-italic text-nowrap"}," Services Price Total: ",-1)),Jt(" $"+U(m(r.value)),1)]),g("h6",null,[b[3]||(b[3]=g("span",{class:"fst-italic text-nowrap"},"Trip Price:",-1)),Jt(" $"+U(i.value[0].Price)+" * "+U(i.value[0].NumberOfGuests)+" = $"+U(i.value[0].Price*i.value[0].NumberOfGuests),1)]),g("h6",null,[b[4]||(b[4]=g("span",{class:"fst-italic text-nowrap"},"Total Amount:",-1)),Jt(" $"+U(i.value[0].TotalAmount),1)])]),g("div",QI,[b[8]||(b[8]=g("h5",{class:"text-success"},"Booked Services",-1)),g("table",ZI,[b[7]||(b[7]=g("thead",{class:"table-light"},[g("tr",null,[g("th",{class:"fw-bold"},"#"),g("th",{class:"fw-bold"},"Service"),g("th",{class:"fw-bold"},"Price"),g("th",{class:"fw-bold"},"Quantity"),g("th",{class:"fw-bold"},"Total")])],-1)),g("tbody",null,[(R(!0),O(Et,null,Wt(r.value,(y,E)=>(R(),O("tr",{key:E},[g("td",null,U(E+1),1),g("td",null,U(y.ServiceName),1),g("td",null,"$"+U(y.Price),1),g("td",null,U(y.Quantity),1),g("td",null,"$"+U(y.Quantity*y.Price),1)]))),128)),r.value&&r.value.length===0?(R(),O("tr",t$,b[6]||(b[6]=[g("td",{colspan:"7",class:"text-center"},"Nothing",-1)]))):Ot("",!0)])]),b[9]||(b[9]=g("h6",null,null,-1))])]),g("table",e$,[b[10]||(b[10]=g("thead",{class:"table-light"},[g("tr",null,[g("th",{class:"fw-bold"},"#"),g("th",{class:"fw-bold"},"FullName"),g("th",{class:"fw-bold"},"Date of Birth"),g("th",{class:"fw-bold"},"Gender"),g("th",{class:"fw-bold"},"Email"),g("th",{class:"fw-bold"},"Phone Number"),g("th",{class:"fw-bold"},"Full Name on passport"),g("th",{class:"fw-bold"},"Passport number"),g("th",{class:"fw-bold"},"Nationality")])],-1)),g("tbody",null,[(R(!0),O(Et,null,Wt(i.value,(y,E)=>(R(),O("tr",{key:E},[g("td",null,U(E+1),1),g("td",null,U(y.FullName),1),g("td",null,U(new Date(y.DateOfBirth).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})),1),g("td",null,U(y.Gender),1),g("td",null,U(y.Email),1),g("td",null,U(y.PhoneNumber),1),g("td",null,U(y.FullNameOnPassport),1),g("td",null,U(y.PassportNumber),1),g("td",null,U(y.Nationality),1)]))),128))])])]),b[12]||(b[12]=g("div",{class:"modal-footer"},[g("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ")],-1))])])])])])])]),G(Gr)]))}},s$={class:"charity"},n$={class:"heroimage"},i$={__name:"Charity",setup(s){return(t,e)=>(R(),O("div",s$,[g("header",null,[G(zr),g("div",n$,[G(Tl,{image:"https://media.istockphoto.com/id/2151038293/vi/anh/beautiful-halong-city-quang-ninh-vietnam.jpg?s=2048x2048&w=is&k=20&c=jV0iDZAOCQp-GUMjW3oOjdJZfxm5Sl080Z2smrUQHS0=",p1:"our community project"})])]),g("main",null,[G(SI),G(wR),G(fS),G(pS),G(Gr)])]))}},r$=re(i$,[["__scopeId","data-v-93678be4"]]),a$=["src"],o$={class:"card-body"},l$={class:"card-title text-danger"},c$={class:"card-text text-secondary"},u$={class:"date mx-2"},d$={class:"card-footer d-flex justify-content-between align-items-center"},h$={class:"d-flex align-items-center"},f$=["src"],p$={class:""},m$={class:"d-flex align-items-center"},g$={class:"me-3"},v$={class:"me-3"},b$={__name:"Actical_card",props:{id:{type:Number,required:!0},image:{type:String,required:!0},title:{type:String,required:!0},description:{type:String,required:!0},author:{type:String,required:!0},authorAvatar:{type:String,required:!0},views:{type:Number,required:!0},create_at:{type:String,default:"a few seconds ago"}},setup(s){ay();const t=vt(0),e=vt(0),n=s,i=B(()=>{const l=new Date,c=new Date(n.create_at),d=Math.floor((l-c)/1e3);if(d<60)return`${d} seconds ago`;if(d<3600){const h=Math.floor(d/60);return`${h} minute${h>1?"s":""} ago`}else if(d<86400){const h=Math.floor(d/3600);return`${h} hour${h>1?"s":""} ago`}else if(d<2592e3){const h=Math.floor(d/86400);return`${h} day${h>1?"s":""} ago`}else if(d<31536e3){const h=c.toLocaleString("default",{month:"long"}),f=c.getDate(),p=c.getFullYear();return`${h} ${f}, ${p}`}else return`${c.getFullYear()}`}),r=async l=>{try{const c=await Pt.get(`/api/user_likes/${l}`);t.value=c.data}catch(c){console.error("Error fetching comments:",c)}},a=async l=>{try{const c=await Pt.get(`/api/comments/${l}`);e.value=c.data}catch(c){console.error("Error fetching comments:",c)}},o=B(()=>n.description.length>250?n.description.substring(0,250)+"...":n.description);return ls(()=>{a(n.id),r(n.id)}),(l,c)=>{const d=as("router-link");return R(),Fe(d,{to:`/blogs/${s.id}`,class:"card shadow-sm mb-3 blog-card",style:{height:"400px"}},{default:ie(()=>[g("img",{src:s.image,class:"card-img-top",alt:"Volunteer Image"},null,8,a$),g("div",o$,[g("h5",l$,U(s.title),1),g("p",c$,U(o.value),1)]),g("div",u$,U(i.value),1),g("div",d$,[g("div",h$,[g("img",{src:s.authorAvatar,alt:"Author Avatar",class:"rounded-circle me-2",style:{width:"32px",height:"32px"}},null,8,f$),g("span",p$,U(s.author),1)]),g("div",m$,[g("span",g$,[c[0]||(c[0]=g("i",{class:"fa-regular fa-eye"},null,-1)),Jt(" "+U(s.views),1)]),g("span",v$,[c[1]||(c[1]=g("i",{class:"fa-regular fa-comment-dots"},null,-1)),Jt(" "+U(e.value),1)]),g("span",null,[c[2]||(c[2]=g("i",{class:"fa-solid fa-heart"},null,-1)),Jt(" "+U(t.value),1)])])])]),_:1},8,["to"])}}},dy=re(b$,[["__scopeId","data-v-a5dd6a61"]]),y$={class:"blog_list"},w$={class:"container"},_$={class:"row"},A$={class:"blog_card"},S$={class:"pagination justify-content-center"},E$=["onClick"],x$={__name:"BlogList",setup(s){const t=vt([]),e=vt(1),n=Je({admin:!1,itemsPerPage:8});function i(){const h=window.innerWidth;h>1200?n.itemsPerPage=8:h>768?n.itemsPerPage=4:n.itemsPerPage=3}Ka(()=>{window.removeEventListener("resize",i)}),ls(()=>{d(),r(),i(),window.addEventListener("resize",i)});const r=async()=>{const h=JSON.parse(localStorage.getItem("user"));if(h){const f=await a();n.admin=f.some(p=>p.id===h.id),n.admin?console.log("User is an admin"):console.log("User is not an admin")}else console.log("No user data found")},a=async()=>{try{return(await Pt.get("/api/users/admin")).data}catch(h){console.error("Error fetching comments:",h)}},o=B(()=>Math.ceil(t.value.length/n.itemsPerPage)),l=B(()=>{const h=(e.value-1)*n.itemsPerPage,f=h+n.itemsPerPage;return t.value.slice(h,f)}),c=(h,f)=>{f.preventDefault(),h>=1&&h<=o.value&&(e.value=h)},d=async()=>{try{await Pt.get("/api/posts",{params:{category_name:"blog"}}).then(h=>{t.value=h.data,console.log(t.value)}).catch(h=>{console.error("Error fetching blogs:",h)})}catch(h){console.error("Error fetching blog:",h)}};return(h,f)=>(R(),O("div",y$,[g("div",w$,[f[2]||(f[2]=g("h1",{class:"mx-3"},"Our Blogs",-1)),g("div",_$,[(R(!0),O(Et,null,Wt(l.value,p=>(R(),O("div",{key:p.id,class:"col-xl-3 col-md-6 col-lg-4"},[g("div",A$,[G(dy,{image:p.ImageUrl,title:p.Title,description:p.ContentIntro.slice(0,100)+"...",author:p.Author,authorAvatar:p.AuthorAvatar,views:p.Views,id:p.PostID,create_at:p.CreatedAt},null,8,["image","title","description","author","authorAvatar","views","id","create_at"])])]))),128))]),g("nav",null,[g("ul",S$,[g("li",{class:Ft(["page-item",{disabled:e.value===1}])},[g("a",{class:"page-link",href:"#",onClick:f[0]||(f[0]=p=>c(e.value-1,p))},"Previous")],2),(R(!0),O(Et,null,Wt(o.value,p=>(R(),O("li",{key:p,class:Ft(["page-item",{active:e.value===p}])},[g("a",{class:"page-link",href:"#",onClick:m=>c(p,m)},U(p),9,E$)],2))),128)),g("li",{class:Ft(["page-item",{disabled:e.value===o.value}])},[g("a",{class:"page-link",href:"#",onClick:f[1]||(f[1]=p=>c(e.value+1,p))},"Next")],2)])])])]))}},C$=re(x$,[["__scopeId","data-v-857162ba"]]),T$={key:0,class:"container my-3 blog-content"},D$={class:"text-center my-4"},k$={class:"lead"},P$={class:"text-center mb-4"},M$=["src"],R$={key:1,src:"https://via.placeholder.com/800x400?text=No+Image+Available",alt:"Default Blog Image",class:"img-fluid rounded"},O$={class:"mb-4"},I$={key:0,class:"blockquote fst-italic px-3"},$$={class:"d-flex justify-content-between align-items-center"},L$={class:"text-muted mb-0"},N$={class:"text-muted mb-0 mx-2"},F$={class:"text-muted mb-0"},B$={key:1,class:"text-center py-5"},H$={__name:"BlogContent",props:{blog:{type:Object}},setup(s){const t=df(),e=vt({}),n=Je({likes:0,comments:0,isLiked:!1}),i=d=>{const h=encodeURIComponent(window.location.href);let f="";switch(d){case"facebook":f=`https://www.facebook.com/sharer/sharer.php?u=${h}`;break;case"twitter":f=`https://twitter.com/intent/tweet?url=${h}`;break;case"linkedin":f=`https://www.linkedin.com/shareArticle?url=${h}`;break;default:console.error("Unsupported platform:",d);return}window.open(f,"_blank")},r=async()=>{if(!e.value.UserID){alert("Vui long dang nhap");return}try{const d=t.params.id,h=n.isLiked?"unlike":"like",f=await Pt.post(`/api/posts/${d}/like`,{action:h,userId:e.value.UserID});f.status===200?(n.isLiked=!n.isLiked,c(d),n.likes+=n.isLiked?1:-1):console.error("Có lỗi xảy ra khi gọi API:",f.data.message)}catch(d){console.error("Lỗi khi gọi API:",d.message)}},a=()=>{const d=JSON.parse(localStorage.getItem("user"));d?e.value=d:console.log("Chua dang nhap")},o=async d=>{try{const h=await Pt.get(`/api/user_likes/${d}`);n.likes=h.data}catch(h){console.error("Error fetching comments:",h)}},l=async d=>{try{const h=await Pt.get(`/api/comments/${d}`);n.comments=h.data}catch(h){console.error("Error fetching comments:",h)}},c=async d=>{try{const h=e.value.UserID,f=await Pt.get(`/api/posts/${h}/is-liked/${d}`);n.isLiked=f.data.isLiked===!0}catch(h){console.error("Error fetching blog:",h)}};return ls(()=>{const d=t.params.id;a(),o(d),l(d),c(d)}),ry((d,h,f)=>{const p=d.params.id;a(),o(p),l(p),c(p),f()}),(d,h)=>s.blog?(R(),O("div",T$,[g("div",D$,[g("h1",null,U(s.blog.Title||"No Title Available"),1),g("p",k$,U(s.blog.Subtitle||"No Subtitle"),1)]),g("div",P$,[s.blog.ImageUrl?(R(),O("img",{key:0,src:s.blog.ImageUrl,alt:"Blog Image",class:"img-fluid rounded"},null,8,M$)):(R(),O("img",R$))]),g("div",O$,[g("p",null,U(s.blog.ContentIntro||"No introduction available."),1),s.blog.Quote?(R(),O("blockquote",I$,[g("p",null,U(s.blog.Quote),1)])):Ot("",!0),g("p",null,U(s.blog.ContentBody||"No content available."),1)]),g("div",$$,[g("div",null,[g("button",{class:"btn btn-link",onClick:h[0]||(h[0]=f=>i("facebook")),title:"Share on Facebook"},h[3]||(h[3]=[g("i",{class:"fa-brands fa-facebook"},null,-1)])),g("button",{class:"btn btn-link",onClick:h[1]||(h[1]=f=>i("twitter")),title:"Share on twitter"},h[4]||(h[4]=[g("i",{class:"fa-brands fa-x-twitter"},null,-1)])),g("button",{class:"btn btn-link",onClick:h[2]||(h[2]=f=>i("linkedin")),title:"Share on LinkedIn"},h[5]||(h[5]=[g("i",{class:"fa-brands fa-linkedin"},null,-1)]))]),g("div",null,[g("span",L$,[Jt(U(s.blog.Views!==void 0?s.blog.Views:0)+" ",1),h[6]||(h[6]=g("i",{class:"fa-regular fa-eye"},null,-1))]),g("span",N$,[Jt(U(n.comments)+" ",1),h[7]||(h[7]=g("i",{class:"fa-regular fa-comment-dots"},null,-1))]),g("span",F$,U(n.likes),1),g("button",{class:"btn btn-link p-0",onClick:r,title:"Like this post"},[g("i",{class:Ft(["fa-heart","fa-solid",n.isLiked?"text-danger":"text-secondary"])},null,2)])])])])):(R(),O("div",B$,h[8]||(h[8]=[g("p",{class:"text-muted"},"Loading blog content...",-1)])))}},mS=re(H$,[["__scopeId","data-v-f1c4f45e"]]),U$={class:"container-fluid mt-5 mx-3"},j$={class:"row"},Y$={class:"col-md-6"},V$={class:"form-group"},W$=["value"],q$={class:"form-group"},z$=["value"],G$={class:"form-group"},K$={class:"form-group"},X$={key:0,class:"form-group"},J$={key:1,class:"form-group"},Q$={key:2,class:"form-group"},Z$={key:3,class:"form-group"},t2={key:4,class:"form-group"},e2={class:"col-md-6"},s2={class:"text-center mb-4"},n2={key:0,class:"preview-card"},i2={key:0},r2={key:1,class:"preview-card"},a2={__name:"BlogForm",setup(s){const t=Je({author_id:-1,category_id:"",image_url:"https://via.placeholder.com/800x400?text=No+Image+Available",title:"Title",subtitle:"",content_intro:" ",quote:"",content_body:"",author:"Full Name",authorAvatar:"https://i.pinimg.com/736x/3a/d8/f9/3ad8f9d4a96c825e9efa524f6b4b70a4.jpg",link:"",created_at:""}),e=vt([]),n=vt([]),i=vt(""),r=vt(!1),a=vt(!0),o=vt(!0),l=async()=>{var v,b;try{if(t.link){const E=c(t.link);E?t.link=`https://drive.google.com/uc?id=${E}&export=download`:console.log("Không tìm thấy ID file trong URL.")}const y=await Pt.post("/api/posts",t);i.value=y.data.message,r.value=!0}catch(y){i.value=((b=(v=y.response)==null?void 0:v.data)==null?void 0:b.message)||"Error creating post",r.value=!1}};function c(v){const b=/\/d\/([a-zA-Z0-9_-]+)/,y=v.match(b);return y?y[1]:null}const d=()=>{a.value=!a.value},h=()=>{o.value=!o.value},f=async()=>{try{const v=await Pt.get("/api/users/admin");n.value=v.data}catch(v){console.error("Error fetching comments:",v)}},p=async()=>{try{const v=await Pt.get("/api/categories");e.value=v.data,t.created_at=new Date().toISOString()}catch(v){console.error("Error fetching comments:",v)}},m=()=>{const v=JSON.parse(localStorage.getItem("user"));v&&(t.author=v.username,t.author_id=v.id)};return ls(()=>{p(),f(),m()}),(v,b)=>(R(),O("div",U$,[b[21]||(b[21]=g("h2",{class:"text-center"},"Create Blog",-1)),g("div",j$,[g("div",Y$,[g("form",{onSubmit:hi(l,["prevent"])},[g("div",V$,[b[10]||(b[10]=g("label",{for:"author_id"},"Author ID",-1)),ee(g("select",{type:"number",class:"form-control",id:"author_id","onUpdate:modelValue":b[0]||(b[0]=y=>t.author_id=y),required:""},[b[9]||(b[9]=g("option",{disabled:"",value:""},"Select Author",-1)),(R(!0),O(Et,null,Wt(n.value,y=>(R(),O("option",{key:y.id,value:y.id},U(y.username),9,W$))),128))],512),[[ev,t.author_id]])]),g("div",q$,[b[12]||(b[12]=g("label",{for:"category_id"},"Category",-1)),ee(g("select",{class:"form-control",id:"category_id","onUpdate:modelValue":b[1]||(b[1]=y=>t.category_id=y),required:""},[b[11]||(b[11]=g("option",{disabled:"",value:""},"Select a Category",-1)),(R(!0),O(Et,null,Wt(e.value,y=>(R(),O("option",{key:y.id,value:y.id},U(y.name),9,z$))),128))],512),[[ev,t.category_id]])]),g("div",G$,[b[13]||(b[13]=g("label",{for:"image_url"},"Image URL",-1)),ee(g("input",{type:"text",class:"form-control",id:"image_url","onUpdate:modelValue":b[2]||(b[2]=y=>t.image_url=y),required:""},null,512),[[pe,t.image_url]])]),g("div",K$,[b[14]||(b[14]=g("label",{for:"title"},"Title",-1)),ee(g("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":b[3]||(b[3]=y=>t.title=y),required:""},null,512),[[pe,t.title]])]),t.category_id==1?(R(),O("div",X$,[b[15]||(b[15]=g("label",{for:"subtitle"},"Subtitle",-1)),ee(g("input",{type:"text",class:"form-control",id:"subtitle","onUpdate:modelValue":b[4]||(b[4]=y=>t.subtitle=y)},null,512),[[pe,t.subtitle]])])):Ot("",!0),t.category_id==1?(R(),O("div",J$,[b[16]||(b[16]=g("label",{for:"content_intro"},"Content Intro",-1)),ee(g("textarea",{class:"form-control",id:"content_intro","onUpdate:modelValue":b[5]||(b[5]=y=>t.content_intro=y),rows:"3",required:""},null,512),[[pe,t.content_intro]])])):Ot("",!0),t.category_id==1?(R(),O("div",Q$,[b[17]||(b[17]=g("label",{for:"quote"},"Quote",-1)),ee(g("textarea",{class:"form-control",id:"quote","onUpdate:modelValue":b[6]||(b[6]=y=>t.quote=y),rows:"2"},null,512),[[pe,t.quote]])])):Ot("",!0),t.category_id==1?(R(),O("div",Z$,[b[18]||(b[18]=g("label",{for:"content_body"},"Content Body",-1)),ee(g("textarea",{class:"form-control",id:"content_body","onUpdate:modelValue":b[7]||(b[7]=y=>t.content_body=y),rows:"5",required:""},null,512),[[pe,t.content_body]])])):Ot("",!0),t.category_id==2?(R(),O("div",t2,[b[19]||(b[19]=g("label",{for:"link"},"External Link",-1)),ee(g("input",{type:"url",class:"form-control",id:"link","onUpdate:modelValue":b[8]||(b[8]=y=>t.link=y)},null,512),[[pe,t.link]])])):Ot("",!0),b[20]||(b[20]=g("button",{type:"submit",class:"btn btn-primary btn-block my-3"}," Create Post ",-1))],32),i.value?(R(),O("div",{key:0,class:Ft(["alert mt-3",{"alert-success":r.value,"alert-danger":!r.value}])},U(i.value),3)):Ot("",!0)]),g("div",e2,[g("div",s2,[g("button",{class:Ft(["btn mx-2",{"btn-secondary":!o.value,"btn-success":o.value}]),onClick:h},U(o.value?"On Card":"Off Card"),3),g("button",{class:Ft(["btn",{"btn-secondary":!a.value,"btn-success":a.value}]),onClick:d},U(a.value?"On Blog":"Off Blog"),3)]),t.title&&t.content_intro&&t.category_id==1?(R(),O("div",n2,[o.value?(R(),O("div",i2,[G(dy,{image:t.image_url,title:t.title,description:t.content_intro.slice(0,100),author:t.author,authorAvatar:t.authorAvatar,views:0,id:null,create_at:new Date().toISOString()},null,8,["image","title","description","author","authorAvatar","create_at"])])):Ot("",!0),g("div",null,[a.value?(R(),Fe(mS,{key:0,blog:t},null,8,["blog"])):Ot("",!0)])])):Ot("",!0),t.title&&t.content_intro&&t.category_id==2?(R(),O("div",r2,[G(hS,{file:t},null,8,["file"])])):Ot("",!0)])])]))}},o2=re(a2,[["__scopeId","data-v-af9e5149"]]),l2={class:"body"},c2={class:"heroimage"},u2={__name:"Blog",setup(s){const t=Je({admin:!1}),e=async()=>{const i=JSON.parse(localStorage.getItem("user"));if(i){const r=await n();t.admin=r.some(a=>a.id===i.id),t.admin?console.log("User is an admin"):console.log("User is not an admin")}else console.log("No user data found")},n=async()=>{try{return(await Pt.get("/api/users/admin")).data}catch(i){console.error("Error fetching comments:",i)}};return ls(()=>{e()}),(i,r)=>(R(),O("div",l2,[g("header",null,[G(zr),g("div",c2,[G(Tl,{image:"https://media.istockphoto.com/id/1154241782/vi/anh/ph%E1%BB%91-c%E1%BB%95-h%E1%BB%99i-an-v%C3%A0o-bu%E1%BB%95i-s%C3%A1ng.jpg?s=2048x2048&w=is&k=20&c=W77qSC4nfw_c0xGXhV8y3tfA2raTwsklv9rZEbj9Heg=",p1:"Meaningful Adventures",p2:"Charity Stories from Our Tours"})]),r[0]||(r[0]=g("div",{class:"content text-center"}," Lorem ipsum dolor sit, amet consectetur adipisicing elit. Eius sapiente in error, animi nostrum ut suscipit corrupti voluptas, doloribus facilis et illo assumenda est alias autem! Iure nostrum dolores asperiores? ",-1))]),g("main",null,[G(C$),G(uI),G(Gr)])]))}},d2=re(u2,[["__scopeId","data-v-df5174e5"]]),h2={class:"comment-item d-flex mb-3"},f2={class:"avatar-wrapper me-3"},p2=["src"],m2={class:"comment-content"},g2={class:"author-name mb-1"},v2={class:"text-muted"},b2={class:"comment-text mb-0"},y2={__name:"Comment",props:{comment:{type:Object,required:!0}},setup(s){df();const t=s,e=B(()=>{const i=new Date,r=new Date(t.comment.CreatedAt),a=Math.floor((i-r)/1e3);if(a<60)return`${a} seconds ago`;if(a<3600){const o=Math.floor(a/60);return`${o} minute${o>1?"s":""} ago`}else if(a<86400){const o=Math.floor(a/3600);return`${o} hour${o>1?"s":""} ago`}else if(a<2592e3){const o=Math.floor(a/86400);return`${o} day${o>1?"s":""} ago`}else if(a<31536e3){const o=Math.floor(a/2592e3);return`${o} month${o>1?"s":""} ago`}else{const o=Math.floor(a/31536e3);return`${o} year${o>1?"s":""} ago`}}),n=B(()=>t.comment.AvatarUrl||"https://via.placeholder.com/40");return(i,r)=>(R(),O("div",h2,[g("div",f2,[g("img",{src:n.value,alt:"User Avatar",class:"rounded-circle",style:{width:"40px",height:"40px"}},null,8,p2)]),g("div",m2,[g("h6",g2,U(s.comment.FullName||"Unknown member"),1),g("small",v2,U(e.value||"a few seconds ago"),1),g("p",b2,U(s.comment.Content),1)])]))}},w2=re(y2,[["__scopeId","data-v-4e6da9fb"]]);var wd={};wd.d=(s,t)=>{for(var e in t)wd.o(t,e)&&!wd.o(s,e)&&Object.defineProperty(s,e,{enumerable:!0,get:t[e]})};wd.o=(s,t)=>Object.prototype.hasOwnProperty.call(s,t);var Lt=globalThis.pdfjsLib={};wd.d(Lt,{AbortException:()=>Dl,AnnotationEditorLayer:()=>wb,AnnotationEditorParamsType:()=>Xt,AnnotationEditorType:()=>Vt,AnnotationEditorUIManager:()=>_l,AnnotationLayer:()=>mN,AnnotationMode:()=>aa,ColorPicker:()=>Fp,DOMSVGFactory:()=>wy,DrawLayer:()=>Sb,FeatureTest:()=>Ys,GlobalWorkerOptions:()=>Fr,ImageKind:()=>Wf,InvalidPDFException:()=>vS,MissingPDFException:()=>pf,OPS:()=>Gn,OutputScale:()=>mv,PDFDataRangeTransport:()=>fE,PDFDateString:()=>gy,PDFWorker:()=>nc,PasswordResponses:()=>E2,PermissionFlag:()=>S2,PixelsPerInch:()=>ja,RenderingCancelledException:()=>py,TextLayer:()=>$d,UnexpectedResponseException:()=>jm,Util:()=>xt,VerbosityLevel:()=>Bm,XfaLayer:()=>mE,build:()=>KL,createValidAbsoluteUrl:()=>D2,fetchData:()=>Vm,getDocument:()=>HL,getFilenameFromUrl:()=>N2,getPdfFilenameFromUrl:()=>F2,getXfaPageViewport:()=>B2,isDataScheme:()=>Wm,isPdfFile:()=>my,noContextMenu:()=>gi,normalizeUnicode:()=>I2,setLayerDimensions:()=>wl,shadow:()=>Gt,stopEvent:()=>li,version:()=>GL});const Us=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),gS=[1,0,0,1,0,0],dv=[.001,0,0,.001,0,0],_2=1e7,Dg=1.35,bn={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},aa={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},A2="pdfjs_internal_editor_",Vt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Xt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},S2={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},bs={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Wf={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},qe={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Fu={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Bm={ERRORS:0,WARNINGS:1,INFOS:5},Gn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},E2={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Hm=Bm.WARNINGS;function x2(s){Number.isInteger(s)&&(Hm=s)}function C2(){return Hm}function Um(s){Hm>=Bm.INFOS&&console.log(`Info: ${s}`)}function qt(s){Hm>=Bm.WARNINGS&&console.log(`Warning: ${s}`)}function ge(s){throw new Error(s)}function je(s,t){s||ge(t)}function T2(s){switch(s==null?void 0:s.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function D2(s,t=null,e=null){if(!s)return null;try{if(e&&typeof s=="string"){if(e.addDefaultProtocol&&s.startsWith("www.")){const i=s.match(/\./g);(i==null?void 0:i.length)>=2&&(s=`http://${s}`)}if(e.tryConvertEncoding)try{s=O2(s)}catch{}}const n=t?new URL(s,t):new URL(s);if(T2(n))return n}catch{}return null}function Gt(s,t,e,n=!1){return Object.defineProperty(s,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const Ja=function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();class hv extends Ja{constructor(t,e){super(t,"PasswordException"),this.code=e}}class fv extends Ja{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class vS extends Ja{constructor(t){super(t,"InvalidPDFException")}}class pf extends Ja{constructor(t){super(t,"MissingPDFException")}}class jm extends Ja{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class k2 extends Ja{constructor(t){super(t,"FormatError")}}class Dl extends Ja{constructor(t){super(t,"AbortException")}}function bS(s){(typeof s!="object"||(s==null?void 0:s.length)===void 0)&&ge("Invalid argument for bytesToString");const t=s.length,e=8192;if(t<e)return String.fromCharCode.apply(null,s);const n=[];for(let i=0;i<t;i+=e){const r=Math.min(i+e,t),a=s.subarray(i,r);n.push(String.fromCharCode.apply(null,a))}return n.join("")}function Ym(s){typeof s!="string"&&ge("Invalid argument for stringToBytes");const t=s.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=s.charCodeAt(n)&255;return e}function P2(s){return String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255)}function hy(s){const t=Object.create(null);for(const[e,n]of s)t[e]=n;return t}function M2(){const s=new Uint8Array(4);return s[0]=1,new Uint32Array(s.buffer,0,1)[0]===1}function R2(){try{return new Function(""),!0}catch{return!1}}class Ys{static get isLittleEndian(){return Gt(this,"isLittleEndian",M2())}static get isEvalSupported(){return Gt(this,"isEvalSupported",R2())}static get isOffscreenCanvasSupported(){return Gt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Gt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Gt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Gt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return Gt(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const kg=Array.from(Array(256).keys(),s=>s.toString(16).padStart(2,"0"));var Hr,qf,pv;class xt{static makeHexColor(t,e,n){return`#${kg[t]}${kg[e]}${kg[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const n=t[0]*e[0]+t[1]*e[2]+e[4],i=t[0]*e[1]+t[1]*e[3]+e[5];return[n,i]}static applyInverseTransform(t,e){const n=e[0]*e[3]-e[1]*e[2],i=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,r=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n;return[i,r]}static getAxialAlignedBoundingBox(t,e){const n=this.applyTransform(t,e),i=this.applyTransform(t.slice(2,4),e),r=this.applyTransform([t[0],t[3]],e),a=this.applyTransform([t[2],t[1]],e);return[Math.min(n[0],i[0],r[0],a[0]),Math.min(n[1],i[1],r[1],a[1]),Math.max(n[0],i[0],r[0],a[0]),Math.max(n[1],i[1],r[1],a[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],i=t[0]*e[1]+t[1]*e[3],r=t[2]*e[0]+t[3]*e[2],a=t[2]*e[1]+t[3]*e[3],o=(n+a)/2,l=Math.sqrt((n+a)**2-4*(n*a-r*i))/2,c=o+l||1,d=o-l||1;return[Math.sqrt(c),Math.sqrt(d)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),i=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>i)return null;const r=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),a=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return r>a?null:[n,r,i,a]}static bezierBoundingBox(t,e,n,i,r,a,o,l,c){return c?(c[0]=Math.min(c[0],t,o),c[1]=Math.min(c[1],e,l),c[2]=Math.max(c[2],t,o),c[3]=Math.max(c[3],e,l)):c=[Math.min(t,o),Math.min(e,l),Math.max(t,o),Math.max(e,l)],A(this,Hr,pv).call(this,t,n,r,o,e,i,a,l,3*(-t+3*(n-r)+o),6*(t-2*n+r),3*(n-t),c),A(this,Hr,pv).call(this,t,n,r,o,e,i,a,l,3*(-e+3*(i-a)+l),6*(e-2*i+a),3*(i-e),c),c}}Hr=new WeakSet,qf=function(t,e,n,i,r,a,o,l,c,d){if(c<=0||c>=1)return;const h=1-c,f=c*c,p=f*c,m=h*(h*(h*t+3*c*e)+3*f*n)+p*i,v=h*(h*(h*r+3*c*a)+3*f*o)+p*l;d[0]=Math.min(d[0],m),d[1]=Math.min(d[1],v),d[2]=Math.max(d[2],m),d[3]=Math.max(d[3],v)},pv=function(t,e,n,i,r,a,o,l,c,d,h,f){if(Math.abs(c)<1e-12){Math.abs(d)>=1e-12&&A(this,Hr,qf).call(this,t,e,n,i,r,a,o,l,-h/d,f);return}const p=d**2-4*h*c;if(p<0)return;const m=Math.sqrt(p),v=2*c;A(this,Hr,qf).call(this,t,e,n,i,r,a,o,l,(-d+m)/v,f),A(this,Hr,qf).call(this,t,e,n,i,r,a,o,l,(-d-m)/v,f)},S(xt,Hr);function O2(s){return decodeURIComponent(escape(s))}let Pg=null,w0=null;function I2(s){return Pg||(Pg=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,w0=new Map([["ﬅ","ſt"]])),s.replaceAll(Pg,(t,e,n)=>e?e.normalize("NFKC"):w0.get(n))}function $2(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const s=new Uint8Array(32);return crypto.getRandomValues(s),bS(s)}const fy="pdfjs_internal_id_",ar={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function L2(s){return Uint8Array.prototype.toBase64?s.toBase64():btoa(bS(s))}typeof Promise.try!="function"&&(Promise.try=function(s,...t){return new Promise(e=>{e(s(...t))})});const or="http://www.w3.org/2000/svg",fo=class fo{};kt(fo,"CSS",96),kt(fo,"PDF",72),kt(fo,"PDF_TO_CSS_UNITS",fo.CSS/fo.PDF);let ja=fo;async function Vm(s,t="text"){if(Gu(s,document.baseURI)){const e=await fetch(s);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const i=new XMLHttpRequest;i.open("GET",s,!0),i.responseType=t,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(i.response);return}e(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class mf{constructor({viewBox:t,scale:e,rotation:n,offsetX:i=0,offsetY:r=0,dontFlip:a=!1}){this.viewBox=t,this.scale=e,this.rotation=n,this.offsetX=i,this.offsetY=r;const o=(t[2]+t[0])/2,l=(t[3]+t[1])/2;let c,d,h,f;switch(n%=360,n<0&&(n+=360),n){case 180:c=-1,d=0,h=0,f=1;break;case 90:c=0,d=1,h=1,f=0;break;case 270:c=0,d=-1,h=-1,f=0;break;case 0:c=1,d=0,h=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(h=-h,f=-f);let p,m,v,b;c===0?(p=Math.abs(l-t[1])*e+i,m=Math.abs(o-t[0])*e+r,v=(t[3]-t[1])*e,b=(t[2]-t[0])*e):(p=Math.abs(o-t[0])*e+i,m=Math.abs(l-t[1])*e+r,v=(t[2]-t[0])*e,b=(t[3]-t[1])*e),this.transform=[c*e,d*e,h*e,f*e,p-c*e*o-h*e*l,m-d*e*o-f*e*l],this.width=v,this.height=b}get rawDims(){const{viewBox:t}=this;return Gt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:r=!1}={}){return new mf({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:r})}convertToViewportPoint(t,e){return xt.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=xt.applyTransform([t[0],t[1]],this.transform),n=xt.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){return xt.applyInverseTransform([t,e],this.transform)}}class py extends Ja{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Wm(s){const t=s.length;let e=0;for(;e<t&&s[e].trim()==="";)e++;return s.substring(e,e+5).toLowerCase()==="data:"}function my(s){return typeof s=="string"&&/\.pdf$/i.test(s)}function N2(s){return[s]=s.split(/[#?]/,1),s.substring(s.lastIndexOf("/")+1)}function F2(s,t="document.pdf"){if(typeof s!="string")return t;if(Wm(s))return qt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=e.exec(s);let r=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(r&&(r=r[0],r.includes("%")))try{r=n.exec(decodeURIComponent(r))[0]}catch{}return r||t}class _0{constructor(){kt(this,"started",Object.create(null));kt(this,"times",[])}time(t){t in this.started&&qt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||qt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:i,end:r}of this.times)t.push(`${n.padEnd(e)} ${r-i}ms
`);return t.join("")}}function Gu(s,t){try{const{protocol:e}=t?new URL(s,t):new URL(s);return e==="http:"||e==="https:"}catch{return!1}}function gi(s){s.preventDefault()}function li(s){s.preventDefault(),s.stopPropagation()}function A0(s){console.log("Deprecated API usage: "+s)}var Ud;class gy{static toDateObject(t){if(!t||typeof t!="string")return null;u(this,Ud)||w(this,Ud,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=u(this,Ud).exec(t);if(!e)return null;const n=parseInt(e[1],10);let i=parseInt(e[2],10);i=i>=1&&i<=12?i-1:0;let r=parseInt(e[3],10);r=r>=1&&r<=31?r:1;let a=parseInt(e[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(e[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(e[6],10);l=l>=0&&l<=59?l:0;const c=e[7]||"Z";let d=parseInt(e[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(e[9],10)||0;return h=h>=0&&h<=59?h:0,c==="-"?(a+=d,o+=h):c==="+"&&(a-=d,o-=h),new Date(Date.UTC(n,i,r,a,o,l))}}Ud=new WeakMap,S(gy,Ud);function B2(s,{scale:t=1,rotation:e=0}){const{width:n,height:i}=s.attributes.style,r=[0,0,parseInt(n),parseInt(i)];return new mf({viewBox:r,scale:t,rotation:e})}function vy(s){if(s.startsWith("#")){const t=parseInt(s.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return s.startsWith("rgb(")?s.slice(4,-1).split(",").map(t=>parseInt(t)):s.startsWith("rgba(")?s.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(qt(`Not a valid color format: "${s}"`),[0,0,0])}function H2(s){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of s.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;s.set(e,vy(n))}t.remove()}function xe(s){const{a:t,b:e,c:n,d:i,e:r,f:a}=s.getTransform();return[t,e,n,i,r,a]}function Si(s){const{a:t,b:e,c:n,d:i,e:r,f:a}=s.getTransform().invertSelf();return[t,e,n,i,r,a]}function wl(s,t,e=!1,n=!0){if(t instanceof mf){const{pageWidth:i,pageHeight:r}=t.rawDims,{style:a}=s,o=Ys.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,c=`var(--scale-factor) * ${r}px`,d=o?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,h=o?`round(down, ${c}, var(--scale-round-y, 1px))`:`calc(${c})`;!e||t.rotation%180===0?(a.width=d,a.height=h):(a.width=h,a.height=d)}n&&s.setAttribute("data-main-rotation",t.rotation)}class mv{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var ca,vo,Kn,bo,jd,Yd,em,yS,Vs,wS,_S,zf,AS,vv;const dr=class dr{constructor(t){S(this,Vs);S(this,ca,null);S(this,vo,null);S(this,Kn);S(this,bo,null);S(this,jd,null);w(this,Kn,t),u(dr,Yd)||w(dr,Yd,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=w(this,ca,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=u(this,Kn)._uiManager._signal;t.addEventListener("contextmenu",gi,{signal:e}),t.addEventListener("pointerdown",A(dr,em,yS),{signal:e});const n=w(this,bo,document.createElement("div"));n.className="buttons",t.append(n);const i=u(this,Kn).toolbarPosition;if(i){const{style:r}=t,a=u(this,Kn)._uiManager.direction==="ltr"?1-i[0]:i[0];r.insetInlineEnd=`${100*a}%`,r.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return A(this,Vs,AS).call(this),t}get div(){return u(this,ca)}hide(){var t;u(this,ca).classList.add("hidden"),(t=u(this,vo))==null||t.hideDropdown()}show(){var t;u(this,ca).classList.remove("hidden"),(t=u(this,jd))==null||t.shown()}async addAltText(t){const e=await t.render();A(this,Vs,zf).call(this,e),u(this,bo).prepend(e,u(this,Vs,vv)),w(this,jd,t)}addColorPicker(t){w(this,vo,t);const e=t.renderButton();A(this,Vs,zf).call(this,e),u(this,bo).prepend(e,u(this,Vs,vv))}remove(){var t;u(this,ca).remove(),(t=u(this,vo))==null||t.destroy(),w(this,vo,null)}};ca=new WeakMap,vo=new WeakMap,Kn=new WeakMap,bo=new WeakMap,jd=new WeakMap,Yd=new WeakMap,em=new WeakSet,yS=function(t){t.stopPropagation()},Vs=new WeakSet,wS=function(t){u(this,Kn)._focusEventsAllowed=!1,li(t)},_S=function(t){u(this,Kn)._focusEventsAllowed=!0,li(t)},zf=function(t){const e=u(this,Kn)._uiManager._signal;t.addEventListener("focusin",A(this,Vs,wS).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",A(this,Vs,_S).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",gi,{signal:e})},AS=function(){const{editorType:t,_uiManager:e}=u(this,Kn),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",u(dr,Yd)[t]),A(this,Vs,zf).call(this,n),n.addEventListener("click",i=>{e.delete()},{signal:e._signal}),u(this,bo).append(n)},vv=function(){const t=document.createElement("div");return t.className="divider",t},S(dr,em),S(dr,Yd,null);let gv=dr;var Vd,yo,wo,Va,SS,ES,xS;class U2{constructor(t){S(this,Va);S(this,Vd,null);S(this,yo,null);S(this,wo);w(this,wo,t)}show(t,e,n){const[i,r]=A(this,Va,ES).call(this,e,n),{style:a}=u(this,yo)||w(this,yo,A(this,Va,SS).call(this));t.append(u(this,yo)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){u(this,yo).remove()}}Vd=new WeakMap,yo=new WeakMap,wo=new WeakMap,Va=new WeakSet,SS=function(){const t=w(this,yo,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",gi,{signal:u(this,wo)._signal});const e=w(this,Vd,document.createElement("div"));return e.className="buttons",t.append(e),A(this,Va,xS).call(this),t},ES=function(t,e){let n=0,i=0;for(const r of t){const a=r.y+r.height;if(a<n)continue;const o=r.x+(e?r.width:0);if(a>n){i=o,n=a;continue}e?o>i&&(i=o):o<i&&(i=o)}return[e?1-i:i,n]},xS=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=u(this,wo)._signal;t.addEventListener("contextmenu",gi,{signal:n}),t.addEventListener("click",()=>{u(this,wo).highlightSelection("floating_button")},{signal:n}),u(this,Vd).append(t)};function $p(s,t,e){for(const n of e)t.addEventListener(n,s[n].bind(s))}var sm;class j2{constructor(){S(this,sm,0)}get id(){return`${A2}${Rs(this,sm)._++}`}}sm=new WeakMap;var oc,Wd,_s,lc,Gf;const Jy=class Jy{constructor(){S(this,lc);S(this,oc,$2());S(this,Wd,0);S(this,_s,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=t;const r=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Gt(this,"_isSVGFittingCanvas",r)}async getFromFile(t){const{lastModified:e,name:n,size:i,type:r}=t;return A(this,lc,Gf).call(this,`${e}_${n}_${i}_${r}`,t)}async getFromUrl(t){return A(this,lc,Gf).call(this,t,t)}async getFromBlob(t,e){const n=await e;return A(this,lc,Gf).call(this,t,n)}async getFromId(t){u(this,_s)||w(this,_s,new Map);const e=u(this,_s).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){u(this,_s)||w(this,_s,new Map);let n=u(this,_s).get(t);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(e.width,e.height);return i.getContext("2d").drawImage(e,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${u(this,oc)}_${Rs(this,Wd)._++}`,refCounter:1,isSvg:!1},u(this,_s).set(t,n),u(this,_s).set(n.id,n),n}getSvgUrl(t){const e=u(this,_s).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var i;u(this,_s)||w(this,_s,new Map);const e=u(this,_s).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(n.width,n.height);r.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=r.convertToBlob()}(i=n.close)==null||i.call(n),e.bitmap=null}isValidId(t){return t.startsWith(`image_${u(this,oc)}_`)}};oc=new WeakMap,Wd=new WeakMap,_s=new WeakMap,lc=new WeakSet,Gf=async function(t,e){u(this,_s)||w(this,_s,new Map);let n=u(this,_s).get(t);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${u(this,oc)}_${Rs(this,Wd)._++}`,refCounter:0,isSvg:!1});let i;if(typeof e=="string"?(n.url=e,i=await Vm(e,"blob")):e instanceof File?i=n.file=e:e instanceof Blob&&(i=e),i.type==="image/svg+xml"){const r=Jy._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((c,d)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,c()},a.onload=async()=>{const h=n.svgUrl=a.result;o.src=await r?`${h}#svgView(preserveAspectRatio(none))`:h},o.onerror=a.onerror=d});a.readAsDataURL(i),await l}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){qt(i),n=null}return u(this,_s).set(t,n),n&&u(this,_s).set(n.id,n),n};let bv=Jy;var Le,ua,qd,De;class Y2{constructor(t=128){S(this,Le,[]);S(this,ua,!1);S(this,qd);S(this,De,-1);w(this,qd,t)}add({cmd:t,undo:e,post:n,mustExec:i,type:r=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&t(),u(this,ua))return;const l={cmd:t,undo:e,post:n,type:r};if(u(this,De)===-1){u(this,Le).length>0&&(u(this,Le).length=0),w(this,De,0),u(this,Le).push(l);return}if(a&&u(this,Le)[u(this,De)].type===r){o&&(l.undo=u(this,Le)[u(this,De)].undo),u(this,Le)[u(this,De)]=l;return}const c=u(this,De)+1;c===u(this,qd)?u(this,Le).splice(0,1):(w(this,De,c),c<u(this,Le).length&&u(this,Le).splice(c)),u(this,Le).push(l)}undo(){if(u(this,De)===-1)return;w(this,ua,!0);const{undo:t,post:e}=u(this,Le)[u(this,De)];t(),e==null||e(),w(this,ua,!1),w(this,De,u(this,De)-1)}redo(){if(u(this,De)<u(this,Le).length-1){w(this,De,u(this,De)+1),w(this,ua,!0);const{cmd:t,post:e}=u(this,Le)[u(this,De)];t(),e==null||e(),w(this,ua,!1)}}hasSomethingToUndo(){return u(this,De)!==-1}hasSomethingToRedo(){return u(this,De)<u(this,Le).length-1}cleanType(t){if(u(this,De)!==-1){for(let e=u(this,De);e>=0;e--)if(u(this,Le)[e].type!==t){u(this,Le).splice(e+1,u(this,De)-e),w(this,De,e);return}u(this,Le).length=0,w(this,De,-1)}}destroy(){w(this,Le,null)}}Le=new WeakMap,ua=new WeakMap,qd=new WeakMap,De=new WeakMap;var nm,CS;class gf{constructor(t){S(this,nm);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Ys.platform;for(const[n,i,r={}]of t)for(const a of n){const o=a.startsWith("mac+");e&&o?(this.callbacks.set(a.slice(4),{callback:i,options:r}),this.allKeys.add(a.split("+").at(-1))):!e&&!o&&(this.callbacks.set(a,{callback:i,options:r}),this.allKeys.add(a.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(A(this,nm,CS).call(this,e));if(!n)return;const{callback:i,options:{bubbles:r=!1,args:a=[],checker:o=null}}=n;o&&!o(t,e)||(i.bind(t,...a,e)(),r||li(e))}}nm=new WeakSet,CS=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const im=class im{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return H2(t),Gt(this,"_colors",t)}convert(t){const e=vy(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,i]of this._colors)if(i.every((r,a)=>r===e[a]))return im._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?xt.makeHexColor(...e):t}};kt(im,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let yv=im;var cc,on,Ge,cs,uc,fr,dc,Dn,da,_o,hc,Ao,Ti,Xn,So,zd,Gd,fc,Kd,Di,ha,pc,fa,ki,rm,pa,Xd,ma,Eo,Jd,Qd,es,ue,pr,xo,Zd,th,ga,Pi,mr,eh,kn,ft,Kf,wv,TS,DS,Xf,kS,PS,MS,_v,RS,Av,Sv,OS,Is,lr,IS,$S,Ev,LS,Ku,xv;const Gl=class Gl{constructor(t,e,n,i,r,a,o,l,c,d,h,f){S(this,ft);S(this,cc,new AbortController);S(this,on,null);S(this,Ge,new Map);S(this,cs,new Map);S(this,uc,null);S(this,fr,null);S(this,dc,null);S(this,Dn,new Y2);S(this,da,null);S(this,_o,null);S(this,hc,0);S(this,Ao,new Set);S(this,Ti,null);S(this,Xn,null);S(this,So,new Set);kt(this,"_editorUndoBar",null);S(this,zd,!1);S(this,Gd,!1);S(this,fc,!1);S(this,Kd,null);S(this,Di,null);S(this,ha,null);S(this,pc,null);S(this,fa,!1);S(this,ki,null);S(this,rm,new j2);S(this,pa,!1);S(this,Xd,!1);S(this,ma,null);S(this,Eo,null);S(this,Jd,null);S(this,Qd,null);S(this,es,Vt.NONE);S(this,ue,new Set);S(this,pr,null);S(this,xo,null);S(this,Zd,null);S(this,th,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});S(this,ga,[0,0]);S(this,Pi,null);S(this,mr,null);S(this,eh,null);S(this,kn,null);const p=this._signal=u(this,cc).signal;w(this,mr,t),w(this,eh,e),w(this,uc,n),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:p}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:p}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:p}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:p}),i._on("setpreference",this.onSetPreference.bind(this),{signal:p}),i._on("switchannotationeditorparams",m=>this.updateParams(m.type,m.value),{signal:p}),A(this,ft,kS).call(this),A(this,ft,OS).call(this),A(this,ft,_v).call(this),w(this,fr,r.annotationStorage),w(this,Kd,r.filterFactory),w(this,xo,a),w(this,pc,o||null),w(this,zd,l),w(this,Gd,c),w(this,fc,d),w(this,Qd,h||null),this.viewParameters={realScale:ja.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=f||null}static get _keyboardManager(){const t=Gl.prototype,e=a=>u(a,mr).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),n=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return Gt(this,"_keyboardManager",new gf([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&u(a,mr).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&u(a,mr).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}]]))}destroy(){var t,e,n,i,r;(t=u(this,kn))==null||t.resolve(),w(this,kn,null),(e=u(this,cc))==null||e.abort(),w(this,cc,null),this._signal=null;for(const a of u(this,cs).values())a.destroy();u(this,cs).clear(),u(this,Ge).clear(),u(this,So).clear(),w(this,on,null),u(this,ue).clear(),u(this,Dn).destroy(),(n=u(this,uc))==null||n.destroy(),(i=u(this,ki))==null||i.hide(),w(this,ki,null),u(this,Di)&&(clearTimeout(u(this,Di)),w(this,Di,null)),u(this,Pi)&&(clearTimeout(u(this,Pi)),w(this,Pi,null)),(r=this._editorUndoBar)==null||r.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return u(this,Qd)}get useNewAltTextFlow(){return u(this,Gd)}get useNewAltTextWhenAddingImage(){return u(this,fc)}get hcmFilter(){return Gt(this,"hcmFilter",u(this,xo)?u(this,Kd).addHCMFilter(u(this,xo).foreground,u(this,xo).background):"none")}get direction(){return Gt(this,"direction",getComputedStyle(u(this,mr)).direction)}get highlightColors(){return Gt(this,"highlightColors",u(this,pc)?new Map(u(this,pc).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Gt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),w(this,_o,t)}setMainHighlightColorPicker(t){w(this,Jd,t)}editAltText(t,e=!1){var n;(n=u(this,uc))==null||n.editAltText(this,t,e)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":w(this,fc,e);break}}onPageChanging({pageNumber:t}){w(this,hc,t-1)}focusMainContainer(){u(this,mr).focus()}findParent(t,e){for(const n of u(this,cs).values()){const{x:i,y:r,width:a,height:o}=n.div.getBoundingClientRect();if(t>=i&&t<=i+a&&e>=r&&e<=r+o)return n}return null}disableUserSelect(t=!1){u(this,eh).classList.toggle("noUserSelect",t)}addShouldRescale(t){u(this,So).add(t)}removeShouldRescale(t){u(this,So).delete(t)}onScaleChanging({scale:t}){var e;this.commitOrRemove(),this.viewParameters.realScale=t*ja.PDF_TO_CSS_UNITS;for(const n of u(this,So))n.onScaleChanging();(e=u(this,_o))==null||e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:a}=e,o=e.toString(),c=A(this,ft,Kf).call(this,e).closest(".textLayer"),d=this.getSelectionBoxes(c);if(!d)return;e.empty();const h=A(this,ft,wv).call(this,c),f=u(this,es)===Vt.NONE,p=()=>{h==null||h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:d,anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:a,text:o}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(Vt.HIGHLIGHT,p);return}p()}addToAnnotationStorage(t){!t.isEmpty()&&u(this,fr)&&!u(this,fr).has(t.id)&&u(this,fr).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,u(this,fa)&&(w(this,fa,!1),A(this,ft,Xf).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of u(this,ue))if(e.div.contains(t)){w(this,Eo,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!u(this,Eo))return;const[t,e]=u(this,Eo);w(this,Eo,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){A(this,ft,_v).call(this),A(this,ft,Av).call(this)}removeEditListeners(){A(this,ft,RS).call(this),A(this,ft,Sv).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of u(this,Xn))if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of u(this,Xn))if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var n;if(t.preventDefault(),(n=u(this,on))==null||n.commitOrRemove(),!this.hasSelection)return;const e=[];for(const i of u(this,ue)){const r=i.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const r of e.items)for(const a of u(this,Xn))if(a.isHandlingMimeForPasting(r.type)){a.paste(r,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(r){qt(`paste: "${r.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const r=[];for(const l of n){const c=await i.deserialize(l);if(!c)return;r.push(c)}const a=()=>{for(const l of r)A(this,ft,Ev).call(this,l);A(this,ft,xv).call(this,r)},o=()=>{for(const l of r)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(r){qt(`paste: "${r.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),u(this,es)!==Vt.NONE&&!this.isEditorHandlingKeyboard&&Gl._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,u(this,fa)&&(w(this,fa,!1),A(this,ft,Xf).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(A(this,ft,PS).call(this),A(this,ft,Av).call(this),A(this,ft,Is).call(this,{isEditing:u(this,es)!==Vt.NONE,isEmpty:A(this,ft,Ku).call(this),hasSomethingToUndo:u(this,Dn).hasSomethingToUndo(),hasSomethingToRedo:u(this,Dn).hasSomethingToRedo(),hasSelectedEditor:!1})):(A(this,ft,MS).call(this),A(this,ft,Sv).call(this),A(this,ft,Is).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!u(this,Xn)){w(this,Xn,t);for(const e of u(this,Xn))A(this,ft,lr).call(this,e.defaultPropertiesToUpdate)}}getId(){return u(this,rm).id}get currentLayer(){return u(this,cs).get(u(this,hc))}getLayer(t){return u(this,cs).get(t)}get currentPageIndex(){return u(this,hc)}addLayer(t){u(this,cs).set(t.pageIndex,t),u(this,pa)?t.enable():t.disable()}removeLayer(t){u(this,cs).delete(t.pageIndex)}async updateMode(t,e=null,n=!1){var i;if(u(this,es)!==t&&!(u(this,kn)&&(await u(this,kn).promise,!u(this,kn)))){if(w(this,kn,Promise.withResolvers()),w(this,es,t),t===Vt.NONE){this.setEditingState(!1),A(this,ft,$S).call(this),(i=this._editorUndoBar)==null||i.hide(),u(this,kn).resolve();return}this.setEditingState(!0),await A(this,ft,IS).call(this),this.unselectAll();for(const r of u(this,cs).values())r.updateMode(t);if(!e){n&&this.addNewEditorFromKeyboard(),u(this,kn).resolve();return}for(const r of u(this,Ge).values())r.annotationElementId===e?(this.setSelected(r),r.enterInEditMode()):r.unselect();u(this,kn).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==u(this,es)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var n;if(u(this,Xn)){switch(t){case Xt.CREATE:this.currentLayer.addNewEditor();return;case Xt.HIGHLIGHT_DEFAULT_COLOR:(n=u(this,Jd))==null||n.updateColor(e);break;case Xt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(u(this,Zd)||w(this,Zd,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const i of u(this,ue))i.updateParams(t,e);for(const i of u(this,Xn))i.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){var r;for(const a of u(this,Ge).values())a.editorType===t&&a.show(e);(((r=u(this,Zd))==null?void 0:r.get(Xt.HIGHLIGHT_SHOW_ALL))??!0)!==e&&A(this,ft,lr).call(this,[[Xt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(u(this,Xd)!==t){w(this,Xd,t);for(const e of u(this,cs).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const n of u(this,Ge).values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return u(this,Ge).get(t)}addEditor(t){u(this,Ge).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(u(this,Di)&&clearTimeout(u(this,Di)),w(this,Di,setTimeout(()=>{this.focusMainContainer(),w(this,Di,null)},0))),u(this,Ge).delete(t.id),this.unselect(t),(!t.annotationElementId||!u(this,Ao).has(t.annotationElementId))&&((e=u(this,fr))==null||e.remove(t.id))}addDeletedAnnotationElement(t){u(this,Ao).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return u(this,Ao).has(t)}removeDeletedAnnotationElement(t){u(this,Ao).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){u(this,on)!==t&&(w(this,on,t),t&&A(this,ft,lr).call(this,t.propertiesToUpdate))}updateUI(t){u(this,ft,LS)===t&&A(this,ft,lr).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){A(this,ft,lr).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(u(this,ue).has(t)){u(this,ue).delete(t),t.unselect(),A(this,ft,Is).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,ue).add(t),t.select(),A(this,ft,lr).call(this,t.propertiesToUpdate),A(this,ft,Is).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;(e=u(this,_o))==null||e.commitOrRemove();for(const n of u(this,ue))n!==t&&n.unselect();u(this,ue).clear(),u(this,ue).add(t),t.select(),A(this,ft,lr).call(this,t.propertiesToUpdate),A(this,ft,Is).call(this,{hasSelectedEditor:!0})}isSelected(t){return u(this,ue).has(t)}get firstSelectedEditor(){return u(this,ue).values().next().value}unselect(t){t.unselect(),u(this,ue).delete(t),A(this,ft,Is).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,ue).size!==0}get isEnterHandled(){return u(this,ue).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var t;u(this,Dn).undo(),A(this,ft,Is).call(this,{hasSomethingToUndo:u(this,Dn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:A(this,ft,Ku).call(this)}),(t=this._editorUndoBar)==null||t.hide()}redo(){u(this,Dn).redo(),A(this,ft,Is).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,Dn).hasSomethingToRedo(),isEmpty:A(this,ft,Ku).call(this)})}addCommands(t){u(this,Dn).add(t),A(this,ft,Is).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:A(this,ft,Ku).call(this)})}cleanUndoStack(t){u(this,Dn).cleanType(t)}delete(){var r;this.commitOrRemove();const t=(r=this.currentLayer)==null?void 0:r.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...u(this,ue)],n=()=>{var a;(a=this._editorUndoBar)==null||a.show(i,e.length===1?e[0].editorType:e.length);for(const o of e)o.remove()},i=()=>{for(const a of e)A(this,ft,Ev).call(this,a)};this.addCommands({cmd:n,undo:i,mustExec:!0})}commitOrRemove(){var t;(t=u(this,on))==null||t.commitOrRemove()}hasSomethingToControl(){return u(this,on)||this.hasSelection}selectAll(){for(const t of u(this,ue))t.commit();A(this,ft,xv).call(this,u(this,Ge).values())}unselectAll(){var t;if(!(u(this,on)&&(u(this,on).commitOrRemove(),u(this,es)!==Vt.NONE))&&!((t=u(this,_o))!=null&&t.commitOrRemove())&&this.hasSelection){for(const e of u(this,ue))e.unselect();u(this,ue).clear(),A(this,ft,Is).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;u(this,ga)[0]+=t,u(this,ga)[1]+=e;const[i,r]=u(this,ga),a=[...u(this,ue)],o=1e3;u(this,Pi)&&clearTimeout(u(this,Pi)),w(this,Pi,setTimeout(()=>{w(this,Pi,null),u(this,ga)[0]=u(this,ga)[1]=0,this.addCommands({cmd:()=>{for(const l of a)u(this,Ge).has(l.id)&&l.translateInPage(i,r)},undo:()=>{for(const l of a)u(this,Ge).has(l.id)&&l.translateInPage(-i,-r)},mustExec:!1})},o));for(const l of a)l.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),w(this,Ti,new Map);for(const t of u(this,ue))u(this,Ti).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,Ti))return!1;this.disableUserSelect(!1);const t=u(this,Ti);w(this,Ti,null);let e=!1;for(const[{x:i,y:r,pageIndex:a},o]of t)o.newX=i,o.newY=r,o.newPageIndex=a,e||(e=i!==o.savedX||r!==o.savedY||a!==o.savedPageIndex);if(!e)return!1;const n=(i,r,a,o)=>{if(u(this,Ge).has(i.id)){const l=u(this,cs).get(o);l?i._setParentAndPosition(l,r,a):(i.pageIndex=o,i.x=r,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:r,newY:a,newPageIndex:o}]of t)n(i,r,a,o)},undo:()=>{for(const[i,{savedX:r,savedY:a,savedPageIndex:o}]of t)n(i,r,a,o)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(u(this,Ti))for(const n of u(this,Ti).keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||u(this,ue).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return u(this,on)===t}getActive(){return u(this,on)}getMode(){return u(this,es)}get imageManager(){return Gt(this,"imageManager",new bv)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let c=0,d=e.rangeCount;c<d;c++)if(!t.contains(e.getRangeAt(c).commonAncestorContainer))return null;const{x:n,y:i,width:r,height:a}=t.getBoundingClientRect();let o;switch(t.getAttribute("data-main-rotation")){case"90":o=(c,d,h,f)=>({x:(d-i)/a,y:1-(c+h-n)/r,width:f/a,height:h/r});break;case"180":o=(c,d,h,f)=>({x:1-(c+h-n)/r,y:1-(d+f-i)/a,width:h/r,height:f/a});break;case"270":o=(c,d,h,f)=>({x:1-(d+f-i)/a,y:(c-n)/r,width:f/a,height:h/r});break;default:o=(c,d,h,f)=>({x:(c-n)/r,y:(d-i)/a,width:h/r,height:f/a});break}const l=[];for(let c=0,d=e.rangeCount;c<d;c++){const h=e.getRangeAt(c);if(!h.collapsed)for(const{x:f,y:p,width:m,height:v}of h.getClientRects())m===0||v===0||l.push(o(f,p,m,v))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:t,id:e}){(u(this,dc)||w(this,dc,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=u(this,dc))==null||e.delete(t)}renderAnnotationElement(t){var i;const e=(i=u(this,dc))==null?void 0:i.get(t.data.id);if(!e)return;const n=u(this,fr).getRawValue(e);n&&(u(this,es)===Vt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}};cc=new WeakMap,on=new WeakMap,Ge=new WeakMap,cs=new WeakMap,uc=new WeakMap,fr=new WeakMap,dc=new WeakMap,Dn=new WeakMap,da=new WeakMap,_o=new WeakMap,hc=new WeakMap,Ao=new WeakMap,Ti=new WeakMap,Xn=new WeakMap,So=new WeakMap,zd=new WeakMap,Gd=new WeakMap,fc=new WeakMap,Kd=new WeakMap,Di=new WeakMap,ha=new WeakMap,pc=new WeakMap,fa=new WeakMap,ki=new WeakMap,rm=new WeakMap,pa=new WeakMap,Xd=new WeakMap,ma=new WeakMap,Eo=new WeakMap,Jd=new WeakMap,Qd=new WeakMap,es=new WeakMap,ue=new WeakMap,pr=new WeakMap,xo=new WeakMap,Zd=new WeakMap,th=new WeakMap,ga=new WeakMap,Pi=new WeakMap,mr=new WeakMap,eh=new WeakMap,kn=new WeakMap,ft=new WeakSet,Kf=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},wv=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of u(this,cs).values())if(n.hasTextLayer(t))return n;return null},TS=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=A(this,ft,Kf).call(this,t).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(u(this,ki)||w(this,ki,new U2(this)),u(this,ki).show(n,i,this.direction==="ltr"))},DS=function(){var r,a,o;const t=document.getSelection();if(!t||t.isCollapsed){u(this,pr)&&((r=u(this,ki))==null||r.hide(),w(this,pr,null),A(this,ft,Is).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===u(this,pr))return;const i=A(this,ft,Kf).call(this,t).closest(".textLayer");if(!i){u(this,pr)&&((a=u(this,ki))==null||a.hide(),w(this,pr,null),A(this,ft,Is).call(this,{hasSelectedText:!1}));return}if((o=u(this,ki))==null||o.hide(),w(this,pr,e),A(this,ft,Is).call(this,{hasSelectedText:!0}),!(u(this,es)!==Vt.HIGHLIGHT&&u(this,es)!==Vt.NONE)&&(u(this,es)===Vt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),w(this,fa,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=u(this,es)===Vt.HIGHLIGHT?A(this,ft,wv).call(this,i):null;l==null||l.toggleDrawing();const c=new AbortController,d=this.combinedSignal(c),h=f=>{f.type==="pointerup"&&f.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),f.type==="pointerup"&&A(this,ft,Xf).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}},Xf=function(t=""){u(this,es)===Vt.HIGHLIGHT?this.highlightSelection(t):u(this,zd)&&A(this,ft,TS).call(this)},kS=function(){document.addEventListener("selectionchange",A(this,ft,DS).bind(this),{signal:this._signal})},PS=function(){if(u(this,ha))return;w(this,ha,new AbortController);const t=this.combinedSignal(u(this,ha));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},MS=function(){var t;(t=u(this,ha))==null||t.abort(),w(this,ha,null)},_v=function(){if(u(this,ma))return;w(this,ma,new AbortController);const t=this.combinedSignal(u(this,ma));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},RS=function(){var t;(t=u(this,ma))==null||t.abort(),w(this,ma,null)},Av=function(){if(u(this,da))return;w(this,da,new AbortController);const t=this.combinedSignal(u(this,da));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},Sv=function(){var t;(t=u(this,da))==null||t.abort(),w(this,da,null)},OS=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},Is=function(t){Object.entries(t).some(([n,i])=>u(this,th)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,th),t)}),u(this,es)===Vt.HIGHLIGHT&&t.hasSelectedEditor===!1&&A(this,ft,lr).call(this,[[Xt.HIGHLIGHT_FREE,!0]]))},lr=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},IS=async function(){if(!u(this,pa)){w(this,pa,!0);const t=[];for(const e of u(this,cs).values())t.push(e.enable());await Promise.all(t);for(const e of u(this,Ge).values())e.enable()}},$S=function(){if(this.unselectAll(),u(this,pa)){w(this,pa,!1);for(const t of u(this,cs).values())t.disable();for(const t of u(this,Ge).values())t.disable()}},Ev=function(t){const e=u(this,cs).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},LS=function(){let t=null;for(t of u(this,ue));return t},Ku=function(){if(u(this,Ge).size===0)return!0;if(u(this,Ge).size===1)for(const t of u(this,Ge).values())return t.isEmpty();return!1},xv=function(t){for(const e of u(this,ue))e.unselect();u(this,ue).clear();for(const e of t)e.isEmpty()||(u(this,ue).add(e),e.select());A(this,ft,Is).call(this,{hasSelectedEditor:this.hasSelection})},kt(Gl,"TRANSLATE_SMALL",1),kt(Gl,"TRANSLATE_BIG",10);let _l=Gl;var ss,Mi,Jn,mc,Ri,ln,gc,Oi,Xs,gr,Co,Ii,va,ci,Xu,Jf;const $s=class $s{constructor(t){S(this,ci);S(this,ss,null);S(this,Mi,!1);S(this,Jn,null);S(this,mc,null);S(this,Ri,null);S(this,ln,null);S(this,gc,!1);S(this,Oi,null);S(this,Xs,null);S(this,gr,null);S(this,Co,null);S(this,Ii,!1);w(this,Xs,t),w(this,Ii,t._uiManager.useNewAltTextFlow),u($s,va)||w($s,va,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){$s._l10n??($s._l10n=t)}async render(){const t=w(this,Jn,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=w(this,mc,document.createElement("span"));t.append(e),u(this,Ii)?(t.classList.add("new"),t.setAttribute("data-l10n-id",u($s,va).missing),e.setAttribute("data-l10n-id",u($s,va)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=u(this,Xs)._uiManager._signal;t.addEventListener("contextmenu",gi,{signal:n}),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:n});const i=r=>{r.preventDefault(),u(this,Xs)._uiManager.editAltText(u(this,Xs)),u(this,Ii)&&u(this,Xs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:u(this,ci,Xu)}})};return t.addEventListener("click",i,{capture:!0,signal:n}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(w(this,gc,!0),i(r))},{signal:n}),await A(this,ci,Jf).call(this),t}finish(){u(this,Jn)&&(u(this,Jn).focus({focusVisible:u(this,gc)}),w(this,gc,!1))}isEmpty(){return u(this,Ii)?u(this,ss)===null:!u(this,ss)&&!u(this,Mi)}hasData(){return u(this,Ii)?u(this,ss)!==null||!!u(this,gr):this.isEmpty()}get guessedText(){return u(this,gr)}async setGuessedText(t){u(this,ss)===null&&(w(this,gr,t),w(this,Co,await $s._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),A(this,ci,Jf).call(this))}toggleAltTextBadge(t=!1){var e;if(!u(this,Ii)||u(this,ss)){(e=u(this,Oi))==null||e.remove(),w(this,Oi,null);return}if(!u(this,Oi)){const n=w(this,Oi,document.createElement("div"));n.className="noAltTextBadge",u(this,Xs).div.append(n)}u(this,Oi).classList.toggle("hidden",!t)}serialize(t){let e=u(this,ss);return!t&&u(this,gr)===e&&(e=u(this,Co)),{altText:e,decorative:u(this,Mi),guessedText:u(this,gr),textWithDisclaimer:u(this,Co)}}get data(){return{altText:u(this,ss),decorative:u(this,Mi)}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:i,cancel:r=!1}){n&&(w(this,gr,n),w(this,Co,i)),!(u(this,ss)===t&&u(this,Mi)===e)&&(r||(w(this,ss,t),w(this,Mi,e)),A(this,ci,Jf).call(this))}toggle(t=!1){u(this,Jn)&&(!t&&u(this,ln)&&(clearTimeout(u(this,ln)),w(this,ln,null)),u(this,Jn).disabled=!t)}shown(){u(this,Xs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:u(this,ci,Xu)}})}destroy(){var t,e;(t=u(this,Jn))==null||t.remove(),w(this,Jn,null),w(this,mc,null),w(this,Ri,null),(e=u(this,Oi))==null||e.remove(),w(this,Oi,null)}};ss=new WeakMap,Mi=new WeakMap,Jn=new WeakMap,mc=new WeakMap,Ri=new WeakMap,ln=new WeakMap,gc=new WeakMap,Oi=new WeakMap,Xs=new WeakMap,gr=new WeakMap,Co=new WeakMap,Ii=new WeakMap,va=new WeakMap,ci=new WeakSet,Xu=function(){return u(this,ss)&&"added"||u(this,ss)===null&&this.guessedText&&"review"||"missing"},Jf=async function(){var i,r,a;const t=u(this,Jn);if(!t)return;if(u(this,Ii)){if(t.classList.toggle("done",!!u(this,ss)),t.setAttribute("data-l10n-id",u($s,va)[u(this,ci,Xu)]),(i=u(this,mc))==null||i.setAttribute("data-l10n-id",u($s,va)[`${u(this,ci,Xu)}-label`]),!u(this,ss)){(r=u(this,Ri))==null||r.remove();return}}else{if(!u(this,ss)&&!u(this,Mi)){t.classList.remove("done"),(a=u(this,Ri))==null||a.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=u(this,Ri);if(!e){w(this,Ri,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${u(this,Xs).id}`;const o=100,l=u(this,Xs)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(u(this,ln)),w(this,ln,null)},{once:!0}),t.addEventListener("mouseenter",()=>{w(this,ln,setTimeout(()=>{w(this,ln,null),u(this,Ri).classList.add("show"),u(this,Xs)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),t.addEventListener("mouseleave",()=>{var c;u(this,ln)&&(clearTimeout(u(this,ln)),w(this,ln,null)),(c=u(this,Ri))==null||c.classList.remove("show")},{signal:l})}u(this,Mi)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=u(this,ss)),e.parentNode||t.append(e);const n=u(this,Xs).getImageForAltText();n==null||n.setAttribute("aria-describedby",e.id)},S($s,va,null),kt($s,"_l10n",null);let Lp=$s;var To,Qn,ke,vc,ba,sh,Do,us,ko,ya,wa,nh,Po,Pn,ih,Mo,vr,$i,bc,yc,Mn,rh,am,Bt,Cv,ah,Tv,Dv,NS,FS,kv,Pv,Mv,Rv,BS,Ov,HS,US,jS,Iv,Ju;const oe=class oe{constructor(t){S(this,Bt);S(this,To,null);S(this,Qn,null);S(this,ke,null);S(this,vc,!1);S(this,ba,null);S(this,sh,"");S(this,Do,!1);S(this,us,null);S(this,ko,null);S(this,ya,null);S(this,wa,null);S(this,nh,"");S(this,Po,!1);S(this,Pn,null);S(this,ih,!1);S(this,Mo,!1);S(this,vr,!1);S(this,$i,null);S(this,bc,0);S(this,yc,0);S(this,Mn,null);kt(this,"_editToolbar",null);kt(this,"_initialOptions",Object.create(null));kt(this,"_initialData",null);kt(this,"_isVisible",!0);kt(this,"_uiManager",null);kt(this,"_focusEventsAllowed",!0);S(this,rh,!1);S(this,am,oe._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:a}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[r,a];const[o,l]=this.parentDimensions;this.x=t.x/o,this.y=t.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=oe.prototype._resizeWithKeyboard,e=_l.TRANSLATE_SMALL,n=_l.TRANSLATE_BIG;return Gt(this,"_resizerKeyboardManager",new gf([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],oe.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return Gt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new V2({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(oe._l10n??(oe._l10n=t),oe._l10nResizer||(oe._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),oe._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);oe._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){ge("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,rh)}set _isDraggable(t){var e;w(this,rh,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,am)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):A(this,Bt,Ju).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(u(this,Po)?w(this,Po,!1):this.parent.setSelected(this))}focusout(t){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,i){const[r,a]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(t+n)/r,this.y=(e+i)/a,this.fixAndSetPosition()}translate(t,e){A(this,Bt,Cv).call(this,this.parentDimensions,t,e)}translateInPage(t,e){u(this,Pn)||w(this,Pn,[this.x,this.y,this.width,this.height]),A(this,Bt,Cv).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){u(this,Pn)||w(this,Pn,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[i,r]}=this;if(this.x+=t/i,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,c]=this.getBaseTranslation();a+=l,o+=c;const{style:d}=n;d.left=`${(100*a).toFixed(2)}%`,d.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!u(this,Pn)&&(u(this,Pn)[0]!==this.x||u(this,Pn)[1]!==this.y)}get _hasBeenResized(){return!!u(this,Pn)&&(u(this,Pn)[2]!==this.width||u(this,Pn)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=oe,i=n/t,r=n/e;switch(this.rotation){case 90:return[-i,r];case 180:return[i,r];case 270:return[i,-r];default:return[-i,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[n,i]}=this;let{x:r,y:a,width:o,height:l}=this;if(o*=n,l*=i,r*=n,a*=i,this._mustFixPosition)switch(t){case 0:r=Math.max(0,Math.min(n-o,r)),a=Math.max(0,Math.min(i-l,a));break;case 90:r=Math.max(0,Math.min(n-l,r)),a=Math.min(i,Math.max(o,a));break;case 180:r=Math.min(n,Math.max(o,r)),a=Math.min(i,Math.max(l,a));break;case 270:r=Math.min(n,Math.max(l,r)),a=Math.max(0,Math.min(i-o,a));break}this.x=r/=n,this.y=a/=i;const[c,d]=this.getBaseTranslation();r+=c,a+=d,e.left=`${(100*r).toFixed(2)}%`,e.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var n;return A(n=oe,ah,Tv).call(n,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var n;return A(n=oe,ah,Tv).call(n,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(t,e){const[n,i]=this.parentDimensions,{style:r}=this.div;r.width=`${(100*t/n).toFixed(2)}%`,u(this,Do)||(r.height=`${(100*e/i).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,i=n.endsWith("%"),r=!u(this,Do)&&e.endsWith("%");if(i&&r)return;const[a,o]=this.parentDimensions;i||(t.width=`${(100*parseFloat(n)/a).toFixed(2)}%`),!u(this,Do)&&!r&&(t.height=`${(100*parseFloat(e)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}_onResizing(){}altTextFinish(){var t;(t=u(this,ke))==null||t.finish()}async addEditToolbar(){return this._editToolbar||u(this,Mo)?this._editToolbar:(this._editToolbar=new gv(this),this.div.append(this._editToolbar.render()),u(this,ke)&&await this._editToolbar.addAltText(u(this,ke)),this._editToolbar)}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=u(this,ke))==null||t.destroy())}addContainer(t){var n;const e=(n=this._editToolbar)==null?void 0:n.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){u(this,ke)||(Lp.initialize(oe._l10n),w(this,ke,new Lp(this)),u(this,To)&&(u(this,ke).data=u(this,To),w(this,To,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=u(this,ke))==null?void 0:t.data}set altTextData(t){u(this,ke)&&(u(this,ke).data=t)}get guessedAltText(){var t;return(t=u(this,ke))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=u(this,ke))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=u(this,ke))==null?void 0:e.serialize(t)}hasAltText(){return!!u(this,ke)&&!u(this,ke).isEmpty()}hasAltTextData(){var t;return((t=u(this,ke))==null?void 0:t.hasData())??!1}render(){var r;this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=u(this,vc)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),A(this,Bt,Ov).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[n,i]=this.getInitialTranslation();return this.translate(n,i),$p(this,this.div,["pointerdown"]),(r=this._uiManager._editorUndoBar)==null||r.hide(),this.div}pointerdown(t){const{isMac:e}=Ys.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(w(this,Po,!0),this._isDraggable){A(this,Bt,BS).call(this,t);return}A(this,Bt,Rv).call(this,t)}get isSelected(){return this._uiManager.isSelected(this)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){u(this,$i)&&clearTimeout(u(this,$i)),w(this,$i,setTimeout(()=>{var t;w(this,$i,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,n=this.rotation){const i=this.parentScale,[r,a]=this.pageDimensions,[o,l]=this.pageTranslation,c=t/i,d=e/i,h=this.x*r,f=this.y*a,p=this.width*r,m=this.height*a;switch(n){case 0:return[h+c+o,a-f-d-m+l,h+c+p+o,a-f-d+l];case 90:return[h+d+o,a-f+c+l,h+d+m+o,a-f+c+p+l];case 180:return[h-c-p+o,a-f+d+l,h-c+o,a-f+d+m+l];case 270:return[h-d-m+o,a-f-c-p+l,h-d+o,a-f-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,i,r,a]=t,o=r-n,l=a-i;switch(this.rotation){case 0:return[n,e-a,o,l];case 90:return[n,e-i,l,o];case 180:return[r,e-i,o,l];case 270:return[r,e-a,l,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){w(this,Mo,!0)}disableEditMode(){w(this,Mo,!1)}isInEditMode(){return u(this,Mo)}shouldGetKeyboardEvents(){return u(this,vr)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:r,innerWidth:a}=window;return e<a&&i>0&&t<r&&n>0}rebuild(){A(this,Bt,Ov).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){ge("An editor must be serializable")}static async deserialize(t,e,n){const i=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n});i.rotation=t.rotation,w(i,To,t.accessibilityData);const[r,a]=i.pageDimensions,[o,l,c,d]=i.getRectInCurrentCoords(t.rect,a);return i.x=o/r,i.y=l/a,i.width=c/r,i.height=d/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t;if((t=u(this,wa))==null||t.abort(),w(this,wa,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),u(this,$i)&&(clearTimeout(u(this,$i)),w(this,$i,null)),A(this,Bt,Ju).call(this),this.removeEditToolbar(),u(this,Mn)){for(const e of u(this,Mn).values())clearTimeout(e);w(this,Mn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(A(this,Bt,NS).call(this),u(this,us).classList.remove("hidden"),$p(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),w(this,ya,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=u(this,us).children;if(!u(this,Qn)){w(this,Qn,Array.from(e));const a=A(this,Bt,HS).bind(this),o=A(this,Bt,US).bind(this),l=this._uiManager._signal;for(const c of u(this,Qn)){const d=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",a,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",A(this,Bt,jS).bind(this,d),{signal:l}),c.setAttribute("data-l10n-id",oe._l10nResizer[d])}}const n=u(this,Qn)[0];let i=0;for(const a of e){if(a===n)break;i++}const r=(360-this.rotation+this.parentRotation)%360/90*(u(this,Qn).length/4);if(r!==i){if(r<i)for(let o=0;o<i-r;o++)u(this,us).append(u(this,us).firstChild);else if(r>i)for(let o=0;o<r-i;o++)u(this,us).firstChild.before(u(this,us).lastChild);let a=0;for(const o of e){const c=u(this,Qn)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",oe._l10nResizer[c])}}A(this,Bt,Iv).call(this,0),w(this,vr,!0),u(this,us).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){u(this,vr)&&A(this,Bt,Mv).call(this,u(this,nh),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){A(this,Bt,Ju).call(this),this.div.focus()}select(){var t,e,n;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,r;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((r=this._editToolbar)==null||r.show())});return}(e=this._editToolbar)==null||e.show(),(n=u(this,ke))==null||n.toggleAltTextBadge(!1)}unselect(){var t,e,n,i,r;(t=u(this,us))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(r=u(this,ke))==null||r.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return u(this,ih)}set isEditing(t){w(this,ih,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){w(this,Do,!0);const n=t/e,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){u(this,Mn)||w(this,Mn,new Map);const{action:n}=t;let i=u(this,Mn).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(t),u(this,Mn).delete(n),u(this,Mn).size===0&&w(this,Mn,null)},oe._telemetryTimeout),u(this,Mn).set(n,i);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),w(this,vc,!1)}disable(){this.div&&(this.div.tabIndex=-1),w(this,vc,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};To=new WeakMap,Qn=new WeakMap,ke=new WeakMap,vc=new WeakMap,ba=new WeakMap,sh=new WeakMap,Do=new WeakMap,us=new WeakMap,ko=new WeakMap,ya=new WeakMap,wa=new WeakMap,nh=new WeakMap,Po=new WeakMap,Pn=new WeakMap,ih=new WeakMap,Mo=new WeakMap,vr=new WeakMap,$i=new WeakMap,bc=new WeakMap,yc=new WeakMap,Mn=new WeakMap,rh=new WeakMap,am=new WeakMap,Bt=new WeakSet,Cv=function([t,e],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/t,this.y+=i/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},ah=new WeakSet,Tv=function(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},Dv=function(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}},NS=function(){if(u(this,us))return;w(this,us,document.createElement("div")),u(this,us).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const i=document.createElement("div");u(this,us).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",A(this,Bt,FS).bind(this,n),{signal:e}),i.addEventListener("contextmenu",gi,{signal:e}),i.tabIndex=-1}this.div.prepend(u(this,us))},FS=function(t,e){var d;e.preventDefault();const{isMac:n}=Ys.platform;if(e.button!==0||e.ctrlKey&&n)return;(d=u(this,ke))==null||d.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,w(this,ko,[e.screenX,e.screenY]);const r=new AbortController,a=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",A(this,Bt,Mv).bind(this,t),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",li,{passive:!1,signal:a}),window.addEventListener("contextmenu",gi,{signal:a}),w(this,ya,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const c=()=>{var h;r.abort(),this.parent.togglePointerEvents(!0),(h=u(this,ke))==null||h.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,A(this,Bt,Pv).call(this)};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})},kv=function(t,e,n,i){this.width=n,this.height=i,this.x=t,this.y=e;const[r,a]=this.parentDimensions;this.setDims(r*n,a*i),this.fixAndSetPosition(),this._onResized()},Pv=function(){if(!u(this,ya))return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:i}=u(this,ya);w(this,ya,null);const r=this.x,a=this.y,o=this.width,l=this.height;r===t&&a===e&&o===n&&l===i||this.addCommands({cmd:A(this,Bt,kv).bind(this,r,a,o,l),undo:A(this,Bt,kv).bind(this,t,e,n,i),mustExec:!0})},Mv=function(t,e){const[n,i]=this.parentDimensions,r=this.x,a=this.y,o=this.width,l=this.height,c=oe.MIN_SIZE/n,d=oe.MIN_SIZE/i,h=X=>Math.round(X*1e4)/1e4,f=A(this,Bt,Dv).call(this,this.rotation),p=(X,nt)=>[f[0]*X+f[2]*nt,f[1]*X+f[3]*nt],m=A(this,Bt,Dv).call(this,360-this.rotation),v=(X,nt)=>[m[0]*X+m[2]*nt,m[1]*X+m[3]*nt];let b,y,E=!1,C=!1;switch(t){case"topLeft":E=!0,b=(X,nt)=>[0,0],y=(X,nt)=>[X,nt];break;case"topMiddle":b=(X,nt)=>[X/2,0],y=(X,nt)=>[X/2,nt];break;case"topRight":E=!0,b=(X,nt)=>[X,0],y=(X,nt)=>[0,nt];break;case"middleRight":C=!0,b=(X,nt)=>[X,nt/2],y=(X,nt)=>[0,nt/2];break;case"bottomRight":E=!0,b=(X,nt)=>[X,nt],y=(X,nt)=>[0,0];break;case"bottomMiddle":b=(X,nt)=>[X/2,nt],y=(X,nt)=>[X/2,0];break;case"bottomLeft":E=!0,b=(X,nt)=>[0,nt],y=(X,nt)=>[X,0];break;case"middleLeft":C=!0,b=(X,nt)=>[0,nt/2],y=(X,nt)=>[X,nt/2];break}const x=b(o,l),D=y(o,l);let M=p(...D);const P=h(r+M[0]),H=h(a+M[1]);let F=1,Z=1,Y,L;if(e.fromKeyboard)({deltaX:Y,deltaY:L}=e);else{const{screenX:X,screenY:nt}=e,[pt,W]=u(this,ko);[Y,L]=this.screenToPageTranslation(X-pt,nt-W),u(this,ko)[0]=X,u(this,ko)[1]=nt}if([Y,L]=v(Y/n,L/i),E){const X=Math.hypot(o,l);F=Z=Math.max(Math.min(Math.hypot(D[0]-x[0]-Y,D[1]-x[1]-L)/X,1/o,1/l),c/o,d/l)}else C?F=Math.max(c,Math.min(1,Math.abs(D[0]-x[0]-Y)))/o:Z=Math.max(d,Math.min(1,Math.abs(D[1]-x[1]-L)))/l;const K=h(o*F),lt=h(l*Z);M=p(...y(K,lt));const dt=P-M[0],ut=H-M[1];u(this,Pn)||w(this,Pn,[this.x,this.y,this.width,this.height]),this.width=K,this.height=lt,this.x=dt,this.y=ut,this.setDims(n*K,i*lt),this.fixAndSetPosition(),this._onResizing()},Rv=function(t){const{isMac:e}=Ys.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},BS=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const n=new AbortController,i=this._uiManager.combinedSignal(n),r={capture:!0,passive:!1,signal:i},a=l=>{n.abort(),w(this,ba,null),w(this,Po,!1),this._uiManager.endDragSession()||A(this,Bt,Rv).call(this,l)};e&&(w(this,bc,t.clientX),w(this,yc,t.clientY),w(this,ba,t.pointerId),w(this,sh,t.pointerType),window.addEventListener("pointermove",l=>{const{clientX:c,clientY:d,pointerId:h}=l;if(h!==u(this,ba)){li(l);return}const[f,p]=this.screenToPageTranslation(c-u(this,bc),d-u(this,yc));w(this,bc,c),w(this,yc,d),this._uiManager.dragSelectedEditors(f,p)},r),window.addEventListener("touchmove",li,r),window.addEventListener("pointerdown",l=>{l.isPrimary&&l.pointerType===u(this,sh)&&a(l),li(l)},r)),this._onStartDragging();const o=l=>{if(!u(this,ba)||u(this,ba)===l.pointerId){a(l),this._onStopDragging();return}li(l)};window.addEventListener("pointerup",o,{signal:i}),window.addEventListener("blur",o,{signal:i})},Ov=function(){if(u(this,wa)||!this.div)return;w(this,wa,new AbortController);const t=this._uiManager.combinedSignal(u(this,wa));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},HS=function(t){oe._resizerKeyboardManager.exec(this,t)},US=function(t){var e;u(this,vr)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==u(this,us)&&A(this,Bt,Ju).call(this)},jS=function(t){w(this,nh,u(this,vr)?t:"")},Iv=function(t){if(u(this,Qn))for(const e of u(this,Qn))e.tabIndex=t},Ju=function(){w(this,vr,!1),A(this,Bt,Iv).call(this,-1),A(this,Bt,Pv).call(this)},S(oe,ah),kt(oe,"_l10n",null),kt(oe,"_l10nResizer",null),kt(oe,"_borderLineWidth",-1),kt(oe,"_colorManager",new yv),kt(oe,"_zIndex",1),kt(oe,"_telemetryTimeout",1e3);let Re=oe;class V2 extends Re{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const S0=3285377520,xn=4294901760,Ei=65535;class YS{constructor(t){this.h1=t?t&4294967295:S0,this.h2=t?t&4294967295:S0}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let v=0,b=t.length;v<b;v++){const y=t.charCodeAt(v);y<=255?e[n++]=y:(e[n++]=y>>>8,e[n++]=y&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,r=n-i*4,a=new Uint32Array(e.buffer,0,i);let o=0,l=0,c=this.h1,d=this.h2;const h=3432918353,f=461845907,p=h&Ei,m=f&Ei;for(let v=0;v<i;v++)v&1?(o=a[v],o=o*h&xn|o*p&Ei,o=o<<15|o>>>17,o=o*f&xn|o*m&Ei,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=a[v],l=l*h&xn|l*p&Ei,l=l<<15|l>>>17,l=l*f&xn|l*m&Ei,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,r){case 3:o^=e[i*4+2]<<16;case 2:o^=e[i*4+1]<<8;case 1:o^=e[i*4],o=o*h&xn|o*p&Ei,o=o<<15|o>>>17,o=o*f&xn|o*m&Ei,i&1?c^=o:d^=o}this.h1=c,this.h2=d}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&xn|t*36045&Ei,e=e*4283543511&xn|((e<<16|t>>>16)*2950163797&xn)>>>16,t^=e>>>1,t=t*444984403&xn|t*60499&Ei,e=e*3301882366&xn|((e<<16|t>>>16)*3120437893&xn)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const $v=Object.freeze({map:null,hash:"",transfer:void 0});var Ro,Oo,ns,om,VS;class by{constructor(){S(this,om);S(this,Ro,!1);S(this,Oo,null);S(this,ns,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=u(this,ns).get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return u(this,ns).get(t)}remove(t){if(u(this,ns).delete(t),u(this,ns).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of u(this,ns).values())if(e instanceof Re)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=u(this,ns).get(t);let i=!1;if(n!==void 0)for(const[r,a]of Object.entries(e))n[r]!==a&&(i=!0,n[r]=a);else i=!0,u(this,ns).set(t,e);i&&A(this,om,VS).call(this),e instanceof Re&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return u(this,ns).has(t)}getAll(){return u(this,ns).size>0?hy(u(this,ns)):null}setAll(t){for(const[e,n]of Object.entries(t))this.setValue(e,n)}get size(){return u(this,ns).size}resetModified(){u(this,Ro)&&(w(this,Ro,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new WS(this)}get serializable(){if(u(this,ns).size===0)return $v;const t=new Map,e=new YS,n=[],i=Object.create(null);let r=!1;for(const[a,o]of u(this,ns)){const l=o instanceof Re?o.serialize(!1,i):o;l&&(t.set(a,l),e.update(`${a}:${JSON.stringify(l)}`),r||(r=!!l.bitmap))}if(r)for(const a of t.values())a.bitmap&&n.push(a.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:$v}get editorStats(){let t=null;const e=new Map;for(const n of u(this,ns).values()){if(!(n instanceof Re))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:r}=i;e.has(r)||e.set(r,Object.getPrototypeOf(n).constructor),t||(t=Object.create(null));const a=t[r]||(t[r]=new Map);for(const[o,l]of Object.entries(i)){if(o==="type")continue;let c=a.get(o);c||(c=new Map,a.set(o,c));const d=c.get(l)??0;c.set(l,d+1)}}for(const[n,i]of e)t[n]=i.computeTelemetryFinalData(t[n]);return t}resetModifiedIds(){w(this,Oo,null)}get modifiedIds(){if(u(this,Oo))return u(this,Oo);const t=[];for(const e of u(this,ns).values())!(e instanceof Re)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return w(this,Oo,{ids:new Set(t),hash:t.join(",")})}}Ro=new WeakMap,Oo=new WeakMap,ns=new WeakMap,om=new WeakSet,VS=function(){u(this,Ro)||(w(this,Ro,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var oh;class WS extends by{constructor(e){super();S(this,oh);const{map:n,hash:i,transfer:r}=e.serializable,a=structuredClone(n,r?{transfer:r}:null);w(this,oh,{map:a,hash:i,transfer:r})}get print(){ge("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,oh)}get modifiedIds(){return Gt(this,"modifiedIds",{ids:new Set,hash:""})}}oh=new WeakMap;var wc;class W2{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){S(this,wc,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),u(this,wc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||u(this,wc).has(t.loadedName))){if(je(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:i,style:r}=t,a=new FontFace(n,i,r);this.addNativeFontFace(a);try{await a.load(),u(this,wc).add(n),e==null||e(t)}catch{qt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}ge("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw qt(`Failed to load font '${n.family}': '${i}'.`),t.disableFontFace=!0,i}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,i)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return Gt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(Us||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Gt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(je(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const r=n.shift();setTimeout(r.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:e,callback:t};return n.push(i),i}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Gt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(x,D){return x.charCodeAt(D)<<24|x.charCodeAt(D+1)<<16|x.charCodeAt(D+2)<<8|x.charCodeAt(D+3)&255}function i(x,D,M,P){const H=x.substring(0,D),F=x.substring(D+M);return H+P+F}let r,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function d(x,D){if(++c>30){qt("Load test font never loaded."),D();return}if(l.font="30px "+x,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){D();return}setTimeout(d.bind(null,x,D))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,h.length,h);const m=16,v=1482184792;let b=n(f,m);for(r=0,a=h.length-3;r<a;r+=4)b=b-v+n(h,r)|0;r<h.length&&(b=b-v+n(h+"XXX",r)|0),f=i(f,m,4,P2(b));const y=`url(data:font/opentype;base64,${btoa(f)});`,E=`@font-face {font-family:"${h}";src:${y}}`;this.insertRule(E);const C=this._document.createElement("div");C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px";for(const x of[t.loadedName,h]){const D=this._document.createElement("span");D.textContent="Hi",D.style.fontFamily=x,C.append(D)}this._document.body.append(C),d(h,()=>{C.remove(),e.complete()})}}wc=new WeakMap;class q2{constructor(t,{disableFontFace:e=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const i in t)this[i]=t[i];this.disableFontFace=e===!0,this._inspectFont=n}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${L2(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${t}}`}return(n=this._inspectFont)==null||n.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let n;try{n=t.get(this.loadedName+"_path_"+e)}catch(r){qt(`getPathGenerator - ignoring character: "${r}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[e]=function(r,a){};const i=[];for(let r=0,a=n.length;r<a;)switch(n[r++]){case ar.BEZIER_CURVE_TO:{const[o,l,c,d,h,f]=n.slice(r,r+6);i.push(p=>p.bezierCurveTo(o,l,c,d,h,f)),r+=6}break;case ar.MOVE_TO:{const[o,l]=n.slice(r,r+2);i.push(c=>c.moveTo(o,l)),r+=2}break;case ar.LINE_TO:{const[o,l]=n.slice(r,r+2);i.push(c=>c.lineTo(o,l)),r+=2}break;case ar.QUADRATIC_CURVE_TO:{const[o,l,c,d]=n.slice(r,r+4);i.push(h=>h.quadraticCurveTo(o,l,c,d)),r+=4}break;case ar.RESTORE:i.push(o=>o.restore());break;case ar.SAVE:i.push(o=>o.save());break;case ar.SCALE:je(i.length===2,"Scale command is only valid at the third position.");break;case ar.TRANSFORM:{const[o,l,c,d,h,f]=n.slice(r,r+6);i.push(p=>p.transform(o,l,c,d,h,f)),r+=6}break;case ar.TRANSLATE:{const[o,l]=n.slice(r,r+2);i.push(c=>c.translate(o,l)),r+=2}break}return i.push(r=>r.closePath()),this.compiledGlyphs[e]=function(a,o){i[0](a),i[1](a),a.scale(o,-o);for(let l=2,c=i.length;l<c;l++)i[l](a)}}}var lh;class qS{constructor({enableHWA:t=!1}){S(this,lh,!1);w(this,lh,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!u(this,lh)})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){ge("Abstract method `_createCanvas` called.")}}lh=new WeakMap;class z2 extends qS{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class zS{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){ge("Abstract method `_fetch` called.")}}class GS extends zS{async _fetch(t){const e=await Vm(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Ym(e)}}class KS{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,i,r){return"none"}destroy(t=!1){}}var Io,_c,br,yr,As,$o,Lo,bt,ys,Qu,Bl,Qf,Hl,XS,Lv,Ul,Zu,td,Nv,ed;class G2 extends KS{constructor({docId:e,ownerDocument:n=globalThis.document}){super();S(this,bt);S(this,Io);S(this,_c);S(this,br);S(this,yr);S(this,As);S(this,$o);S(this,Lo,0);w(this,yr,e),w(this,As,n)}addFilter(e){if(!e)return"none";let n=u(this,bt,ys).get(e);if(n)return n;const[i,r,a]=A(this,bt,Qf).call(this,e),o=e.length===1?i:`${i}${r}${a}`;if(n=u(this,bt,ys).get(o),n)return u(this,bt,ys).set(e,n),n;const l=`g_${u(this,yr)}_transfer_map_${Rs(this,Lo)._++}`,c=A(this,bt,Hl).call(this,l);u(this,bt,ys).set(e,c),u(this,bt,ys).set(o,c);const d=A(this,bt,Ul).call(this,l);return A(this,bt,td).call(this,i,r,a,d),c}addHCMFilter(e,n){var m;const i=`${e}-${n}`,r="base";let a=u(this,bt,Qu).get(r);if((a==null?void 0:a.key)===i||(a?((m=a.filter)==null||m.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},u(this,bt,Qu).set(r,a)),!e||!n))return a.url;const o=A(this,bt,ed).call(this,e);e=xt.makeHexColor(...o);const l=A(this,bt,ed).call(this,n);if(n=xt.makeHexColor(...l),u(this,bt,Bl).style.color="",e==="#000000"&&n==="#ffffff"||e===n)return a.url;const c=new Array(256);for(let v=0;v<=255;v++){const b=v/255;c[v]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const d=c.join(","),h=`g_${u(this,yr)}_hcm_filter`,f=a.filter=A(this,bt,Ul).call(this,h);A(this,bt,td).call(this,d,d,d,f),A(this,bt,Lv).call(this,f);const p=(v,b)=>{const y=o[v]/255,E=l[v]/255,C=new Array(b+1);for(let x=0;x<=b;x++)C[x]=y+x/b*(E-y);return C.join(",")};return A(this,bt,td).call(this,p(0,5),p(1,5),p(2,5),f),a.url=A(this,bt,Hl).call(this,h),a.url}addAlphaFilter(e){let n=u(this,bt,ys).get(e);if(n)return n;const[i]=A(this,bt,Qf).call(this,[e]),r=`alpha_${i}`;if(n=u(this,bt,ys).get(r),n)return u(this,bt,ys).set(e,n),n;const a=`g_${u(this,yr)}_alpha_map_${Rs(this,Lo)._++}`,o=A(this,bt,Hl).call(this,a);u(this,bt,ys).set(e,o),u(this,bt,ys).set(r,o);const l=A(this,bt,Ul).call(this,a);return A(this,bt,Nv).call(this,i,l),o}addLuminosityFilter(e){let n=u(this,bt,ys).get(e||"luminosity");if(n)return n;let i,r;if(e?([i]=A(this,bt,Qf).call(this,[e]),r=`luminosity_${i}`):r="luminosity",n=u(this,bt,ys).get(r),n)return u(this,bt,ys).set(e,n),n;const a=`g_${u(this,yr)}_luminosity_map_${Rs(this,Lo)._++}`,o=A(this,bt,Hl).call(this,a);u(this,bt,ys).set(e,o),u(this,bt,ys).set(r,o);const l=A(this,bt,Ul).call(this,a);return A(this,bt,XS).call(this,l),e&&A(this,bt,Nv).call(this,i,l),o}addHighlightHCMFilter(e,n,i,r,a){var E;const o=`${n}-${i}-${r}-${a}`;let l=u(this,bt,Qu).get(e);if((l==null?void 0:l.key)===o||(l?((E=l.filter)==null||E.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},u(this,bt,Qu).set(e,l)),!n||!i))return l.url;const[c,d]=[n,i].map(A(this,bt,ed).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[p,m]=[r,a].map(A(this,bt,ed).bind(this));f<h&&([h,f,p,m]=[f,h,m,p]),u(this,bt,Bl).style.color="";const v=(C,x,D)=>{const M=new Array(256),P=(f-h)/D,H=C/255,F=(x-C)/(255*D);let Z=0;for(let Y=0;Y<=D;Y++){const L=Math.round(h+Y*P),K=H+Y*F;for(let lt=Z;lt<=L;lt++)M[lt]=K;Z=L+1}for(let Y=Z;Y<256;Y++)M[Y]=M[Z-1];return M.join(",")},b=`g_${u(this,yr)}_hcm_${e}_filter`,y=l.filter=A(this,bt,Ul).call(this,b);return A(this,bt,Lv).call(this,y),A(this,bt,td).call(this,v(p[0],m[0],5),v(p[1],m[1],5),v(p[2],m[2],5),y),l.url=A(this,bt,Hl).call(this,b),l.url}destroy(e=!1){var n,i,r,a;e&&((n=u(this,$o))!=null&&n.size)||((i=u(this,br))==null||i.parentNode.parentNode.remove(),w(this,br,null),(r=u(this,_c))==null||r.clear(),w(this,_c,null),(a=u(this,$o))==null||a.clear(),w(this,$o,null),w(this,Lo,0))}}Io=new WeakMap,_c=new WeakMap,br=new WeakMap,yr=new WeakMap,As=new WeakMap,$o=new WeakMap,Lo=new WeakMap,bt=new WeakSet,ys=function(){return u(this,_c)||w(this,_c,new Map)},Qu=function(){return u(this,$o)||w(this,$o,new Map)},Bl=function(){if(!u(this,br)){const e=u(this,As).createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=u(this,As).createElementNS(or,"svg");i.setAttribute("width",0),i.setAttribute("height",0),w(this,br,u(this,As).createElementNS(or,"defs")),e.append(i),i.append(u(this,br)),u(this,As).body.append(e)}return u(this,br)},Qf=function(e){if(e.length===1){const c=e[0],d=new Array(256);for(let f=0;f<256;f++)d[f]=c[f]/255;const h=d.join(",");return[h,h,h]}const[n,i,r]=e,a=new Array(256),o=new Array(256),l=new Array(256);for(let c=0;c<256;c++)a[c]=n[c]/255,o[c]=i[c]/255,l[c]=r[c]/255;return[a.join(","),o.join(","),l.join(",")]},Hl=function(e){if(u(this,Io)===void 0){w(this,Io,"");const n=u(this,As).URL;n!==u(this,As).baseURI&&(Wm(n)?qt('#createUrl: ignore "data:"-URL for performance reasons.'):w(this,Io,n.split("#",1)[0]))}return`url(${u(this,Io)}#${e})`},XS=function(e){const n=u(this,As).createElementNS(or,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)},Lv=function(e){const n=u(this,As).createElementNS(or,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)},Ul=function(e){const n=u(this,As).createElementNS(or,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),u(this,bt,Bl).append(n),n},Zu=function(e,n,i){const r=u(this,As).createElementNS(or,n);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),e.append(r)},td=function(e,n,i,r){const a=u(this,As).createElementNS(or,"feComponentTransfer");r.append(a),A(this,bt,Zu).call(this,a,"feFuncR",e),A(this,bt,Zu).call(this,a,"feFuncG",n),A(this,bt,Zu).call(this,a,"feFuncB",i)},Nv=function(e,n){const i=u(this,As).createElementNS(or,"feComponentTransfer");n.append(i),A(this,bt,Zu).call(this,i,"feFuncA",e)},ed=function(e){return u(this,bt,Bl).style.color=e,vy(getComputedStyle(u(this,bt,Bl)).getPropertyValue("color"))};class JS{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){ge("Abstract method `_fetch` called.")}}class QS extends JS{async _fetch(t){const e=await Vm(t,"arraybuffer");return new Uint8Array(e)}}async function ZS(s){const e=await process.getBuiltinModule("fs").promises.readFile(s);return new Uint8Array(e)}class K2 extends KS{}class X2 extends qS{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class J2 extends zS{async _fetch(t){return ZS(t)}}class Q2 extends JS{async _fetch(t){return ZS(t)}}const Cs={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Fv(s,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],e,n),s.clip(i)}class yy{getPattern(){ge("Abstract method `getPattern` called.")}}class Z2 extends yy{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,i){let r;if(i===Cs.STROKE||i===Cs.FILL){const a=e.current.getClippedPathBoundingBox(i,xe(t))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,c=e.cachedCanvases.getCanvas("pattern",o,l),d=c.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),n=xt.transform(n,[1,0,0,1,a[0],a[1]]),d.transform(...e.baseTransform),this.matrix&&d.transform(...this.matrix),Fv(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),r=t.createPattern(c.canvas,"no-repeat");const h=new DOMMatrix(n);r.setTransform(h)}else Fv(t,this._bbox),r=this._createGradient(t);return r}}function Mg(s,t,e,n,i,r,a,o){const l=t.coords,c=t.colors,d=s.data,h=s.width*4;let f;l[e+1]>l[n+1]&&(f=e,e=n,n=f,f=r,r=a,a=f),l[n+1]>l[i+1]&&(f=n,n=i,i=f,f=a,a=o,o=f),l[e+1]>l[n+1]&&(f=e,e=n,n=f,f=r,r=a,a=f);const p=(l[e]+t.offsetX)*t.scaleX,m=(l[e+1]+t.offsetY)*t.scaleY,v=(l[n]+t.offsetX)*t.scaleX,b=(l[n+1]+t.offsetY)*t.scaleY,y=(l[i]+t.offsetX)*t.scaleX,E=(l[i+1]+t.offsetY)*t.scaleY;if(m>=E)return;const C=c[r],x=c[r+1],D=c[r+2],M=c[a],P=c[a+1],H=c[a+2],F=c[o],Z=c[o+1],Y=c[o+2],L=Math.round(m),K=Math.round(E);let lt,dt,ut,X,nt,pt,W,At;for(let ct=L;ct<=K;ct++){if(ct<b){const N=ct<m?0:(m-ct)/(m-b);lt=p-(p-v)*N,dt=C-(C-M)*N,ut=x-(x-P)*N,X=D-(D-H)*N}else{let N;ct>E?N=1:b===E?N=0:N=(b-ct)/(b-E),lt=v-(v-y)*N,dt=M-(M-F)*N,ut=P-(P-Z)*N,X=H-(H-Y)*N}let Mt;ct<m?Mt=0:ct>E?Mt=1:Mt=(m-ct)/(m-E),nt=p-(p-y)*Mt,pt=C-(C-F)*Mt,W=x-(x-Z)*Mt,At=D-(D-Y)*Mt;const It=Math.round(Math.min(lt,nt)),Qt=Math.round(Math.max(lt,nt));let Rt=h*ct+It*4;for(let N=It;N<=Qt;N++)Mt=(lt-N)/(lt-nt),Mt<0?Mt=0:Mt>1&&(Mt=1),d[Rt++]=dt-(dt-pt)*Mt|0,d[Rt++]=ut-(ut-W)*Mt|0,d[Rt++]=X-(X-At)*Mt|0,d[Rt++]=255}}function tL(s,t,e){const n=t.coords,i=t.colors;let r,a;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(n.length/o)-1,c=o-1;for(r=0;r<l;r++){let d=r*o;for(let h=0;h<c;h++,d++)Mg(s,e,n[d],n[d+1],n[d+o],i[d],i[d+1],i[d+o]),Mg(s,e,n[d+o+1],n[d+1],n[d+o],i[d+o+1],i[d+1],i[d+o])}break;case"triangles":for(r=0,a=n.length;r<a;r+=3)Mg(s,e,n[r],n[r+1],n[r+2],i[r],i[r+1],i[r+2]);break;default:throw new Error("illegal figure")}}class eL extends yy{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,n){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(c*t[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(d*t[1]*1.1)),3e3),p=c/h,m=d/f,v={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/p,scaleY:1/m},b=h+2*2,y=f+2*2,E=n.getCanvas("mesh",b,y),C=E.context,x=C.createImageData(h,f);if(e){const M=x.data;for(let P=0,H=M.length;P<H;P+=4)M[P]=e[0],M[P+1]=e[1],M[P+2]=e[2],M[P+3]=255}for(const M of this._figures)tL(x,M,v);return C.putImageData(x,2,2),{canvas:E.canvas,offsetX:o-2*p,offsetY:l-2*m,scaleX:p,scaleY:m}}getPattern(t,e,n,i){Fv(t,this._bbox);let r;if(i===Cs.SHADING)r=xt.singularValueDecompose2dScale(xe(t));else if(r=xt.singularValueDecompose2dScale(e.baseTransform),this.matrix){const o=xt.singularValueDecompose2dScale(this.matrix);r=[r[0]*o[0],r[1]*o[1]]}const a=this._createMeshCanvas(r,i===Cs.SHADING?null:this._background,e.cachedCanvases);return i!==Cs.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(a.offsetX,a.offsetY),t.scale(a.scaleX,a.scaleY),t.createPattern(a.canvas,"no-repeat")}}class sL extends yy{getPattern(){return"hotpink"}}function nL(s){switch(s[0]){case"RadialAxial":return new Z2(s);case"Mesh":return new eL(s);case"Dummy":return new sL}throw new Error(`Unknown IR type: ${s[0]}`)}const E0={COLORED:1,UNCOLORED:2},lm=class lm{constructor(t,e,n,i,r){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(t){const{bbox:e,operatorList:n,paintType:i,tilingType:r,color:a,canvasGraphicsFactory:o}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),Um("TilingType: "+r);const d=e[0],h=e[1],f=e[2],p=e[3],m=f-d,v=p-h,b=xt.singularValueDecompose2dScale(this.matrix),y=xt.singularValueDecompose2dScale(this.baseTransform),E=b[0]*y[0],C=b[1]*y[1];let x=m,D=v,M=!1,P=!1;const H=Math.ceil(l*E),F=Math.ceil(c*C),Z=Math.ceil(m*E),Y=Math.ceil(v*C);H>=Z?x=l:M=!0,F>=Y?D=c:P=!0;const L=this.getSizeAndScale(x,this.ctx.canvas.width,E),K=this.getSizeAndScale(D,this.ctx.canvas.height,C),lt=t.cachedCanvases.getCanvas("pattern",L.size,K.size),dt=lt.context,ut=o.createCanvasGraphics(dt);if(ut.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(ut,i,a),dt.translate(-L.scale*d,-K.scale*h),ut.transform(L.scale,0,0,K.scale,0,0),dt.save(),this.clipBbox(ut,d,h,f,p),ut.baseTransform=xe(ut.ctx),ut.executeOperatorList(n),ut.endDrawing(),dt.restore(),M||P){const X=lt.canvas;M&&(x=l),P&&(D=c);const nt=this.getSizeAndScale(x,this.ctx.canvas.width,E),pt=this.getSizeAndScale(D,this.ctx.canvas.height,C),W=nt.size,At=pt.size,ct=t.cachedCanvases.getCanvas("pattern-workaround",W,At),Mt=ct.context,It=M?Math.floor(m/l):0,Qt=P?Math.floor(v/c):0;for(let Rt=0;Rt<=It;Rt++)for(let N=0;N<=Qt;N++)Mt.drawImage(X,W*Rt,At*N,W,At,0,0,W,At);return{canvas:ct.canvas,scaleX:nt.scale,scaleY:pt.scale,offsetX:d,offsetY:h}}return{canvas:lt.canvas,scaleX:L.scale,scaleY:K.scale,offsetX:d,offsetY:h}}getSizeAndScale(t,e,n){const i=Math.max(lm.MAX_PATTERN_SIZE,e);let r=Math.ceil(t*n);return r>=i?r=i:n=r/t,{scale:n,size:r}}clipBbox(t,e,n,i,r){const a=i-e,o=r-n;t.ctx.rect(e,n,a,o),t.current.updateRectMinMax(xe(t.ctx),[e,n,i,r]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const i=t.ctx,r=t.current;switch(e){case E0.COLORED:const a=this.ctx;i.fillStyle=a.fillStyle,i.strokeStyle=a.strokeStyle,r.fillColor=a.fillStyle,r.strokeColor=a.strokeStyle;break;case E0.UNCOLORED:const o=xt.makeHexColor(n[0],n[1],n[2]);i.fillStyle=o,i.strokeStyle=o,r.fillColor=o,r.strokeColor=o;break;default:throw new k2(`Unsupported paint type: ${e}`)}}getPattern(t,e,n,i){let r=n;i!==Cs.SHADING&&(r=xt.transform(r,e.baseTransform),this.matrix&&(r=xt.transform(r,this.matrix)));const a=this.createPatternCanvas(e);let o=new DOMMatrix(r);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const l=t.createPattern(a.canvas,"repeat");return l.setTransform(o),l}};kt(lm,"MAX_PATTERN_SIZE",3e3);let Bv=lm;function iL({src:s,srcPos:t=0,dest:e,width:n,height:i,nonBlackColor:r=4294967295,inverseDecode:a=!1}){const o=Ys.isLittleEndian?4278190080:255,[l,c]=a?[r,o]:[o,r],d=n>>3,h=n&7,f=s.length;e=new Uint32Array(e.buffer);let p=0;for(let m=0;m<i;m++){for(const b=t+d;t<b;t++){const y=t<f?s[t]:255;e[p++]=y&128?c:l,e[p++]=y&64?c:l,e[p++]=y&32?c:l,e[p++]=y&16?c:l,e[p++]=y&8?c:l,e[p++]=y&4?c:l,e[p++]=y&2?c:l,e[p++]=y&1?c:l}if(h===0)continue;const v=t<f?s[t++]:255;for(let b=0;b<h;b++)e[p++]=v&1<<7-b?c:l}return{srcPos:t,destPos:p}}const x0=16,C0=100,rL=15,T0=10,D0=1e3,tn=16;function aL(s,t){if(s._removeMirroring)throw new Error("Context is already forwarding operations.");s.__originalSave=s.save,s.__originalRestore=s.restore,s.__originalRotate=s.rotate,s.__originalScale=s.scale,s.__originalTranslate=s.translate,s.__originalTransform=s.transform,s.__originalSetTransform=s.setTransform,s.__originalResetTransform=s.resetTransform,s.__originalClip=s.clip,s.__originalMoveTo=s.moveTo,s.__originalLineTo=s.lineTo,s.__originalBezierCurveTo=s.bezierCurveTo,s.__originalRect=s.rect,s.__originalClosePath=s.closePath,s.__originalBeginPath=s.beginPath,s._removeMirroring=()=>{s.save=s.__originalSave,s.restore=s.__originalRestore,s.rotate=s.__originalRotate,s.scale=s.__originalScale,s.translate=s.__originalTranslate,s.transform=s.__originalTransform,s.setTransform=s.__originalSetTransform,s.resetTransform=s.__originalResetTransform,s.clip=s.__originalClip,s.moveTo=s.__originalMoveTo,s.lineTo=s.__originalLineTo,s.bezierCurveTo=s.__originalBezierCurveTo,s.rect=s.__originalRect,s.closePath=s.__originalClosePath,s.beginPath=s.__originalBeginPath,delete s._removeMirroring},s.save=function(){t.save(),this.__originalSave()},s.restore=function(){t.restore(),this.__originalRestore()},s.translate=function(n,i){t.translate(n,i),this.__originalTranslate(n,i)},s.scale=function(n,i){t.scale(n,i),this.__originalScale(n,i)},s.transform=function(n,i,r,a,o,l){t.transform(n,i,r,a,o,l),this.__originalTransform(n,i,r,a,o,l)},s.setTransform=function(n,i,r,a,o,l){t.setTransform(n,i,r,a,o,l),this.__originalSetTransform(n,i,r,a,o,l)},s.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},s.rotate=function(n){t.rotate(n),this.__originalRotate(n)},s.clip=function(n){t.clip(n),this.__originalClip(n)},s.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},s.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},s.bezierCurveTo=function(e,n,i,r,a,o){t.bezierCurveTo(e,n,i,r,a,o),this.__originalBezierCurveTo(e,n,i,r,a,o)},s.rect=function(e,n,i,r){t.rect(e,n,i,r),this.__originalRect(e,n,i,r)},s.closePath=function(){t.closePath(),this.__originalClosePath()},s.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class oL{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let i;return this.cache[t]!==void 0?(i=this.cache[t],this.canvasFactory.reset(i,e,n)):(i=this.canvasFactory.create(e,n),this.cache[t]=i),i}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Tf(s,t,e,n,i,r,a,o,l,c){const[d,h,f,p,m,v]=xe(s);if(h===0&&f===0){const E=a*d+m,C=Math.round(E),x=o*p+v,D=Math.round(x),M=(a+l)*d+m,P=Math.abs(Math.round(M)-C)||1,H=(o+c)*p+v,F=Math.abs(Math.round(H)-D)||1;return s.setTransform(Math.sign(d),0,0,Math.sign(p),C,D),s.drawImage(t,e,n,i,r,0,0,P,F),s.setTransform(d,h,f,p,m,v),[P,F]}if(d===0&&p===0){const E=o*f+m,C=Math.round(E),x=a*h+v,D=Math.round(x),M=(o+c)*f+m,P=Math.abs(Math.round(M)-C)||1,H=(a+l)*h+v,F=Math.abs(Math.round(H)-D)||1;return s.setTransform(0,Math.sign(h),Math.sign(f),0,C,D),s.drawImage(t,e,n,i,r,0,0,F,P),s.setTransform(d,h,f,p,m,v),[F,P]}s.drawImage(t,e,n,i,r,a,o,l,c);const b=Math.hypot(d,h),y=Math.hypot(f,p);return[b*l,y*c]}function lL(s){const{width:t,height:e}=s;if(t>D0||e>D0)return null;const n=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=t+1;let a=new Uint8Array(r*(e+1)),o,l,c;const d=t+7&-8;let h=new Uint8Array(d*e),f=0;for(const y of s.data){let E=128;for(;E>0;)h[f++]=y&E?0:255,E>>=1}let p=0;for(f=0,h[f]!==0&&(a[0]=1,++p),l=1;l<t;l++)h[f]!==h[f+1]&&(a[l]=h[f]?2:1,++p),f++;for(h[f]!==0&&(a[l]=2,++p),o=1;o<e;o++){f=o*d,c=o*r,h[f-d]!==h[f]&&(a[c]=h[f]?1:8,++p);let y=(h[f]?4:0)+(h[f-d]?8:0);for(l=1;l<t;l++)y=(y>>2)+(h[f+1]?4:0)+(h[f-d+1]?8:0),i[y]&&(a[c+l]=i[y],++p),f++;if(h[f-d]!==h[f]&&(a[c+l]=h[f]?2:4,++p),p>n)return null}for(f=d*(e-1),c=o*r,h[f]!==0&&(a[c]=8,++p),l=1;l<t;l++)h[f]!==h[f+1]&&(a[c+l]=h[f]?4:8,++p),f++;if(h[f]!==0&&(a[c+l]=4,++p),p>n)return null;const m=new Int32Array([0,r,-1,0,-r,0,0,0,1]),v=new Path2D;for(o=0;p&&o<=e;o++){let y=o*r;const E=y+t;for(;y<E&&!a[y];)y++;if(y===E)continue;v.moveTo(y%r,o);const C=y;let x=a[y];do{const D=m[x];do y+=D;while(!a[y]);const M=a[y];M!==5&&M!==10?(x=M,a[y]=0):(x=M&51*x>>4,a[y]&=x>>2|x<<2),v.lineTo(y%r,y/r|0),a[y]||--p}while(C!==y);--o}return h=null,a=null,function(y){y.save(),y.scale(1/t,-1/e),y.translate(0,-e),y.fill(v),y.beginPath(),y.restore()}}class k0{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=gS,this.textMatrixScale=1,this.fontMatrix=dv,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=bs.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.patternStroke=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,n){[e,n]=xt.applyTransform([e,n],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(t,e){const n=xt.applyTransform(e,t),i=xt.applyTransform(e.slice(2),t),r=xt.applyTransform([e[0],e[3]],t),a=xt.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,n[0],i[0],r[0],a[0]),this.minY=Math.min(this.minY,n[1],i[1],r[1],a[1]),this.maxX=Math.max(this.maxX,n[0],i[0],r[0],a[0]),this.maxY=Math.max(this.maxY,n[1],i[1],r[1],a[1])}updateScalingPathMinMax(t,e){xt.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,n,i,r,a,o,l,c,d){const h=xt.bezierBoundingBox(e,n,i,r,a,o,l,c,d);d||this.updateRectMinMax(t,h)}getPathBoundingBox(t=Cs.FILL,e=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(t===Cs.STROKE){e||ge("Stroke bounding box must include transform.");const i=xt.singularValueDecompose2dScale(e),r=i[0]*this.lineWidth/2,a=i[1]*this.lineWidth/2;n[0]-=r,n[1]-=a,n[2]+=r,n[3]+=a}return n}updateClipFromPath(){const t=xt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=Cs.FILL,e=null){return xt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function P0(s,t){if(t instanceof ImageData){s.putImageData(t,0,0);return}const e=t.height,n=t.width,i=e%tn,r=(e-i)/tn,a=i===0?r:r+1,o=s.createImageData(n,tn);let l=0,c;const d=t.data,h=o.data;let f,p,m,v;if(t.kind===Wf.GRAYSCALE_1BPP){const b=d.byteLength,y=new Uint32Array(h.buffer,0,h.byteLength>>2),E=y.length,C=n+7>>3,x=4294967295,D=Ys.isLittleEndian?4278190080:255;for(f=0;f<a;f++){for(m=f<r?tn:i,c=0,p=0;p<m;p++){const M=b-l;let P=0;const H=M>C?n:M*8-7,F=H&-8;let Z=0,Y=0;for(;P<F;P+=8)Y=d[l++],y[c++]=Y&128?x:D,y[c++]=Y&64?x:D,y[c++]=Y&32?x:D,y[c++]=Y&16?x:D,y[c++]=Y&8?x:D,y[c++]=Y&4?x:D,y[c++]=Y&2?x:D,y[c++]=Y&1?x:D;for(;P<H;P++)Z===0&&(Y=d[l++],Z=128),y[c++]=Y&Z?x:D,Z>>=1}for(;c<E;)y[c++]=0;s.putImageData(o,0,f*tn)}}else if(t.kind===Wf.RGBA_32BPP){for(p=0,v=n*tn*4,f=0;f<r;f++)h.set(d.subarray(l,l+v)),l+=v,s.putImageData(o,0,p),p+=tn;f<a&&(v=n*i*4,h.set(d.subarray(l,l+v)),s.putImageData(o,0,p))}else if(t.kind===Wf.RGB_24BPP)for(m=tn,v=n*m,f=0;f<a;f++){for(f>=r&&(m=i,v=n*m),c=0,p=v;p--;)h[c++]=d[l++],h[c++]=d[l++],h[c++]=d[l++],h[c++]=255;s.putImageData(o,0,f*tn)}else throw new Error(`bad image kind: ${t.kind}`)}function M0(s,t){if(t.bitmap){s.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,i=e%tn,r=(e-i)/tn,a=i===0?r:r+1,o=s.createImageData(n,tn);let l=0;const c=t.data,d=o.data;for(let h=0;h<a;h++){const f=h<r?tn:i;({srcPos:l}=iL({src:c,srcPos:l,dest:d,width:n,height:f,nonBlackColor:0})),s.putImageData(o,0,h*tn)}}function Bu(s,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)s[n]!==void 0&&(t[n]=s[n]);s.setLineDash!==void 0&&(t.setLineDash(s.getLineDash()),t.lineDashOffset=s.lineDashOffset)}function Df(s){if(s.strokeStyle=s.fillStyle="#000000",s.fillRule="nonzero",s.globalAlpha=1,s.lineWidth=1,s.lineCap="butt",s.lineJoin="miter",s.miterLimit=10,s.globalCompositeOperation="source-over",s.font="10px sans-serif",s.setLineDash!==void 0&&(s.setLineDash([]),s.lineDashOffset=0),!Us){const{filter:t}=s;t!=="none"&&t!==""&&(s.filter="none")}}function R0(s,t){if(t)return!0;const e=xt.singularValueDecompose2dScale(s);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*ja.PDF_TO_CSS_UNITS);return e[0]<=n&&e[1]<=n}const cL=["butt","round","square"],uL=["miter","round","bevel"],dL={},O0={};var Wa,Hv,Uv;const Qy=class Qy{constructor(t,e,n,i,r,{optionalContentConfig:a,markedContentStack:o=null},l,c){S(this,Wa);this.ctx=t,this.current=new k0(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=i,this.filterFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new oL(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:i=null}){const r=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,r,a),this.ctx.fillStyle=o,n){const l=this.cachedCanvases.getCanvas("transparent",r,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...xe(this.compositeCtx))}this.ctx.save(),Df(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=xe(this.ctx)}executeOperatorList(t,e,n,i){const r=t.argsArray,a=t.fnArray;let o=e||0;const l=r.length;if(l===o)return o;const c=l-o>T0&&typeof n=="function",d=c?Date.now()+rL:0;let h=0;const f=this.commonObjs,p=this.objs;let m;for(;;){if(i!==void 0&&o===i.nextBreakPoint)return i.breakIt(o,n),o;if(m=a[o],m!==Gn.dependency)this[m].apply(this,r[o]);else for(const v of r[o]){const b=v.startsWith("g_")?f:p;if(!b.has(v))return b.get(v,n),o}if(o++,o===l)return o;if(c&&++h>T0){if(Date.now()>d)return n(),o;h=0}}}endDrawing(){A(this,Wa,Hv).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),A(this,Wa,Uv).call(this)}_scaleImage(t,e){const n=t.width??t.displayWidth,i=t.height??t.displayHeight;let r=Math.max(Math.hypot(e[0],e[1]),1),a=Math.max(Math.hypot(e[2],e[3]),1),o=n,l=i,c="prescale1",d,h;for(;r>2&&o>1||a>2&&l>1;){let f=o,p=l;r>2&&o>1&&(f=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),r/=o/f),a>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/p),d=this.cachedCanvases.getCanvas(c,f,p),h=d.context,h.clearRect(0,0,f,p),h.drawImage(t,0,0,o,l,0,0,f,p),t=d.canvas,o=f,l=p,c=c==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:o,paintHeight:l}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:i}=t,r=this.current.fillColor,a=this.current.patternFill,o=xe(e);let l,c,d,h;if((t.bitmap||t.data)&&t.count>1){const H=t.bitmap||t.data.buffer;c=JSON.stringify(a?o:[o.slice(0,4),r]),l=this._cachedBitmapsMap.get(H),l||(l=new Map,this._cachedBitmapsMap.set(H,l));const F=l.get(c);if(F&&!a){const Z=Math.round(Math.min(o[0],o[2])+o[4]),Y=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:F,offsetX:Z,offsetY:Y}}d=F}d||(h=this.cachedCanvases.getCanvas("maskCanvas",n,i),M0(h.context,t));let f=xt.transform(o,[1/n,0,0,-1/i,0,0]);f=xt.transform(f,[1,0,0,1,0,-i]);const[p,m,v,b]=xt.getAxialAlignedBoundingBox([0,0,n,i],f),y=Math.round(v-p)||1,E=Math.round(b-m)||1,C=this.cachedCanvases.getCanvas("fillCanvas",y,E),x=C.context,D=p,M=m;x.translate(-D,-M),x.transform(...f),d||(d=this._scaleImage(h.canvas,Si(x)),d=d.img,l&&a&&l.set(c,d)),x.imageSmoothingEnabled=R0(xe(x),t.interpolate),Tf(x,d,0,0,d.width,d.height,0,0,n,i),x.globalCompositeOperation="source-in";const P=xt.transform(Si(x),[1,0,0,1,-D,-M]);return x.fillStyle=a?r.getPattern(e,this,P,Cs.FILL):r,x.fillRect(0,0,n,i),l&&!a&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,C.canvas)),{canvas:C.canvas,offsetX:Math.round(D),offsetY:Math.round(M)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=cL[t]}setLineJoin(t){this.ctx.lineJoin=uL[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx,this.ctx=i.context;const r=this.ctx;r.setTransform(...xe(this.suspendedCtx)),Bu(this.suspendedCtx,r),aL(r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Bu(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,i){const r=i[0],a=i[1],o=i[2]-r,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(e.context,n,o,l,e.subtype,e.backdrop,e.transferMap,r,a,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,i,r,a,o,l,c,d,h){let f=t.canvas,p=l-d,m=c-h;if(a){const b=xt.makeHexColor(...a);if(p<0||m<0||p+n>f.width||m+i>f.height){const y=this.cachedCanvases.getCanvas("maskExtension",n,i),E=y.context;E.drawImage(f,-p,-m),E.globalCompositeOperation="destination-atop",E.fillStyle=b,E.fillRect(0,0,n,i),E.globalCompositeOperation="source-over",f=y.canvas,p=m=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const y=new Path2D;y.rect(p,m,n,i),t.clip(y),t.globalCompositeOperation="destination-atop",t.fillStyle=b,t.fillRect(p,m,n,i),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),r==="Alpha"&&o?e.filter=this.filterFactory.addAlphaFilter(o):r==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(o));const v=new Path2D;v.rect(l,c,n,i),e.clip(v),e.globalCompositeOperation="destination-in",e.drawImage(f,p,m,n,i,l,c,n,i),e.restore()}save(){this.inSMaskMode?(Bu(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Bu(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,n,i,r,a){this.ctx.transform(t,e,n,i,r,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){const i=this.ctx,r=this.current;let a=r.x,o=r.y,l,c;const d=xe(i),h=d[0]===0&&d[3]===0||d[1]===0&&d[2]===0,f=h?n.slice(0):null;for(let p=0,m=0,v=t.length;p<v;p++)switch(t[p]|0){case Gn.rectangle:a=e[m++],o=e[m++];const b=e[m++],y=e[m++],E=a+b,C=o+y;i.moveTo(a,o),b===0||y===0?i.lineTo(E,C):(i.lineTo(E,o),i.lineTo(E,C),i.lineTo(a,C)),h||r.updateRectMinMax(d,[a,o,E,C]),i.closePath();break;case Gn.moveTo:a=e[m++],o=e[m++],i.moveTo(a,o),h||r.updatePathMinMax(d,a,o);break;case Gn.lineTo:a=e[m++],o=e[m++],i.lineTo(a,o),h||r.updatePathMinMax(d,a,o);break;case Gn.curveTo:l=a,c=o,a=e[m+4],o=e[m+5],i.bezierCurveTo(e[m],e[m+1],e[m+2],e[m+3],a,o),r.updateCurvePathMinMax(d,l,c,e[m],e[m+1],e[m+2],e[m+3],a,o,f),m+=6;break;case Gn.curveTo2:l=a,c=o,i.bezierCurveTo(a,o,e[m],e[m+1],e[m+2],e[m+3]),r.updateCurvePathMinMax(d,l,c,a,o,e[m],e[m+1],e[m+2],e[m+3],f),a=e[m+2],o=e[m+3],m+=4;break;case Gn.curveTo3:l=a,c=o,a=e[m+2],o=e[m+3],i.bezierCurveTo(e[m],e[m+1],a,o,a,o),r.updateCurvePathMinMax(d,l,c,e[m],e[m+1],a,o,a,o,f),m+=4;break;case Gn.closePath:i.closePath();break}h&&r.updateScalingPathMinMax(d,f),r.setCurrentPoint(a,o)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,n=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(e.save(),e.strokeStyle=n.getPattern(e,this,Si(e),Cs.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,n=this.current.fillColor,i=this.current.patternFill;let r=!1;i&&(e.save(),e.fillStyle=n.getPattern(e,this,Si(e),Cs.FILL),r=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),r&&e.restore(),t&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=dL}eoClip(){this.pendingClip=O0}beginText(){this.current.textMatrix=gS,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const n of t)e.setTransform(...n.transform),e.translate(n.x,n.y),n.addToPath(e,n.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var d;const n=this.commonObjs.get(t),i=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(i.fontMatrix=n.fontMatrix||dv,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&qt("Invalid font matrix for font "+t),e<0?(e=-e,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const r=n.loadedName||"sans-serif",a=((d=n.systemFontInfo)==null?void 0:d.css)||`"${r}", ${n.fallbackName}`;let o="normal";n.black?o="900":n.bold&&(o="bold");const l=n.italic?"italic":"normal";let c=e;e<x0?c=x0:e>C0&&(c=C0),this.current.fontSizeScale=e/c,this.ctx.font=`${l} ${o} ${c}px ${a}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,n,i,r,a){this.current.textMatrix=[t,e,n,i,r,a],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,n,i,r){const a=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,d=o.fontSize/o.fontSizeScale,h=c&bs.FILL_STROKE_MASK,f=!!(c&bs.ADD_TO_PATH_FLAG),p=o.patternFill&&!l.missingFile,m=o.patternStroke&&!l.missingFile;let v;(l.disableFontFace||f||p||m)&&(v=l.getPathGenerator(this.commonObjs,t)),l.disableFontFace||p||m?(a.save(),a.translate(e,n),a.beginPath(),v(a,d),(h===bs.FILL||h===bs.FILL_STROKE)&&(i&&a.setTransform(...i),a.fill()),(h===bs.STROKE||h===bs.FILL_STROKE)&&(r&&a.setTransform(...r),a.stroke()),a.restore()):((h===bs.FILL||h===bs.FILL_STROKE)&&a.fillText(t,e,n),(h===bs.STROKE||h===bs.FILL_STROKE)&&a.strokeText(t,e,n)),f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:xe(a),x:e,y:n,fontSize:d,addToPath:v})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<e.length;i+=4)if(e[i]>0&&e[i]<255){n=!0;break}return Gt(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const i=e.fontSize;if(i===0)return;const r=this.ctx,a=e.fontSizeScale,o=e.charSpacing,l=e.wordSpacing,c=e.fontDirection,d=e.textHScale*c,h=t.length,f=n.vertical,p=f?1:-1,m=n.defaultVMetrics,v=i*e.fontMatrix[0],b=e.textRenderingMode===bs.FILL&&!n.disableFontFace&&!e.patternFill;r.save(),r.transform(...e.textMatrix),r.translate(e.x,e.y+e.textRise),c>0?r.scale(d,-1):r.scale(d,1);let y,E;if(e.patternFill){r.save();const P=e.fillColor.getPattern(r,this,Si(r),Cs.FILL);y=xe(r),r.restore(),r.fillStyle=P}if(e.patternStroke){r.save();const P=e.strokeColor.getPattern(r,this,Si(r),Cs.STROKE);E=xe(r),r.restore(),r.strokeStyle=P}let C=e.lineWidth;const x=e.textMatrixScale;if(x===0||C===0){const P=e.textRenderingMode&bs.FILL_STROKE_MASK;(P===bs.STROKE||P===bs.FILL_STROKE)&&(C=this.getSinglePixelWidth())}else C/=x;if(a!==1&&(r.scale(a,a),C/=a),r.lineWidth=C,n.isInvalidPDFjsFont){const P=[];let H=0;for(const F of t)P.push(F.unicode),H+=F.width;r.fillText(P.join(""),0,0),e.x+=H*v*d,r.restore(),this.compose();return}let D=0,M;for(M=0;M<h;++M){const P=t[M];if(typeof P=="number"){D+=p*P*i/1e3;continue}let H=!1;const F=(P.isSpace?l:0)+o,Z=P.fontChar,Y=P.accent;let L,K,lt=P.width;if(f){const ut=P.vmetric||m,X=-(P.vmetric?ut[1]:lt*.5)*v,nt=ut[2]*v;lt=ut?-ut[0]:lt,L=X/a,K=(D+nt)/a}else L=D/a,K=0;if(n.remeasure&&lt>0){const ut=r.measureText(Z).width*1e3/i*a;if(lt<ut&&this.isFontSubpixelAAEnabled){const X=lt/ut;H=!0,r.save(),r.scale(X,1),L/=X}else lt!==ut&&(L+=(lt-ut)/2e3*i/a)}if(this.contentVisible&&(P.isInFont||n.missingFile)){if(b&&!Y)r.fillText(Z,L,K);else if(this.paintChar(Z,L,K,y,E),Y){const ut=L+i*Y.offset.x/a,X=K-i*Y.offset.y/a;this.paintChar(Y.fontChar,ut,X,y,E)}}const dt=f?lt*v-F*c:lt*v+F*c;D+=dt,H&&r.restore()}f?e.y-=D:e.x+=D*d,r.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,i=n.font,r=n.fontSize,a=n.fontDirection,o=i.vertical?1:-1,l=n.charSpacing,c=n.wordSpacing,d=n.textHScale*a,h=n.fontMatrix||dv,f=t.length,p=n.textRenderingMode===bs.INVISIBLE;let m,v,b,y;if(!(p||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...n.textMatrix),e.translate(n.x,n.y),e.scale(d,a),m=0;m<f;++m){if(v=t[m],typeof v=="number"){y=o*v*r/1e3,this.ctx.translate(y,0),n.x+=y*d;continue}const E=(v.isSpace?c:0)+l,C=i.charProcOperatorList[v.operatorListId];if(!C){qt(`Type3 character "${v.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=v,this.save(),e.scale(r,r),e.transform(...h),this.executeOperatorList(C),this.restore()),b=xt.applyTransform([v.width,0],h)[0]*r+E,e.translate(b,0),n.x+=b*d}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,i,r,a){this.ctx.rect(n,i,r-n,a-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const n=t[1],i=this.baseTransform||xe(this.ctx),r={createCanvasGraphics:a=>new Qy(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Bv(t,n,this.ctx,r,i)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,n){this.ctx.strokeStyle=this.current.strokeColor=xt.makeHexColor(t,e,n),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e,n){this.ctx.fillStyle=this.current.fillColor=xt.makeHexColor(t,e,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=nL(this.getObject(t)),this.cachedPatterns.set(t,n)),e&&(n.matrix=e),n}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,Si(e),Cs.SHADING);const i=Si(e);if(i){const{width:r,height:a}=e.canvas,[o,l,c,d]=xt.getAxialAlignedBoundingBox([0,0,r,a],i);this.ctx.fillRect(o,l,c-o,d-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ge("Should not call beginInlineImage")}beginImageData(){ge("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=xe(this.ctx),e)){const n=e[2]-e[0],i=e[3]-e[1];this.ctx.rect(e[0],e[1],n,i),this.current.updateRectMinMax(xe(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Um("TODO: Support non-isolated groups."),t.knockout&&qt("Knockout groups not supported.");const n=xe(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let i=xt.getAxialAlignedBoundingBox(t.bbox,xe(e));const r=[0,0,e.canvas.width,e.canvas.height];i=xt.intersect(i,r)||[0,0,0,0];const a=Math.floor(i[0]),o=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-a,1),c=Math.max(Math.ceil(i[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,c]);let d="groupAt"+this.groupLevel;t.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,l,c),f=h.context;f.translate(-a,-o),f.transform(...n),t.smask?this.smaskStack.push({canvas:h.canvas,context:f,offsetX:a,offsetY:o,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(a,o),e.save()),Bu(e,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=xe(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const r=xt.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],i);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(t,e,n,i,r){if(A(this,Wa,Hv).call(this),Df(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const a=e[2]-e[0],o=e[3]-e[1];if(r&&this.annotationCanvasMap){n=n.slice(),n[4]-=e[0],n[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=a,e[3]=o;const[l,c]=xt.singularValueDecompose2dScale(xe(this.ctx)),{viewportScale:d}=this,h=Math.ceil(a*this.outputScaleX*d),f=Math.ceil(o*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(h,f);const{canvas:p,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(t,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,o*c),Df(this.ctx)}else Df(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],a,o),this.ctx.clip(),this.ctx.beginPath()}this.current=new k0(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),A(this,Wa,Uv).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const n=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=lL(t)),i.compiled)){i.compiled(n);return}const r=this._createMaskCanvas(t),a=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(a,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n=0,i=0,r,a){if(!this.contentVisible)return;t=this.getObject(t.data,t);const o=this.ctx;o.save();const l=xe(o);o.transform(e,n,i,r,0,0);const c=this._createMaskCanvas(t);o.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let d=0,h=a.length;d<h;d+=2){const f=xt.transform(l,[e,n,i,r,a[d],a[d+1]]),[p,m]=xt.applyTransform([0,0],f);o.drawImage(c.canvas,p,m)}o.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const r of t){const{data:a,width:o,height:l,transform:c}=r,d=this.cachedCanvases.getCanvas("maskCanvas",o,l),h=d.context;h.save();const f=this.getObject(a,r);M0(h,f),h.globalCompositeOperation="source-in",h.fillStyle=i?n.getPattern(h,this,Si(e),Cs.FILL):n,h.fillRect(0,0,o,l),h.restore(),e.save(),e.transform(...c),e.scale(1,-1),Tf(e,d.canvas,0,0,o,l,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){qt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,n,i){if(!this.contentVisible)return;const r=this.getObject(t);if(!r){qt("Dependent image isn't ready yet");return}const a=r.width,o=r.height,l=[];for(let c=0,d=i.length;c<d;c+=2)l.push({transform:[e,0,0,n,i[c],i[c+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(r,l)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:i}=t,r=this.cachedCanvases.getCanvas("inlineImage",n,i),a=r.context;return a.filter=this.current.transferMaps,a.drawImage(e,0,0),a.filter="none",r.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,i=this.ctx;if(this.save(),!Us){const{filter:o}=i;o!=="none"&&o!==""&&(i.filter="none")}i.scale(1/e,-1/n);let r;if(t.bitmap)r=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)r=t;else{const l=this.cachedCanvases.getCanvas("inlineImage",e,n).context;P0(l,t),r=this.applyTransferMapsToCanvas(l)}const a=this._scaleImage(r,Si(i));i.imageSmoothingEnabled=R0(xe(i),t.interpolate),Tf(i,a.img,0,0,a.paintWidth,a.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx;let i;if(t.bitmap)i=t.bitmap;else{const r=t.width,a=t.height,l=this.cachedCanvases.getCanvas("inlineImage",r,a).context;P0(l,t),i=this.applyTransferMapsToCanvas(l)}for(const r of e)n.save(),n.transform(...r.transform),n.scale(1,-1),Tf(n,i,r.x,r.y,r.w,r.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const n=this.ctx;this.pendingClip&&(e||(this.pendingClip===O0?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=xe(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),i=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:i,d:r}=this.ctx.getTransform();let a,o;if(n===0&&i===0){const l=Math.abs(e),c=Math.abs(r);if(l===c)if(t===0)a=o=1/l;else{const d=l*t;a=o=d<1?1/d:1}else if(t===0)a=1/l,o=1/c;else{const d=l*t,h=c*t;a=d<1?1/d:1,o=h<1?1/h:1}}else{const l=Math.abs(e*r-n*i),c=Math.hypot(e,n),d=Math.hypot(i,r);if(t===0)a=d/l,o=c/l;else{const h=t*l;a=d>h?d/h:1,o=c>h?c/h:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:n}=this.current,[i,r]=this.getScaleForStroking();if(e.lineWidth=n||1,i===1&&r===1){e.stroke();return}const a=e.getLineDash();if(t&&e.save(),e.scale(i,r),a.length>0){const o=Math.max(i,r);e.setLineDash(a.map(l=>l/o)),e.lineDashOffset/=o}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Wa=new WeakSet,Hv=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Uv=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let sc=Qy;for(const s in Gn)sc.prototype[s]!==void 0&&(sc.prototype[Gn[s]]=sc.prototype[s]);var ch,uh;class Fr{static get workerPort(){return u(this,ch)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");w(this,ch,t)}static get workerSrc(){return u(this,uh)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");w(this,uh,t)}}ch=new WeakMap,uh=new WeakMap,S(Fr,ch,null),S(Fr,uh,"");const kf={UNKNOWN:0,DATA:1,ERROR:2},Ue={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function I0(){}function Cn(s){switch(s instanceof Error||typeof s=="object"&&s!==null||ge('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),s.name){case"AbortException":return new Dl(s.message);case"MissingPDFException":return new pf(s.message);case"PasswordException":return new hv(s.message,s.code);case"UnexpectedResponseException":return new jm(s.message,s.status);case"UnknownErrorException":return new fv(s.message,s.details);default:return new fv(s.message,s.toString())}}var Ac,Yn,tE,eE,sE,Zf;class sd{constructor(t,e,n){S(this,Yn);S(this,Ac,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",A(this,Yn,tE).bind(this),{signal:u(this,Ac).signal})}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const i=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[i]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:e},n)}catch(a){r.reject(a)}return r.promise}sendWithStream(t,e,n,i){const r=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const d=Promise.withResolvers();return this.streamControllers[r]={controller:c,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:t,streamId:r,data:e,desiredSize:c.desiredSize},i),d.promise},pull:c=>{const d=Promise.withResolvers();return this.streamControllers[r].pullCall=d,l.postMessage({sourceName:a,targetName:o,stream:Ue.PULL,streamId:r,desiredSize:c.desiredSize}),d.promise},cancel:c=>{je(c instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[r].cancelCall=d,this.streamControllers[r].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:Ue.CANCEL,streamId:r,reason:Cn(c)}),d.promise}},n)}destroy(){var t;(t=u(this,Ac))==null||t.abort(),w(this,Ac,null)}}Ac=new WeakMap,Yn=new WeakSet,tE=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){A(this,Yn,sE).call(this,t);return}if(t.callback){const n=t.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===kf.DATA)i.resolve(t.data);else if(t.callback===kf.ERROR)i.reject(Cn(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,i=t.sourceName,r=this.comObj;Promise.try(e,t.data).then(function(a){r.postMessage({sourceName:n,targetName:i,callback:kf.DATA,callbackId:t.callbackId,data:a})},function(a){r.postMessage({sourceName:n,targetName:i,callback:kf.ERROR,callbackId:t.callbackId,reason:Cn(a)})});return}if(t.streamId){A(this,Yn,eE).call(this,t);return}e(t.data)},eE=function(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,r=this.comObj,a=this,o=this.actionHandler[t.action],l={enqueue(c,d=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=d,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:n,targetName:i,stream:Ue.ENQUEUE,streamId:e,chunk:c},h)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:Ue.CLOSE,streamId:e}),delete a.streamSinks[e])},error(c){je(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:Ue.ERROR,streamId:e,reason:Cn(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[e]=l,Promise.try(o,t.data,l).then(function(){r.postMessage({sourceName:n,targetName:i,stream:Ue.START_COMPLETE,streamId:e,success:!0})},function(c){r.postMessage({sourceName:n,targetName:i,stream:Ue.START_COMPLETE,streamId:e,reason:Cn(c)})})},sE=function(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,r=this.comObj,a=this.streamControllers[e],o=this.streamSinks[e];switch(t.stream){case Ue.START_COMPLETE:t.success?a.startCall.resolve():a.startCall.reject(Cn(t.reason));break;case Ue.PULL_COMPLETE:t.success?a.pullCall.resolve():a.pullCall.reject(Cn(t.reason));break;case Ue.PULL:if(!o){r.postMessage({sourceName:n,targetName:i,stream:Ue.PULL_COMPLETE,streamId:e,success:!0});break}o.desiredSize<=0&&t.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=t.desiredSize,Promise.try(o.onPull||I0).then(function(){r.postMessage({sourceName:n,targetName:i,stream:Ue.PULL_COMPLETE,streamId:e,success:!0})},function(c){r.postMessage({sourceName:n,targetName:i,stream:Ue.PULL_COMPLETE,streamId:e,reason:Cn(c)})});break;case Ue.ENQUEUE:if(je(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(t.chunk);break;case Ue.CLOSE:if(je(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),A(this,Yn,Zf).call(this,a,e);break;case Ue.ERROR:je(a,"error should have stream controller"),a.controller.error(Cn(t.reason)),A(this,Yn,Zf).call(this,a,e);break;case Ue.CANCEL_COMPLETE:t.success?a.cancelCall.resolve():a.cancelCall.reject(Cn(t.reason)),A(this,Yn,Zf).call(this,a,e);break;case Ue.CANCEL:if(!o)break;const l=Cn(t.reason);Promise.try(o.onCancel||I0,l).then(function(){r.postMessage({sourceName:n,targetName:i,stream:Ue.CANCEL_COMPLETE,streamId:e,success:!0})},function(c){r.postMessage({sourceName:n,targetName:i,stream:Ue.CANCEL_COMPLETE,streamId:e,reason:Cn(c)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},Zf=async function(t,e){var n,i,r;await Promise.allSettled([(n=t.startCall)==null?void 0:n.promise,(i=t.pullCall)==null?void 0:i.promise,(r=t.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[e]};var No,dh;class hL{constructor({parsedData:t,rawData:e}){S(this,No);S(this,dh);w(this,No,t),w(this,dh,e)}getRaw(){return u(this,dh)}get(t){return u(this,No).get(t)??null}getAll(){return hy(u(this,No))}has(t){return u(this,No).has(t)}}No=new WeakMap,dh=new WeakMap;const jl=Symbol("INTERNAL");var hh,fh,ph,Sc;class fL{constructor(t,{name:e,intent:n,usage:i,rbGroups:r}){S(this,hh,!1);S(this,fh,!1);S(this,ph,!1);S(this,Sc,!0);w(this,hh,!!(t&bn.DISPLAY)),w(this,fh,!!(t&bn.PRINT)),this.name=e,this.intent=n,this.usage=i,this.rbGroups=r}get visible(){if(u(this,ph))return u(this,Sc);if(!u(this,Sc))return!1;const{print:t,view:e}=this.usage;return u(this,hh)?(e==null?void 0:e.viewState)!=="OFF":u(this,fh)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,n=!1){t!==jl&&ge("Internal method `_setVisible` called."),w(this,ph,n),w(this,Sc,e)}}hh=new WeakMap,fh=new WeakMap,ph=new WeakMap,Sc=new WeakMap;var _a,de,Ec,xc,mh,jv;class pL{constructor(t,e=bn.DISPLAY){S(this,mh);S(this,_a,null);S(this,de,new Map);S(this,Ec,null);S(this,xc,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,w(this,xc,t.order);for(const n of t.groups)u(this,de).set(n.id,new fL(e,n));if(t.baseState==="OFF")for(const n of u(this,de).values())n._setVisible(jl,!1);for(const n of t.on)u(this,de).get(n)._setVisible(jl,!0);for(const n of t.off)u(this,de).get(n)._setVisible(jl,!1);w(this,Ec,this.getHash())}}isVisible(t){if(u(this,de).size===0)return!0;if(!t)return Um("Optional content group not defined."),!0;if(t.type==="OCG")return u(this,de).has(t.id)?u(this,de).get(t.id).visible:(qt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return A(this,mh,jv).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!u(this,de).has(e))return qt(`Optional content group not found: ${e}`),!0;if(u(this,de).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!u(this,de).has(e))return qt(`Optional content group not found: ${e}`),!0;if(!u(this,de).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!u(this,de).has(e))return qt(`Optional content group not found: ${e}`),!0;if(!u(this,de).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!u(this,de).has(e))return qt(`Optional content group not found: ${e}`),!0;if(u(this,de).get(e).visible)return!1}return!0}return qt(`Unknown optional content policy ${t.policy}.`),!0}return qt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){var r;const i=u(this,de).get(t);if(!i){qt(`Optional content group not found: ${t}`);return}if(n&&e&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==t&&((r=u(this,de).get(o))==null||r._setVisible(jl,!1,!0));i._setVisible(jl,!!e,!0),w(this,_a,null)}setOCGState({state:t,preserveRB:e}){let n;for(const i of t){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const r=u(this,de).get(i);if(r)switch(n){case"ON":this.setVisibility(i,!0,e);break;case"OFF":this.setVisibility(i,!1,e);break;case"Toggle":this.setVisibility(i,!r.visible,e);break}}w(this,_a,null)}get hasInitialVisibility(){return u(this,Ec)===null||this.getHash()===u(this,Ec)}getOrder(){return u(this,de).size?u(this,xc)?u(this,xc).slice():[...u(this,de).keys()]:null}getGroups(){return u(this,de).size>0?hy(u(this,de)):null}getGroup(t){return u(this,de).get(t)||null}getHash(){if(u(this,_a)!==null)return u(this,_a);const t=new YS;for(const[e,n]of u(this,de))t.update(`${e}:${n.visible}`);return w(this,_a,t.hexdigest())}}_a=new WeakMap,de=new WeakMap,Ec=new WeakMap,xc=new WeakMap,mh=new WeakSet,jv=function(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let i=1;i<e;i++){const r=t[i];let a;if(Array.isArray(r))a=A(this,mh,jv).call(this,r);else if(u(this,de).has(r))a=u(this,de).get(r).visible;else return qt(`Optional content group not found: ${r}`),!0;switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return n==="And"};class mL{constructor(t,{disableRange:e=!1,disableStream:n=!1}){je(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:r,progressiveDone:a,contentDispositionFilename:o}=t;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(r==null?void 0:r.length)>0){const l=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),t.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),t.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(r){return r._begin!==t?!1:(r._enqueue(n),!0)});je(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,n,i,r;t.total===void 0?(n=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||n.call(e,{loaded:t.loaded}):(r=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||r.call(i,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){je(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new gL(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new vL(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class gL{constructor(t,e,n=!1,i=null){this._stream=t,this._done=n||!1,this._filename=my(i)?i:null,this._queuedChunks=e||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class vL{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function bL(s){let t=!0,e=n("filename\\*","i").exec(s);if(e){e=e[1];let d=o(e);return d=unescape(d),d=l(d),d=c(d),r(d)}if(e=a(s),e){const d=c(e);return r(d)}if(e=n("filename","i").exec(s),e){e=e[1];let d=o(e);return d=c(d),r(d)}function n(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(d,{fatal:!0}),p=Ym(h);h=f.decode(p),t=!1}catch{}}return h}function r(d){return t&&/[\x80-\xff]/.test(d)&&(d=i("utf-8",d),t&&(d=i("iso-8859-1",d))),d}function a(d){const h=[];let f;const p=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(d))!==null;){let[,v,b,y]=f;if(v=parseInt(v,10),v in h){if(v===0)break;continue}h[v]=[b,y]}const m=[];for(let v=0;v<h.length&&v in h;++v){let[b,y]=h[v];y=o(y),b&&(y=unescape(y),v===0&&(y=l(y))),m.push(y)}return m.join("")}function o(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let f=0;f<h.length;++f){const p=h[f].indexOf('"');p!==-1&&(h[f]=h[f].slice(0,p),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const f=d.slice(0,h),m=d.slice(h+1).replace(/^[^']*'/,"");return i(f,m)}function c(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,p,m){if(p==="q"||p==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,b){return String.fromCharCode(parseInt(b,16))}),i(f,m);try{m=atob(m)}catch{}return i(f,m)})}return""}function nE(s,t){const e=new Headers;if(!s||!t||typeof t!="object")return e;for(const n in t){const i=t[n];i!==void 0&&e.append(n,i)}return e}function qm(s){try{return new URL(s).origin}catch{}return null}function iE({responseHeaders:s,isHttp:t,rangeChunkSize:e,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(s.get("Content-Length"),10);return!Number.isInteger(r)||(i.suggestedLength=r,r<=2*e)||n||!t||s.get("Accept-Ranges")!=="bytes"||(s.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function rE(s){const t=s.get("Content-Disposition");if(t){let e=bL(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(my(e))return e}return null}function zm(s,t){return s===404||s===0&&t.startsWith("file:")?new pf('Missing PDF "'+t+'".'):new jm(`Unexpected server response (${s}) while retrieving PDF "${t}".`,s)}function aE(s){return s===200||s===206}function oE(s,t,e){return{method:"GET",headers:s,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function lE(s){return s instanceof Uint8Array?s.buffer:s instanceof ArrayBuffer?s:(qt(`getArrayBuffer - unexpected data format: ${s}`),new Uint8Array(s).buffer)}class $0{constructor(t){kt(this,"_responseOrigin",null);this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=nE(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return je(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new yL(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new wL(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class yL{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),i=e.url;fetch(i,oE(n,this._withCredentials,this._abortController)).then(r=>{if(t._responseOrigin=qm(r.url),!aE(r.status))throw zm(r.status,i);this._reader=r.body.getReader(),this._headersCapability.resolve();const a=r.headers,{allowRangeRequests:o,suggestedLength:l}=iE({responseHeaders:a,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=rE(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Dl("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:lE(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class wL{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const i=t.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const r=new Headers(t.headers);r.append("Range",`bytes=${e}-${n-1}`);const a=i.url;fetch(a,oE(r,this._withCredentials,this._abortController)).then(o=>{const l=qm(o.url);if(l!==t._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${t._responseOrigin}".`);if(!aE(o.status))throw zm(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:lE(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const Rg=200,Og=206;function _L(s){const t=s.response;return typeof t!="string"?t:Ym(t).buffer}class AL{constructor({url:t,httpHeaders:e,withCredentials:n}){kt(this,"_responseOrigin",null);this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=nE(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,n){const i={begin:t,end:e};for(const r in n)i[r]=n[r];return this.request(i)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[r,a]of this.headers)e.setRequestHeader(r,a);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),i.expectedStatus=Og):i.expectedStatus=Rg,e.responseType="arraybuffer",t.onError&&(e.onerror=function(r){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=t.onHeadersReceived,i.onDone=t.onDone,i.onError=t.onError,i.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){var i;const n=this.pendingRequests[t];n&&((i=n.onProgress)==null||i.call(n,e))}onStateChange(t,e){var l,c,d;const n=this.pendingRequests[t];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],i.status===0&&this.isHttp){(l=n.onError)==null||l.call(n,i.status);return}const r=i.status||Rg;if(!(r===Rg&&n.expectedStatus===Og)&&r!==n.expectedStatus){(c=n.onError)==null||c.call(n,i.status);return}const o=_L(i);if(r===Og){const h=i.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);n.onDone({begin:parseInt(f[1],10),chunk:o})}else o?n.onDone({begin:0,chunk:o}):(d=n.onError)==null||d.call(n,i.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class SL{constructor(t){this._source=t,this._manager=new AL(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return je(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new EL(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new xL(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class EL{constructor(t,e){this._manager=t;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=qm(e.responseURL);const n=e.getAllResponseHeaders(),i=new Headers(n?n.trim().split(/[\r\n]+/).map(o=>{const[l,...c]=o.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:r,suggestedLength:a}=iE({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=rE(i),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=zm(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class xL{constructor(t,e,n){this._manager=t;const i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=qm((e=this._manager.getRequestXhr(this._requestId))==null?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??(this._storedError=zm(t,this._url));for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const CL=/^[a-z][a-z0-9\-+.]+:/i;function TL(s){if(CL.test(s))return new URL(s);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(s))}class DL{constructor(t){this.source=t,this.url=TL(t.url),je(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return je(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new kL(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new PL(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class kL{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new pf(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Dl("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class PL{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=t.source;this._isStreamingSupported=!i.disableStream;const r=process.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const ML=1e5,Gs=30,RL=.8;var u1,Aa,Js,gh,vh,Fo,wr,bh,yh,Bo,Cc,Tc,Sa,Dc,wh,kc,Ho,_h,Ah,Uo,jo,Sh,Ea,Pc,Wr,cE,uE,Yv,An,tp,Vv,dE,hE;const ze=class ze{constructor({textContentSource:t,container:e,viewport:n}){S(this,Wr);S(this,Aa,Promise.withResolvers());S(this,Js,null);S(this,gh,!1);S(this,vh,!!((u1=globalThis.FontInspector)!=null&&u1.enabled));S(this,Fo,null);S(this,wr,null);S(this,bh,0);S(this,yh,0);S(this,Bo,null);S(this,Cc,null);S(this,Tc,0);S(this,Sa,0);S(this,Dc,Object.create(null));S(this,wh,[]);S(this,kc,null);S(this,Ho,[]);S(this,_h,new WeakMap);S(this,Ah,null);var l;if(t instanceof ReadableStream)w(this,kc,t);else if(typeof t=="object")w(this,kc,new ReadableStream({start(c){c.enqueue(t),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');w(this,Js,w(this,Cc,e)),w(this,Sa,n.scale*(globalThis.devicePixelRatio||1)),w(this,Tc,n.rotation),w(this,wr,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:r,pageX:a,pageY:o}=n.rawDims;w(this,Ah,[1,0,0,-1,-a,o+r]),w(this,yh,i),w(this,bh,r),A(l=ze,An,dE).call(l),wl(e,n),u(this,Aa).promise.finally(()=>{u(ze,Pc).delete(this),w(this,wr,null),w(this,Dc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Ys.platform;return Gt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{u(this,Bo).read().then(({value:e,done:n})=>{if(n){u(this,Aa).resolve();return}u(this,Fo)??w(this,Fo,e.lang),Object.assign(u(this,Dc),e.styles),A(this,Wr,cE).call(this,e.items),t()},u(this,Aa).reject)};return w(this,Bo,u(this,kc).getReader()),u(ze,Pc).add(this),t(),u(this,Aa).promise}update({viewport:t,onBefore:e=null}){var r;const n=t.scale*(globalThis.devicePixelRatio||1),i=t.rotation;if(i!==u(this,Tc)&&(e==null||e(),w(this,Tc,i),wl(u(this,Cc),{rotation:i})),n!==u(this,Sa)){e==null||e(),w(this,Sa,n);const a={div:null,properties:null,ctx:A(r=ze,An,tp).call(r,u(this,Fo))};for(const o of u(this,Ho))a.properties=u(this,_h).get(o),a.div=o,A(this,Wr,Yv).call(this,a)}}cancel(){var e;const t=new Dl("TextLayer task cancelled.");(e=u(this,Bo))==null||e.cancel(t).catch(()=>{}),w(this,Bo,null),u(this,Aa).reject(t)}get textDivs(){return u(this,Ho)}get textContentItemsStr(){return u(this,wh)}static cleanup(){if(!(u(this,Pc).size>0)){u(this,Uo).clear();for(const{canvas:t}of u(this,jo).values())t.remove();u(this,jo).clear()}}};Aa=new WeakMap,Js=new WeakMap,gh=new WeakMap,vh=new WeakMap,Fo=new WeakMap,wr=new WeakMap,bh=new WeakMap,yh=new WeakMap,Bo=new WeakMap,Cc=new WeakMap,Tc=new WeakMap,Sa=new WeakMap,Dc=new WeakMap,wh=new WeakMap,kc=new WeakMap,Ho=new WeakMap,_h=new WeakMap,Ah=new WeakMap,Uo=new WeakMap,jo=new WeakMap,Sh=new WeakMap,Ea=new WeakMap,Pc=new WeakMap,Wr=new WeakSet,cE=function(t){var i,r;if(u(this,gh))return;(r=u(this,wr)).ctx??(r.ctx=A(i=ze,An,tp).call(i,u(this,Fo)));const e=u(this,Ho),n=u(this,wh);for(const a of t){if(e.length>ML){qt("Ignoring additional textDivs for performance reasons."),w(this,gh,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=u(this,Js);w(this,Js,document.createElement("span")),u(this,Js).classList.add("markedContent"),a.id!==null&&u(this,Js).setAttribute("id",`${a.id}`),o.append(u(this,Js))}else a.type==="endMarkedContent"&&w(this,Js,u(this,Js).parentNode);continue}n.push(a.str),A(this,Wr,uE).call(this,a)}},uE=function(t){var v;const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};u(this,Ho).push(e);const i=xt.transform(u(this,Ah),t.transform);let r=Math.atan2(i[1],i[0]);const a=u(this,Dc)[t.fontName];a.vertical&&(r+=Math.PI/2);let o=u(this,vh)&&a.fontSubstitution||a.fontFamily;o=ze.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),c=l*A(v=ze,An,hE).call(v,o,u(this,Fo));let d,h;r===0?(d=i[4],h=i[5]-c):(d=i[4]+c*Math.sin(r),h=i[5]-c*Math.cos(r));const f="calc(var(--scale-factor)*",p=e.style;u(this,Js)===u(this,Cc)?(p.left=`${(100*d/u(this,yh)).toFixed(2)}%`,p.top=`${(100*h/u(this,bh)).toFixed(2)}%`):(p.left=`${f}${d.toFixed(2)}px)`,p.top=`${f}${h.toFixed(2)}px)`),p.fontSize=`${f}${(u(ze,Ea)*l).toFixed(2)}px)`,p.fontFamily=o,n.fontSize=l,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,u(this,vh)&&(e.dataset.fontName=a.fontSubstitutionLoadedName||t.fontName),r!==0&&(n.angle=r*(180/Math.PI));let m=!1;if(t.str.length>1)m=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const b=Math.abs(t.transform[0]),y=Math.abs(t.transform[3]);b!==y&&Math.max(b,y)/Math.min(b,y)>1.5&&(m=!0)}if(m&&(n.canvasWidth=a.vertical?t.height:t.width),u(this,_h).set(e,n),u(this,wr).div=e,u(this,wr).properties=n,A(this,Wr,Yv).call(this,u(this,wr)),n.hasText&&u(this,Js).append(e),n.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),u(this,Js).append(b)}},Yv=function(t){var o;const{div:e,properties:n,ctx:i}=t,{style:r}=e;let a="";if(u(ze,Ea)>1&&(a=`scale(${1/u(ze,Ea)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:l}=r,{canvasWidth:c,fontSize:d}=n;A(o=ze,An,Vv).call(o,i,d*u(this,Sa),l);const{width:h}=i.measureText(e.textContent);h>0&&(a=`scaleX(${c*u(this,Sa)/h}) ${a}`)}n.angle!==0&&(a=`rotate(${n.angle}deg) ${a}`),a.length>0&&(r.transform=a)},An=new WeakSet,tp=function(t=null){let e=u(this,jo).get(t||(t=""));if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),u(this,jo).set(t,e),u(this,Sh).set(e,{size:0,family:""})}return e},Vv=function(t,e,n){const i=u(this,Sh).get(t);e===i.size&&n===i.family||(t.font=`${e}px ${n}`,i.size=e,i.family=n)},dE=function(){if(u(this,Ea)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),w(this,Ea,t.getBoundingClientRect().height),t.remove()},hE=function(t,e){const n=u(this,Uo).get(t);if(n)return n;const i=A(this,An,tp).call(this,e);i.canvas.width=i.canvas.height=Gs,A(this,An,Vv).call(this,i,Gs,t);const r=i.measureText("");let a=r.fontBoundingBoxAscent,o=Math.abs(r.fontBoundingBoxDescent);if(a){const d=a/(a+o);return u(this,Uo).set(t,d),i.canvas.width=i.canvas.height=0,d}i.strokeStyle="red",i.clearRect(0,0,Gs,Gs),i.strokeText("g",0,0);let l=i.getImageData(0,0,Gs,Gs).data;o=0;for(let d=l.length-1-3;d>=0;d-=4)if(l[d]>0){o=Math.ceil(d/4/Gs);break}i.clearRect(0,0,Gs,Gs),i.strokeText("A",0,Gs),l=i.getImageData(0,0,Gs,Gs).data,a=0;for(let d=0,h=l.length;d<h;d+=4)if(l[d]>0){a=Gs-Math.floor(d/4/Gs);break}i.canvas.width=i.canvas.height=0;const c=a?a/(a+o):RL;return u(this,Uo).set(t,c),c},S(ze,An),S(ze,Uo,new Map),S(ze,jo,new Map),S(ze,Sh,new WeakMap),S(ze,Ea,null),S(ze,Pc,new Set);let $d=ze;class Ld{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function i(r){var l;if(!r)return;let a=null;const o=r.name;if(o==="#text")a=r.value;else if(Ld.shouldBuildText(o))(l=r==null?void 0:r.attributes)!=null&&l.textContent?a=r.attributes.textContent:r.value&&(a=r.value);else return;if(a!==null&&e.push({str:a}),!!r.children)for(const c of r.children)i(c)}return i(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const OL=65536,IL=100,$L=5e3,LL=Us?X2:z2,NL=Us?J2:GS,FL=Us?K2:G2,BL=Us?Q2:QS;function HL(s={}){typeof s=="string"||s instanceof URL?s={url:s}:(s instanceof ArrayBuffer||ArrayBuffer.isView(s))&&(s={data:s});const t=new Wv,{docId:e}=t,n=s.url?UL(s.url):null,i=s.data?jL(s.data):null,r=s.httpHeaders||null,a=s.withCredentials===!0,o=s.password??null,l=s.range instanceof fE?s.range:null,c=Number.isInteger(s.rangeChunkSize)&&s.rangeChunkSize>0?s.rangeChunkSize:OL;let d=s.worker instanceof nc?s.worker:null;const h=s.verbosity,f=typeof s.docBaseUrl=="string"&&!Wm(s.docBaseUrl)?s.docBaseUrl:null,p=typeof s.cMapUrl=="string"?s.cMapUrl:null,m=s.cMapPacked!==!1,v=s.CMapReaderFactory||NL,b=typeof s.standardFontDataUrl=="string"?s.standardFontDataUrl:null,y=s.StandardFontDataFactory||BL,E=s.stopAtErrors!==!0,C=Number.isInteger(s.maxImageSize)&&s.maxImageSize>-1?s.maxImageSize:-1,x=s.isEvalSupported!==!1,D=typeof s.isOffscreenCanvasSupported=="boolean"?s.isOffscreenCanvasSupported:!Us,M=typeof s.isImageDecoderSupported=="boolean"?s.isImageDecoderSupported:!Us&&(Ys.platform.isFirefox||!globalThis.chrome),P=Number.isInteger(s.canvasMaxAreaInBytes)?s.canvasMaxAreaInBytes:-1,H=typeof s.disableFontFace=="boolean"?s.disableFontFace:Us,F=s.fontExtraProperties===!0,Z=s.enableXfa===!0,Y=s.ownerDocument||globalThis.document,L=s.disableRange===!0,K=s.disableStream===!0,lt=s.disableAutoFetch===!0,dt=s.pdfBug===!0,ut=s.CanvasFactory||LL,X=s.FilterFactory||FL,nt=s.enableHWA===!0,pt=l?l.length:s.length??NaN,W=typeof s.useSystemFonts=="boolean"?s.useSystemFonts:!Us&&!H,At=typeof s.useWorkerFetch=="boolean"?s.useWorkerFetch:v===GS&&y===QS&&p&&b&&Gu(p,document.baseURI)&&Gu(b,document.baseURI);s.canvasFactory&&A0("`canvasFactory`-instance option, please use `CanvasFactory` instead."),s.filterFactory&&A0("`filterFactory`-instance option, please use `FilterFactory` instead.");const ct=null;x2(h);const Mt={canvasFactory:new ut({ownerDocument:Y,enableHWA:nt}),filterFactory:new X({docId:e,ownerDocument:Y}),cMapReaderFactory:At?null:new v({baseUrl:p,isCompressed:m}),standardFontDataFactory:At?null:new y({baseUrl:b})};if(!d){const Rt={verbosity:h,port:Fr.workerPort};d=Rt.port?nc.fromPort(Rt):new nc(Rt),t._worker=d}const It={docId:e,apiVersion:"4.9.155",data:i,password:o,disableAutoFetch:lt,rangeChunkSize:c,length:pt,docBaseUrl:f,enableXfa:Z,evaluatorOptions:{maxImageSize:C,disableFontFace:H,ignoreErrors:E,isEvalSupported:x,isOffscreenCanvasSupported:D,isImageDecoderSupported:M,canvasMaxAreaInBytes:P,fontExtraProperties:F,useSystemFonts:W,cMapUrl:At?p:null,standardFontDataUrl:At?b:null}},Qt={disableFontFace:H,fontExtraProperties:F,ownerDocument:Y,pdfBug:dt,styleElement:ct,loadingParams:{disableAutoFetch:lt,enableXfa:Z}};return d.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Rt=d.messageHandler.sendWithPromise("GetDocRequest",It,i?[i.buffer]:null);let N;if(l)N=new mL(l,{disableRange:L,disableStream:K});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");let rt;if(Us)if(Gu(n)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");rt=$0}else rt=DL;else rt=Gu(n)?$0:SL;N=new rt({url:n,length:pt,httpHeaders:r,withCredentials:a,rangeChunkSize:c,disableRange:L,disableStream:K})}return Rt.then(rt=>{if(t.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const ot=new sd(e,rt,d.port),gt=new qL(ot,t,N,Qt,Mt);t._transport=gt,ot.send("Ready",null)})}).catch(t._capability.reject),t}function UL(s){if(s instanceof URL)return s.href;try{return new URL(s,window.location).href}catch{if(Us&&typeof s=="string")return s}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function jL(s){if(Us&&typeof Buffer<"u"&&s instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength)return s;if(typeof s=="string")return Ym(s);if(s instanceof ArrayBuffer||ArrayBuffer.isView(s)||typeof s=="object"&&!isNaN(s==null?void 0:s.length))return new Uint8Array(s);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function L0(s){return typeof s=="object"&&Number.isInteger(s==null?void 0:s.num)&&s.num>=0&&Number.isInteger(s==null?void 0:s.gen)&&s.gen>=0}var cm;const um=class um{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Rs(um,cm)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,n,i;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,r}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}};cm=new WeakMap,S(um,cm,0);let Wv=um;class fE{constructor(t,e,n=!1,i=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const n of this._rangeListeners)n(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){ge("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class YL{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Gt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var xa,_r,Ln,Yl,ep;class VL{constructor(t,e,n,i=!1){S(this,Ln);S(this,xa,null);S(this,_r,!1);this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=i?new _0:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new pE,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:r=!1}={}){return new mf({viewBox:this.view,scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:r})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Gt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:n="display",annotationMode:i=aa.ENABLE,transform:r=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:d=null,isEditing:h=!1}){var x,D;(x=this._stats)==null||x.time("Overall");const f=this._transport.getRenderingIntent(n,i,d,h),{renderingIntent:p,cacheKey:m}=f;w(this,_r,!1),A(this,Ln,ep).call(this),o||(o=this._transport.getOptionalContentConfig(p));let v=this._intentStates.get(m);v||(v=Object.create(null),this._intentStates.set(m,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const b=!!(p&bn.PRINT);v.displayReadyCapability||(v.displayReadyCapability=Promise.withResolvers(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(D=this._stats)==null||D.time("Page Request"),this._pumpOperatorList(f));const y=M=>{var P;v.renderTasks.delete(E),(this._maybeCleanupAfterRender||b)&&w(this,_r,!0),A(this,Ln,Yl).call(this,!b),M?(E.capability.reject(M),this._abortOperatorList({intentState:v,reason:M instanceof Error?M:new Error(M)})):E.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(P=globalThis.Stats)!=null&&P.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},E=new zv({callback:y,params:{canvasContext:t,viewport:e,transform:r,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!b,pdfBug:this._pdfBug,pageColors:c});(v.renderTasks||(v.renderTasks=new Set)).add(E);const C=E.task;return Promise.all([v.displayReadyCapability.promise,o]).then(([M,P])=>{var H;if(this.destroyed){y();return}if((H=this._stats)==null||H.time("Rendering"),!(P.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");E.initializeGraphics({transparency:M,optionalContentConfig:P}),E.operatorListChanged()}).catch(y),C}getOperatorList({intent:t="display",annotationMode:e=aa.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){var c;function r(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(t,e,n,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=r,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Ld.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,i){function r(){a.read().then(function({value:l,done:c}){if(c){n(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),r()},i)}const a=e.getReader(),o={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),w(this,_r,!1),A(this,Ln,ep).call(this),Promise.all(t)}cleanup(t=!1){w(this,_r,!0);const e=A(this,Ln,Yl).call(this,!1);return t&&e&&this._stats&&(this._stats=new _0),e}_startRenderPage(t,e){var i,r;const n=this._intentStates.get(e);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(r=n.displayReadyCapability)==null||r.resolve(t))}_renderPageChunk(t,e){for(let n=0,i=t.length;n<i;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&A(this,Ln,Yl).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:i}){const{map:r,transfer:a}=n,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:r,modifiedIds:i},a).getReader(),c=this._intentStates.get(e);c.streamReader=l;const d=()=>{l.read().then(({value:h,done:f})=>{if(f){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,c),d())},h=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const f of c.renderTasks)f.operatorListChanged();A(this,Ln,Yl).call(this,!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(h);else if(c.opListReadCapability)c.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof py){let i=IL;e.extraDelay>0&&e.extraDelay<1e3&&(i+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},i);return}}if(t.streamReader.cancel(new Dl(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[i,r]of this._intentStates)if(r===t){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}xa=new WeakMap,_r=new WeakMap,Ln=new WeakSet,Yl=function(t=!1){if(A(this,Ln,ep).call(this),!u(this,_r)||this.destroyed)return!1;if(t)return w(this,xa,setTimeout(()=>{w(this,xa,null),A(this,Ln,Yl).call(this,!1)},$L)),!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),w(this,_r,!1),!0},ep=function(){u(this,xa)&&(clearTimeout(u(this,xa)),w(this,xa,null))};var Ar,dm;class WL{constructor(){S(this,Ar,new Map);S(this,dm,Promise.resolve())}postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};u(this,dm).then(()=>{for(const[i]of u(this,Ar))i.call(this,n)})}addEventListener(t,e,n=null){let i=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:r}=n;if(r.aborted){qt("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(t,e);i=()=>r.removeEventListener("abort",a),r.addEventListener("abort",a)}u(this,Ar).set(e,i)}removeEventListener(t,e){const n=u(this,Ar).get(e);n==null||n(),u(this,Ar).delete(e)}terminate(){for(const[,t]of u(this,Ar))t==null||t();u(this,Ar).clear()}}Ar=new WeakMap,dm=new WeakMap;var hm,Yo,Vo,Mc,sp,Rc,np;const Ee=class Ee{constructor({name:t=null,port:e=null,verbosity:n=C2()}={}){S(this,Mc);var i;if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((i=u(Ee,Vo))!=null&&i.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(u(Ee,Vo)||w(Ee,Vo,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new sd("main","worker",t),this._messageHandler.on("ready",function(){}),A(this,Mc,sp).call(this)}_initialize(){if(u(Ee,Yo)||u(Ee,Rc,np)){this._setupFakeWorker();return}let{workerSrc:t}=Ee;try{Ee._isSameOrigin(window.location.href,t)||(t=Ee._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new sd("main","worker",e),i=()=>{r.abort(),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=new AbortController;e.addEventListener("error",()=>{this._webWorker||i()},{signal:r.signal}),n.on("test",o=>{if(r.abort(),this.destroyed||!o){i();return}this._messageHandler=n,this._port=e,this._webWorker=e,A(this,Mc,sp).call(this)}),n.on("ready",o=>{if(r.abort(),this.destroyed){i();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};a();return}catch{Um("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){u(Ee,Yo)||(qt("Setting up fake worker."),w(Ee,Yo,!0)),Ee._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new WL;this._port=e;const n=`fake${Rs(Ee,hm)._++}`,i=new sd(n+"_worker",n,e);t.setup(i,e),this._messageHandler=new sd(n,n+"_worker",e),A(this,Mc,sp).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t,e,n;this.destroyed=!0,(t=this._webWorker)==null||t.terminate(),this._webWorker=null,(e=u(Ee,Vo))==null||e.delete(this._port),this._port=null,(n=this._messageHandler)==null||n.destroy(),this._messageHandler=null}static fromPort(t){var n;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(n=u(this,Vo))==null?void 0:n.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Ee(t)}static get workerSrc(){if(Fr.workerSrc)return Fr.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Gt(this,"_setupFakeWorkerGlobal",(async()=>u(this,Rc,np)?u(this,Rc,np):(await import(this.workerSrc)).WorkerMessageHandler)())}};hm=new WeakMap,Yo=new WeakMap,Vo=new WeakMap,Mc=new WeakSet,sp=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Rc=new WeakSet,np=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},S(Ee,Rc),S(Ee,hm,0),S(Ee,Yo,!1),S(Ee,Vo),Us&&(w(Ee,Yo,!0),Fr.workerSrc||(Fr.workerSrc="./pdf.worker.mjs")),Ee._isSameOrigin=(t,e)=>{let n;try{if(n=new URL(t),!n.origin||n.origin==="null")return!1}catch{return!1}const i=new URL(e,n);return n.origin===i.origin},Ee._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};let nc=Ee;var Sr,Li,Oc,Ic,Ni,Wo,nd;class qL{constructor(t,e,n,i,r){S(this,Wo);S(this,Sr,new Map);S(this,Li,new Map);S(this,Oc,new Map);S(this,Ic,new Map);S(this,Ni,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new pE,this.fontLoader=new W2({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Gt(this,"annotationStorage",new by)}getRenderingIntent(t,e=aa.ENABLE,n=null,i=!1,r=!1){let a=bn.DISPLAY,o=$v;switch(t){case"any":a=bn.ANY;break;case"display":break;case"print":a=bn.PRINT;break;default:qt(`getRenderingIntent - invalid intent: ${t}`)}const l=a&bn.PRINT&&n instanceof WS?n:this.annotationStorage;switch(e){case aa.DISABLE:a+=bn.ANNOTATIONS_DISABLE;break;case aa.ENABLE:break;case aa.ENABLE_FORMS:a+=bn.ANNOTATIONS_FORMS;break;case aa.ENABLE_STORAGE:a+=bn.ANNOTATIONS_STORAGE,o=l.serializable;break;default:qt(`getRenderingIntent - invalid annotationMode: ${e}`)}i&&(a+=bn.IS_EDITING),r&&(a+=bn.OPLIST);const{ids:c,hash:d}=l.modifiedIds,h=[a,o.hash,d];return{renderingIntent:a,cacheKey:h.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=u(this,Ni))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of u(this,Li).values())t.push(i._destroy());u(this,Li).clear(),u(this,Oc).clear(),u(this,Ic).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var i,r;this.commonObjs.clear(),this.fontLoader.clear(),u(this,Sr).clear(),this.filterFactory.destroy(),$d.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Dl("Worker was terminated.")),(r=this.messageHandler)==null||r.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,i)=>{je(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},i.onPull=()=>{this._fullReader.read().then(function({value:r,done:a}){if(a){i.close();return}je(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{i.error(r)})},i.onCancel=r=>{this._fullReader.cancel(r),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),t.on("ReaderHeadersReady",async n=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:r,contentLength:a}=this._fullReader;return(!i||!r)&&(this._lastProgress&&((o=e.onProgress)==null||o.call(e,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=e.onProgress)==null||c.call(e,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:r,contentLength:a}}),t.on("GetRangeReader",(n,i)=>{je(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(n.begin,n.end);if(!r){i.close();return}i.onPull=()=>{r.read().then(function({value:a,done:o}){if(o){i.close();return}je(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{r.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new YL(n,this))}),t.on("DocException",function(n){let i;switch(n.name){case"PasswordException":i=new hv(n.message,n.code);break;case"InvalidPDFException":i=new vS(n.message);break;case"MissingPDFException":i=new pf(n.message);break;case"UnexpectedResponseException":i=new jm(n.message,n.status);break;case"UnknownErrorException":i=new fv(n.message,n.details);break;default:ge("DocException - expected a valid Error.")}e._capability.reject(i)}),t.on("PasswordRequest",n=>{if(w(this,Ni,Promise.withResolvers()),e.onPassword){const i=r=>{r instanceof Error?u(this,Ni).reject(r):u(this,Ni).resolve({password:r})};try{e.onPassword(i,n.code)}catch(r){u(this,Ni).reject(r)}}else u(this,Ni).reject(new hv(n.message,n.code));return u(this,Ni).promise}),t.on("DataLoaded",n=>{var i;(i=e.onProgress)==null||i.call(e,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;u(this,Li).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,i,r])=>{var a;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":const{disableFontFace:o,fontExtraProperties:l,pdfBug:c}=this._params;if("error"in r){const p=r.error;qt(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}const d=c&&((a=globalThis.FontInspector)!=null&&a.enabled)?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,h=new q2(r,{disableFontFace:o,inspectFont:d});this.fontLoader.bind(h).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!l&&h.data&&(h.data=null),this.commonObjs.resolve(n,h)});break;case"CopyLocalImage":const{imageRef:f}=r;je(f,"The imageRef must be defined.");for(const p of u(this,Li).values())for(const[,m]of p.objs)if((m==null?void 0:m.ref)===f)return m.dataLen?(this.commonObjs.resolve(n,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,r);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),t.on("obj",([n,i,r,a])=>{var l;if(this.destroyed)return;const o=u(this,Li).get(i);if(!o.objs.has(n)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(r){case"Image":o.objs.resolve(n,a),(a==null?void 0:a.dataLen)>_2&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(n,a);break;default:throw new Error(`Got unknown object type ${r}`)}}}),t.on("DocProgress",n=>{var i;this.destroyed||(i=e.onProgress)==null||i.call(e,{loaded:n.loaded,total:n.total})}),t.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),t.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&qt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((n=this._fullReader)==null?void 0:n.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=u(this,Oc).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&u(this,Ic).set(r.refStr,t);const a=new VL(e,r,this,this._params.pdfBug);return u(this,Li).set(e,a),a});return u(this,Oc).set(e,i),i}getPageIndex(t){return L0(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return A(this,Wo,nd).call(this,"GetFieldObjects")}hasJSActions(){return A(this,Wo,nd).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return A(this,Wo,nd).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return A(this,Wo,nd).call(this,"GetOptionalContentConfig").then(e=>new pL(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=u(this,Sr).get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(i=>{var r,a;return{info:i[0],metadata:i[1]?new hL(i[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return u(this,Sr).set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of u(this,Li).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),u(this,Sr).clear(),this.filterFactory.destroy(!0),$d.cleanup()}}cachedPageNumber(t){if(!L0(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return u(this,Ic).get(e)??null}}Sr=new WeakMap,Li=new WeakMap,Oc=new WeakMap,Ic=new WeakMap,Ni=new WeakMap,Wo=new WeakSet,nd=function(t,e=null){const n=u(this,Sr).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise(t,e);return u(this,Sr).set(t,i),i};const Pf=Symbol("INITIAL_DATA");var Zn,Eh,qv;class pE{constructor(){S(this,Eh);S(this,Zn,Object.create(null))}get(t,e=null){if(e){const i=A(this,Eh,qv).call(this,t);return i.promise.then(()=>e(i.data)),null}const n=u(this,Zn)[t];if(!n||n.data===Pf)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=u(this,Zn)[t];return!!e&&e.data!==Pf}resolve(t,e=null){const n=A(this,Eh,qv).call(this,t);n.data=e,n.resolve()}clear(){var t;for(const e in u(this,Zn)){const{data:n}=u(this,Zn)[e];(t=n==null?void 0:n.bitmap)==null||t.close()}w(this,Zn,Object.create(null))}*[Symbol.iterator](){for(const t in u(this,Zn)){const{data:e}=u(this,Zn)[t];e!==Pf&&(yield[t,e])}}}Zn=new WeakMap,Eh=new WeakSet,qv=function(t){var e;return(e=u(this,Zn))[t]||(e[t]={...Promise.withResolvers(),data:Pf})};var Ca;class zL{constructor(t){S(this,Ca,null);w(this,Ca,t),this.onContinue=null}get promise(){return u(this,Ca).capability.promise}cancel(t=0){u(this,Ca).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=u(this,Ca).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=u(this,Ca);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}Ca=new WeakMap;var Ta,qo;const po=class po{constructor({callback:t,params:e,objs:n,commonObjs:i,annotationCanvasMap:r,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:f=null}){S(this,Ta,null);this.callback=t,this.params=e,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new zL(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var o,l;if(this.cancelled)return;if(this._canvas){if(u(po,qo).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u(po,qo).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:i,transform:r,background:a}=this.params;this.gfx=new sc(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:r,viewport:i,transparency:t,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(t=null,e=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),u(this,Ta)&&(window.cancelAnimationFrame(u(this,Ta)),w(this,Ta,null)),u(po,qo).delete(this._canvas),this.callback(t||new py(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?w(this,Ta,window.requestAnimationFrame(()=>{w(this,Ta,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u(po,qo).delete(this._canvas),this.callback())))}};Ta=new WeakMap,qo=new WeakMap,S(po,qo,new WeakSet);let zv=po;const GL="4.9.155",KL="a4eb8407c";function N0(s){return Math.floor(Math.max(0,Math.min(1,s))*255).toString(16).padStart(2,"0")}function Hu(s){return Math.max(0,Math.min(255,255*s))}class F0{static CMYK_G([t,e,n,i]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+i)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Hu(t),[t,t,t]}static G_HTML([t]){const e=N0(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(Hu)}static RGB_HTML(t){return`#${t.map(N0).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,i]){return["RGB",1-Math.min(1,t+i),1-Math.min(1,n+i),1-Math.min(1,e+i)]}static CMYK_rgb([t,e,n,i]){return[Hu(1-Math.min(1,t+i)),Hu(1-Math.min(1,n+i)),Hu(1-Math.min(1,e+i))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const i=1-t,r=1-e,a=1-n,o=Math.min(i,r,a);return["CMYK",i,r,a,o]}}class XL{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${t}px`),i.setAttribute("height",`${e}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${t} ${e}`),i}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){ge("Abstract method `_createSVG` called.")}}class wy extends XL{_createSVG(t){return document.createElementNS(or,t)}}class mE{static setupStorage(t,e,n,i,r){const a=i.getValue(e,{value:null});switch(n.name){case"textarea":if(a.value!==null&&(t.textContent=a.value),r==="print")break;t.addEventListener("input",o=>{i.setValue(e,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(a.value===n.attributes.xfaOn?t.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&t.removeAttribute("checked"),r==="print")break;t.addEventListener("change",o=>{i.setValue(e,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&t.setAttribute("value",a.value),r==="print")break;t.addEventListener("input",o=>{i.setValue(e,{value:o.target.value})})}break;case"select":if(a.value!==null){t.setAttribute("value",a.value);for(const o of n.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}t.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(e,{value:c})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:i,linkService:r}){const{attributes:a}=e,o=t instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,c]of Object.entries(a))if(c!=null)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&t.setAttribute(l,c)}o&&r.addLinkAttributes(t,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(t,a.dataId,e,n)}static render(t){var h,f;const e=t.annotationStorage,n=t.linkService,i=t.xfaHtml,r=t.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:r,linkService:n});const o=r!=="richText",l=t.div;if(l.append(a),t.viewport){const p=`matrix(${t.viewport.transform.join(",")})`;l.style.transform=p}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);a.append(p),o&&Ld.shouldBuildText(i.name)&&c.push(p)}return{textDivs:c}}const d=[[i,-1,a]];for(;d.length>0;){const[p,m,v]=d.at(-1);if(m+1===p.children.length){d.pop();continue}const b=p.children[++d.at(-1)[1]];if(b===null)continue;const{name:y}=b;if(y==="#text"){const C=document.createTextNode(b.value);c.push(C),v.append(C);continue}const E=(h=b==null?void 0:b.attributes)!=null&&h.xmlns?document.createElementNS(b.attributes.xmlns,y):document.createElement(y);if(v.append(E),b.attributes&&this.setAttributes({html:E,element:b,storage:e,intent:r,linkService:n}),((f=b.children)==null?void 0:f.length)>0)d.push([b,-1,E]);else if(b.value){const C=document.createTextNode(b.value);o&&Ld.shouldBuildText(y)&&c.push(C),E.append(C)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:c}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const vf=1e3,JL=9,Al=new WeakSet;function Fa(s){return{width:s[2]-s[0],height:s[3]-s[1]}}class QL{static create(t){switch(t.data.annotationType){case qe.LINK:return new gE(t);case qe.TEXT:return new ZL(t);case qe.WIDGET:switch(t.data.fieldType){case"Tx":return new tN(t);case"Btn":return t.data.radioButton?new yE(t):t.data.checkBox?new sN(t):new nN(t);case"Ch":return new iN(t);case"Sig":return new eN(t)}return new kl(t);case qe.POPUP:return new Kv(t);case qe.FREETEXT:return new EE(t);case qe.LINE:return new aN(t);case qe.SQUARE:return new oN(t);case qe.CIRCLE:return new lN(t);case qe.POLYLINE:return new xE(t);case qe.CARET:return new uN(t);case qe.INK:return new _y(t);case qe.POLYGON:return new cN(t);case qe.HIGHLIGHT:return new CE(t);case qe.UNDERLINE:return new dN(t);case qe.SQUIGGLY:return new hN(t);case qe.STRIKEOUT:return new fN(t);case qe.STAMP:return new TE(t);case qe.FILEATTACHMENT:return new pN(t);default:return new Be(t)}}}var zo,$c,Lc,xh,Gv;const Zy=class Zy{constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){S(this,xh);S(this,zo,null);S(this,$c,!1);S(this,Lc,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:n}){return!!(t!=null&&t.str||e!=null&&e.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Zy._hasPopupData(this.data)}updateEdited(t){var n;if(!this.container)return;u(this,zo)||w(this,zo,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&A(this,xh,Gv).call(this,e),(n=u(this,Lc))==null||n.popup.updateEdited(t)}resetEdited(){var t;u(this,zo)&&(A(this,xh,Gv).call(this,u(this,zo).rect),(t=u(this,Lc))==null||t.popup.resetEdited(),w(this,zo,null))}_createContainer(t){const{data:e,parent:{page:n,viewport:i}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",e.id),this instanceof kl||(r.tabIndex=vf);const{style:a}=r;if(a.zIndex=this.parent.zIndex++,e.alternativeText&&(r.title=e.alternativeText),e.noRotate&&r.classList.add("norotate"),!e.rect||this instanceof Kv){const{rotation:v}=e;return!e.hasOwnCanvas&&v!==0&&this.setRotation(v,r),r}const{width:o,height:l}=Fa(e.rect);if(!t&&e.borderStyle.width>0){a.borderWidth=`${e.borderStyle.width}px`;const v=e.borderStyle.horizontalCornerRadius,b=e.borderStyle.verticalCornerRadius;if(v>0||b>0){const E=`calc(${v}px * var(--scale-factor)) / calc(${b}px * var(--scale-factor))`;a.borderRadius=E}else if(this instanceof yE){const E=`calc(${o}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;a.borderRadius=E}switch(e.borderStyle.style){case Fu.SOLID:a.borderStyle="solid";break;case Fu.DASHED:a.borderStyle="dashed";break;case Fu.BEVELED:qt("Unimplemented border style: beveled");break;case Fu.INSET:qt("Unimplemented border style: inset");break;case Fu.UNDERLINE:a.borderBottomStyle="solid";break}const y=e.borderColor||null;y?(w(this,$c,!0),a.borderColor=xt.makeHexColor(y[0]|0,y[1]|0,y[2]|0)):a.borderWidth=0}const c=xt.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:d,pageHeight:h,pageX:f,pageY:p}=i.rawDims;a.left=`${100*(c[0]-f)/d}%`,a.top=`${100*(c[1]-p)/h}%`;const{rotation:m}=e;return e.hasOwnCanvas||m===0?(a.width=`${100*o/d}%`,a.height=`${100*l/h}%`):this.setRotation(m,r),r}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims,{width:r,height:a}=Fa(this.data.rect);let o,l;t%180===0?(o=100*r/n,l=100*a/i):(o=100*a/n,l=100*r/i),e.style.width=`${o}%`,e.style.height=`${l}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,i)=>{const r=i.detail[e],a=r[0],o=r.slice(1);i.target.style[n]=F0[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:F0[`${a}_rgb`](o)})};return Gt(this,"_commonActions",{display:e=>{const{display:n}=e.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const i of Object.keys(e.detail)){const r=t[i]||n[i];r==null||r(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[i,r]of Object.entries(e)){const a=n[i];if(a){const o={detail:{[i]:r},target:t};a(o),delete e[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,i,r]=this.data.rect.map(v=>Math.fround(v));if(t.length===8){const[v,b,y,E]=t.subarray(2,6);if(i===v&&r===b&&e===y&&n===E)return}const{style:a}=this.container;let o;if(u(this,$c)){const{borderColor:v,borderWidth:b}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const l=i-e,c=r-n,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);const f=d.createElement("defs");h.append(f);const p=d.createElement("clipPath"),m=`clippath_${this.data.id}`;p.setAttribute("id",m),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let v=2,b=t.length;v<b;v+=8){const y=t[v],E=t[v+1],C=t[v+2],x=t[v+3],D=d.createElement("rect"),M=(C-e)/l,P=(r-E)/c,H=(y-C)/l,F=(E-x)/c;D.setAttribute("x",M),D.setAttribute("y",P),D.setAttribute("width",H),D.setAttribute("height",F),p.append(D),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${M}" y="${P}" width="${H}" height="${F}"/>`)}u(this,$c)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${m})`}_createPopup(){const{data:t}=this,e=w(this,Lc,new Kv({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){ge("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[t];if(i)for(const{page:r,id:a,exportValues:o}of i){if(r===-1||a===e)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${a}"]`);if(c&&!Al.has(c)){qt(`_getElementsByName - element not allowed: ${a}`);continue}n.push({id:a,exportValue:l,domElement:c})}return n}for(const i of document.getElementsByName(t)){const{exportValue:r}=i,a=i.getAttribute("data-element-id");a!==e&&Al.has(i)&&n.push({id:a,exportValue:r,domElement:i})}return n}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};zo=new WeakMap,$c=new WeakMap,Lc=new WeakMap,xh=new WeakSet,Gv=function(t){const{container:{style:e},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:a,pageX:o,pageY:l}}}}=this;n==null||n.splice(0,4,...t);const{width:c,height:d}=Fa(t);e.left=`${100*(t[0]-o)/r}%`,e.top=`${100*(a-t[3]+l)/a}%`,i===0?(e.width=`${100*c/r}%`,e.height=`${100*d/a}%`):this.setRotation(i)};let Be=Zy;var yn,ao,vE,bE;class gE extends Be{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});S(this,yn);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",e.id);let r=!1;return e.url?(n.addLinkAttributes(i,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(i,e.action),r=!0):e.attachment?(A(this,yn,vE).call(this,i,e.attachment,e.attachmentDest),r=!0):e.setOCGState?(A(this,yn,bE).call(this,i,e.setOCGState),r=!0):e.dest?(this._bindLink(i,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,e),r=!0),e.resetForm?(this._bindResetFormAction(i,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(i),this.container}_bindLink(e,n){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&A(this,yn,ao).call(this)}_bindNamedAction(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),A(this,yn,ao).call(this)}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(n.actions)){const a=i.get(r);a&&(e[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:r}}),!1})}e.onclick||(e.onclick=()=>!1),A(this,yn,ao).call(this)}_bindResetFormAction(e,n){const i=e.onclick;if(i||(e.href=this.linkService.getAnchorUrl("")),A(this,yn,ao).call(this),!this._fieldObjects){qt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(e.onclick=()=>!1);return}e.onclick=()=>{var h;i==null||i();const{fields:r,refs:a,include:o}=n,l=[];if(r.length!==0||a.length!==0){const f=new Set(a);for(const p of r){const m=this._fieldObjects[p]||[];for(const{id:v}of m)f.add(v)}for(const p of Object.values(this._fieldObjects))for(const m of p)f.has(m.id)===o&&l.push(m)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const c=this.annotationStorage,d=[];for(const f of l){const{id:p}=f;switch(d.push(p),f.type){case"text":{const v=f.defaultValue||"";c.setValue(p,{value:v});break}case"checkbox":case"radiobutton":{const v=f.defaultValue===f.exportValues;c.setValue(p,{value:v});break}case"combobox":case"listbox":{const v=f.defaultValue||"";c.setValue(p,{value:v});break}default:continue}const m=document.querySelector(`[data-element-id="${p}"]`);if(m){if(!Al.has(m)){qt(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}yn=new WeakSet,ao=function(){this.container.setAttribute("data-internal-link","")},vE=function(e,n,i=null){e.href=this.linkService.getAnchorUrl(""),n.description&&(e.title=n.description),e.onclick=()=>{var r;return(r=this.downloadManager)==null||r.openOrDownloadData(n.content,n.filename,i),!1},A(this,yn,ao).call(this)},bE=function(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),A(this,yn,ao).call(this)};class ZL extends Be{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class kl extends Be{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Ys.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,i,r){n.includes("mouse")?t.addEventListener(n,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):t.addEventListener(n,a=>{var o;if(n==="blur"){if(!e.focused||!a.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}r&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(a)}}))})}_setEventListeners(t,e,n,i){var r,a,o;for(const[l,c]of n)(c==="Action"||(r=this.data.actions)!=null&&r[c])&&((c==="Focus"||c==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,l,c,i),c==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(t,e,"blur","Blur",null):c==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":xt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||JL,r=t.style;let a;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(c/(Dg*i))||1,h=c/d;a=Math.min(i,l(h/Dg))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(c/Dg))}r.fontSize=`calc(${a}px * var(--scale-factor))`,r.color=xt.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(r.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class tN extends kl{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,i){const r=this.annotationStorage;for(const a of this._getElementsByName(t.name,t.id))a.domElement&&(a.domElement[e]=n),r.setValue(a.id,{[i]:n})}render(){var i,r;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const a=t.getValue(e,{value:this.data.fieldValue});let o=a.value||"";const l=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let c=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=c??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",c??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Al.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=vf,this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",f=>{t.setValue(e,{value:f.target.value}),this.setPropertyOnSiblings(n,"value",f.target.value,"value"),d.formattedValue=null}),n.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";n.value=d.userValue=p,d.formattedValue=null});let h=f=>{const{formattedValue:p}=d;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",p=>{var v;if(d.focused)return;const{target:m}=p;d.userValue&&(m.value=d.userValue),d.lastCommittedValue=m.value,d.commitKey=1,(v=this.data.actions)!=null&&v.Focus||(d.focused=!0)}),n.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const m={value(v){d.userValue=v.detail.value??"",t.setValue(e,{value:d.userValue.toString()}),v.target.value=d.userValue},formattedValue(v){const{formattedValue:b}=v.detail;d.formattedValue=b,b!=null&&v.target!==document.activeElement&&(v.target.value=b),t.setValue(e,{formattedValue:b})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{var C;const{charLimit:b}=v.detail,{target:y}=v;if(b===0){y.removeAttribute("maxLength");return}y.setAttribute("maxLength",b);let E=d.userValue;!E||E.length<=b||(E=E.slice(0,b),y.value=d.userValue=E,t.setValue(e,{value:E}),(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,willCommit:!0,commitKey:1,selStart:y.selectionStart,selEnd:y.selectionEnd}}))}};this._dispatchEventFromSandbox(m,p)}),n.addEventListener("keydown",p=>{var b;d.commitKey=1;let m=-1;if(p.key==="Escape"?m=0:p.key==="Enter"&&!this.data.multiLine?m=2:p.key==="Tab"&&(d.commitKey=3),m===-1)return;const{value:v}=p.target;d.lastCommittedValue!==v&&(d.lastCommittedValue=v,d.userValue=v,(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:v,willCommit:!0,commitKey:m,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=h;h=null,n.addEventListener("blur",p=>{var v,b;if(!d.focused||!p.relatedTarget)return;(v=this.data.actions)!=null&&v.Blur||(d.focused=!1);const{value:m}=p.target;d.userValue=m,d.lastCommittedValue!==m&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:m,willCommit:!0,commitKey:d.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(r=this.data.actions)!=null&&r.Keystroke&&n.addEventListener("beforeinput",p=>{var D;d.lastCommittedValue=null;const{data:m,target:v}=p,{value:b,selectionStart:y,selectionEnd:E}=v;let C=y,x=E;switch(p.inputType){case"deleteWordBackward":{const M=b.substring(0,y).match(/\w*[^\w]*$/);M&&(C-=M[0].length);break}case"deleteWordForward":{const M=b.substring(y).match(/^[^\w]*\w*/);M&&(x+=M[0].length);break}case"deleteContentBackward":y===E&&(C-=1);break;case"deleteContentForward":y===E&&(x+=1);break}p.preventDefault(),(D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:b,change:m||"",willCommit:!1,selStart:C,selEnd:x}})}),this._setEventListeners(n,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(h&&n.addEventListener("blur",h),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class eN extends kl{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class sN extends kl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let i=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",t.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return Al.add(r),r.setAttribute("data-element-id",n),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=e.fieldName,i&&r.setAttribute("checked",!0),r.setAttribute("exportValue",e.exportValue),r.tabIndex=vf,r.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,n)){const d=l&&c.exportValue===e.exportValue;c.domElement&&(c.domElement.checked=d),t.setValue(c.id,{value:d})}t.setValue(n,{value:l})}),r.addEventListener("resetform",a=>{const o=e.defaultFieldValue||"Off";a.target.checked=o===e.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",t.setValue(n,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class yE extends kl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let i=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof i=="string"&&(i=i!==e.buttonValue,t.setValue(n,{value:i})),i)for(const a of this._getElementsByName(e.fieldName,n))t.setValue(a.id,{value:!1});const r=document.createElement("input");if(Al.add(r),r.setAttribute("data-element-id",n),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=e.fieldName,i&&r.setAttribute("checked",!0),r.tabIndex=vf,r.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,n))t.setValue(c.id,{value:!1});t.setValue(n,{value:l})}),r.addEventListener("resetform",a=>{const o=e.defaultFieldValue;a.target.checked=o!=null&&o===e.buttonValue}),this.enableScripting&&this.hasJSActions){const a=e.buttonValue;r.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const d=a===c.detail.value;for(const h of this._getElementsByName(c.target.name)){const f=d&&h.id===n;h.domElement&&(h.domElement.checked=f),t.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class nN extends gE{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class iN extends kl{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),i=document.createElement("select");Al.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=vf;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,n.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),r=!1),i.append(h)}let a=null;if(r){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),i.prepend(d),a=()=>{d.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=d=>{const h=d?"value":"textContent",{options:f,multiple:p}=i;return p?Array.prototype.filter.call(f,m=>m.selected).map(m=>m[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let l=o(!1);const c=d=>{const h=d.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",d=>{const h={value(f){a==null||a();const p=f.detail.value,m=new Set(Array.isArray(p)?p:[p]);for(const v of i.options)v.selected=m.has(v.value);t.setValue(e,{value:o(!0)}),l=o(!1)},multipleSelection(f){i.multiple=!0},remove(f){const p=i.options,m=f.detail.remove;p[m].selected=!1,i.remove(m),p.length>0&&Array.prototype.findIndex.call(p,b=>b.selected)===-1&&(p[0].selected=!0),t.setValue(e,{value:o(!0),items:c(f)}),l=o(!1)},clear(f){for(;i.length!==0;)i.remove(0);t.setValue(e,{value:null,items:[]}),l=o(!1)},insert(f){const{index:p,displayValue:m,exportValue:v}=f.detail.insert,b=i.children[p],y=document.createElement("option");y.textContent=m,y.value=v,b?b.before(y):i.append(y),t.setValue(e,{value:o(!0),items:c(f)}),l=o(!1)},items(f){const{items:p}=f.detail;for(;i.length!==0;)i.remove(0);for(const m of p){const{displayValue:v,exportValue:b}=m,y=document.createElement("option");y.textContent=v,y.value=b,i.append(y)}i.options.length>0&&(i.options[0].selected=!0),t.setValue(e,{value:o(!0),items:c(f)}),l=o(!1)},indices(f){const p=new Set(f.detail.indices);for(const m of f.target.options)m.selected=p.has(m.index);t.setValue(e,{value:o(!0)}),l=o(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,d)}),i.addEventListener("input",d=>{var p;const h=o(!0),f=o(!1);t.setValue(e,{value:h}),d.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:l,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):i.addEventListener("input",function(d){t.setValue(e,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Kv extends Be{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:Be._hasPopupData(e)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new rN({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const n of this.elements)n.popup=t,n.container.ariaHasPopup="dialog",e.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(n=>`${fy}${n}`).join(",")),this.container}}var Nc,fm,pm,Fc,Go,Ie,Er,Bc,Ch,Th,Hc,xr,ti,Cr,Dh,Tr,kh,Ko,Xo,ve,ip,Xv,wE,_E,AE,SE,rp,ap,Jv;class rN{constructor({container:t,color:e,elements:n,titleObj:i,modificationDate:r,contentsObj:a,richText:o,parent:l,rect:c,parentRect:d,open:h}){S(this,ve);S(this,Nc,A(this,ve,AE).bind(this));S(this,fm,A(this,ve,Jv).bind(this));S(this,pm,A(this,ve,ap).bind(this));S(this,Fc,A(this,ve,rp).bind(this));S(this,Go,null);S(this,Ie,null);S(this,Er,null);S(this,Bc,null);S(this,Ch,null);S(this,Th,null);S(this,Hc,null);S(this,xr,!1);S(this,ti,null);S(this,Cr,null);S(this,Dh,null);S(this,Tr,null);S(this,kh,null);S(this,Ko,null);S(this,Xo,!1);var f;w(this,Ie,t),w(this,kh,i),w(this,Er,a),w(this,Tr,o),w(this,Th,l),w(this,Go,e),w(this,Dh,c),w(this,Hc,d),w(this,Ch,n),w(this,Bc,gy.toDateObject(r)),this.trigger=n.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",u(this,Fc)),p.addEventListener("mouseenter",u(this,pm)),p.addEventListener("mouseleave",u(this,fm)),p.classList.add("popupTriggerArea");for(const p of n)(f=p.container)==null||f.addEventListener("keydown",u(this,Nc));u(this,Ie).hidden=!0,h&&A(this,ve,rp).call(this)}render(){if(u(this,ti))return;const t=w(this,ti,document.createElement("div"));if(t.className="popup",u(this,Go)){const r=t.style.outlineColor=xt.makeHexColor(...u(this,Go));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`:t.style.backgroundColor=xt.makeHexColor(...u(this,Go).map(o=>Math.floor(.7*(255-o)+o)))}const e=document.createElement("span");e.className="header";const n=document.createElement("h1");if(e.append(n),{dir:n.dir,str:n.textContent}=u(this,kh),t.append(e),u(this,Bc)){const r=document.createElement("span");r.classList.add("popupDate"),r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:u(this,Bc).valueOf()})),e.append(r)}const i=u(this,ve,ip);if(i)mE.render({xfaHtml:i,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(u(this,Er));t.append(r)}u(this,Ie).append(t)}_formatContents({str:t,dir:e}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=e;const i=t.split(/(?:\r\n?|\n)/);for(let r=0,a=i.length;r<a;++r){const o=i[r];n.append(document.createTextNode(o)),r<a-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:t,popupContent:e}){var n;u(this,Ko)||w(this,Ko,{contentsObj:u(this,Er),richText:u(this,Tr)}),t&&w(this,Cr,null),e&&(w(this,Tr,A(this,ve,_E).call(this,e)),w(this,Er,null)),(n=u(this,ti))==null||n.remove(),w(this,ti,null)}resetEdited(){var t;u(this,Ko)&&({contentsObj:Rs(this,Er)._,richText:Rs(this,Tr)._}=u(this,Ko),w(this,Ko,null),(t=u(this,ti))==null||t.remove(),w(this,ti,null),w(this,Cr,null))}forceHide(){w(this,Xo,this.isVisible),u(this,Xo)&&(u(this,Ie).hidden=!0)}maybeShow(){u(this,Xo)&&(u(this,ti)||A(this,ve,ap).call(this),w(this,Xo,!1),u(this,Ie).hidden=!1)}get isVisible(){return u(this,Ie).hidden===!1}}Nc=new WeakMap,fm=new WeakMap,pm=new WeakMap,Fc=new WeakMap,Go=new WeakMap,Ie=new WeakMap,Er=new WeakMap,Bc=new WeakMap,Ch=new WeakMap,Th=new WeakMap,Hc=new WeakMap,xr=new WeakMap,ti=new WeakMap,Cr=new WeakMap,Dh=new WeakMap,Tr=new WeakMap,kh=new WeakMap,Ko=new WeakMap,Xo=new WeakMap,ve=new WeakSet,ip=function(){const t=u(this,Tr),e=u(this,Er);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&u(this,Tr).html||null},Xv=function(){var t,e,n;return((n=(e=(t=u(this,ve,ip))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.fontSize)||0},wE=function(){var t,e,n;return((n=(e=(t=u(this,ve,ip))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.color)||null},_E=function(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},i={style:{color:u(this,ve,wE),fontSize:u(this,ve,Xv)?`calc(${u(this,ve,Xv)}px * var(--scale-factor))`:""}};for(const r of t.split(`
`))e.push({name:"span",value:r,attributes:i});return n},AE=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&u(this,xr))&&A(this,ve,rp).call(this)},SE=function(){if(u(this,Cr)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:i,pageY:r}}}=u(this,Th);let a=!!u(this,Hc),o=a?u(this,Hc):u(this,Dh);for(const m of u(this,Ch))if(!o||xt.intersect(m.data.rect,o)!==null){o=m.data.rect,a=!0;break}const l=xt.normalizeRect([o[0],t[3]-o[1]+t[1],o[2],t[3]-o[3]+t[1]]),d=a?o[2]-o[0]+5:0,h=l[0]+d,f=l[1];w(this,Cr,[100*(h-i)/e,100*(f-r)/n]);const{style:p}=u(this,Ie);p.left=`${u(this,Cr)[0]}%`,p.top=`${u(this,Cr)[1]}%`},rp=function(){w(this,xr,!u(this,xr)),u(this,xr)?(A(this,ve,ap).call(this),u(this,Ie).addEventListener("click",u(this,Fc)),u(this,Ie).addEventListener("keydown",u(this,Nc))):(A(this,ve,Jv).call(this),u(this,Ie).removeEventListener("click",u(this,Fc)),u(this,Ie).removeEventListener("keydown",u(this,Nc)))},ap=function(){u(this,ti)||this.render(),this.isVisible?u(this,xr)&&u(this,Ie).classList.add("focused"):(A(this,ve,SE).call(this),u(this,Ie).hidden=!1,u(this,Ie).style.zIndex=parseInt(u(this,Ie).style.zIndex)+1e3)},Jv=function(){u(this,Ie).classList.remove("focused"),!(u(this,xr)||!this.isVisible)&&(u(this,Ie).hidden=!0,u(this,Ie).style.zIndex=parseInt(u(this,Ie).style.zIndex)-1e3)};class EE extends Be{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Vt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Ph;class aN extends Be{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});S(this,Ph,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:n,height:i}=Fa(e.rect),r=this.svgFactory.create(n,i,!0),a=w(this,Ph,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Ph)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ph=new WeakMap;var Mh;class oN extends Be{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});S(this,Mh,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:n,height:i}=Fa(e.rect),r=this.svgFactory.create(n,i,!0),a=e.borderStyle.width,o=w(this,Mh,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",n-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Mh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Mh=new WeakMap;var Rh;class lN extends Be{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});S(this,Rh,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:n,height:i}=Fa(e.rect),r=this.svgFactory.create(n,i,!0),a=e.borderStyle.width,o=w(this,Rh,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",n/2),o.setAttribute("cy",i/2),o.setAttribute("rx",n/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Rh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Rh=new WeakMap;var Oh;class xE extends Be{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});S(this,Oh,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:i,popupRef:r}}=this;if(!n)return this.container;const{width:a,height:o}=Fa(e),l=this.svgFactory.create(a,o,!0);let c=[];for(let h=0,f=n.length;h<f;h+=2){const p=n[h]-e[0],m=e[3]-n[h+1];c.push(`${p},${m}`)}c=c.join(" ");const d=w(this,Oh,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",c),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,Oh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Oh=new WeakMap;class cN extends xE{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class uN extends Be{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Ih,Jo,$h,Qv;class _y extends Be{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});S(this,$h);S(this,Ih,null);S(this,Jo,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Vt.HIGHLIGHT:Vt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:n,inkLists:i,borderStyle:r,popupRef:a}}=this,{transform:o,width:l,height:c}=A(this,$h,Qv).call(this,n,e),d=this.svgFactory.create(l,c,!0),h=w(this,Ih,this.svgFactory.createElement("svg:g"));d.append(h),h.setAttribute("stroke-width",r.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",o);for(let f=0,p=i.length;f<p;f++){const m=this.svgFactory.createElement(this.svgElementName);u(this,Jo).push(m),m.setAttribute("points",i[f].join(",")),h.append(m)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:n,points:i,rect:r}=e,a=u(this,Ih);if(n>=0&&a.setAttribute("stroke-width",n||1),i)for(let o=0,l=u(this,Jo).length;o<l;o++)u(this,Jo)[o].setAttribute("points",i[o].join(","));if(r){const{transform:o,width:l,height:c}=A(this,$h,Qv).call(this,this.data.rotation,r);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return u(this,Jo)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ih=new WeakMap,Jo=new WeakMap,$h=new WeakSet,Qv=function(e,n){switch(e){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class CE extends Be{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Vt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class dN extends Be{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class hN extends Be{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class fN extends Be{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class TE extends Be{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Vt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Lh,Nh,Zv;class pN extends Be{constructor(e){var i;super(e,{isRenderable:!0});S(this,Nh);S(this,Lh,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",A(this,Nh,Zv).bind(this)),w(this,Lh,i);const{isMac:r}=Ys.platform;return e.addEventListener("keydown",a=>{a.key==="Enter"&&(r?a.metaKey:a.ctrlKey)&&A(this,Nh,Zv).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),e.append(i),e}getElementsToTriggerPopup(){return u(this,Lh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Lh=new WeakMap,Nh=new WeakSet,Zv=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var Fh,Qo,Zo,Bh,Cl,DE,tb;class mN{constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:i,page:r,viewport:a,structTreeLayer:o}){S(this,Cl);S(this,Fh,null);S(this,Qo,null);S(this,Zo,new Map);S(this,Bh,null);this.div=t,w(this,Fh,e),w(this,Qo,n),w(this,Bh,o||null),this.page=r,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return u(this,Zo).size>0}async render(t){var a;const{annotations:e}=t,n=this.div;wl(n,this.viewport);const i=new Map,r={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new wy,annotationStorage:t.annotationStorage||new by,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const o of e){if(o.noHTML)continue;const l=o.annotationType===qe.POPUP;if(l){const h=i.get(o.id);if(!h)continue;r.elements=h}else{const{width:h,height:f}=Fa(o.rect);if(h<=0||f<=0)continue}r.data=o;const c=QL.create(r);if(!c.isRenderable)continue;if(!l&&o.popupRef){const h=i.get(o.popupRef);h?h.push(c):i.set(o.popupRef,[c])}const d=c.render();o.hidden&&(d.style.visibility="hidden"),await A(this,Cl,DE).call(this,d,o.id),c._isEditable&&(u(this,Zo).set(c.data.id,c),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(c))}A(this,Cl,tb).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,wl(e,{rotation:t.rotation}),A(this,Cl,tb).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(u(this,Zo).values())}getEditableAnnotation(t){return u(this,Zo).get(t)}}Fh=new WeakMap,Qo=new WeakMap,Zo=new WeakMap,Bh=new WeakMap,Cl=new WeakSet,DE=async function(t,e){var a,o;const n=t.firstChild||t,i=n.id=`${fy}${e}`,r=await((a=u(this,Bh))==null?void 0:a.getAriaAttributes(i));if(r)for(const[l,c]of r)n.setAttribute(l,c);this.div.append(t),(o=u(this,Fh))==null||o.moveElementInDOM(this.div,t,n,!1)},tb=function(){if(!u(this,Qo))return;const t=this.div;for(const[e,n]of u(this,Qo)){const i=t.querySelector(`[data-annotation-id="${e}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:r}=i;r?r.nodeName==="CANVAS"?r.replaceWith(n):r.classList.contains("annotationContent")?r.after(n):r.before(n):i.append(n)}u(this,Qo).clear()};const Mf=/\r\n?|\n/g;var ei,cn,Hh,tl,un,Ye,kE,PE,ME,op,Ur,lp,cp,RE,sb,OE;const _e=class _e extends Re{constructor(e){super({...e,name:"freeTextEditor"});S(this,Ye);S(this,ei);S(this,cn,"");S(this,Hh,`${this.id}-editor`);S(this,tl,null);S(this,un);w(this,ei,e.color||_e._defaultColor||Re._defaultLineColor),w(this,un,e.fontSize||_e._defaultFontSize)}static get _keyboardManager(){const e=_e.prototype,n=a=>a.isEmpty(),i=_l.TRANSLATE_SMALL,r=_l.TRANSLATE_BIG;return Gt(this,"_keyboardManager",new gf([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:n}]]))}static initialize(e,n){Re.initialize(e,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case Xt.FREETEXT_SIZE:_e._defaultFontSize=n;break;case Xt.FREETEXT_COLOR:_e._defaultColor=n;break}}updateParams(e,n){switch(e){case Xt.FREETEXT_SIZE:A(this,Ye,kE).call(this,n);break;case Xt.FREETEXT_COLOR:A(this,Ye,PE).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Xt.FREETEXT_SIZE,_e._defaultFontSize],[Xt.FREETEXT_COLOR,_e._defaultColor||Re._defaultLineColor]]}get propertiesToUpdate(){return[[Xt.FREETEXT_SIZE,u(this,un)],[Xt.FREETEXT_COLOR,u(this,ei)]]}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-_e._internalPadding*e,-(_e._internalPadding+u(this,un))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Vt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),w(this,tl,new AbortController);const e=this._uiManager.combinedSignal(u(this,tl));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,Hh)),this._isDraggable=!0,(e=u(this,tl))==null||e.abort(),w(this,tl,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=u(this,cn),n=w(this,cn,A(this,Ye,ME).call(this).trimEnd());if(e===n)return;const i=r=>{if(w(this,cn,r),!r){this.remove();return}A(this,Ye,cp).call(this),this._uiManager.rebuild(this),A(this,Ye,op).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(e)},mustExec:!1}),A(this,Ye,op).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){_e._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,Hh)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${u(this,un)}px * var(--scale-factor))`,i.color=u(this,ei),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),$p(this,this.div,["dblclick","keydown"]),this.width){const[r,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[d,h]=this.pageDimensions,[f,p]=this.pageTranslation;let m,v;switch(this.rotation){case 0:m=e+(o[0]-f)/d,v=n+this.height-(o[1]-p)/h;break;case 90:m=e+(o[0]-f)/d,v=n-(o[1]-p)/h,[l,c]=[c,-l];break;case 180:m=e-this.width+(o[0]-f)/d,v=n-(o[1]-p)/h,[l,c]=[-l,-c];break;case 270:m=e+(o[0]-f-this.height*h)/d,v=n+(o[1]-p-this.width*d)/h,[l,c]=[-c,l];break}this.setAt(m*r,v*a,l,c)}else this.setAt(e*r,n*a,this.width*r,this.height*a);A(this,Ye,cp).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var m,v,b;const n=e.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;e.preventDefault();const r=A(m=_e,Ur,sb).call(m,n.getData("text")||"").replaceAll(Mf,`
`);if(!r)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!r.includes(`
`)){o.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:c}=o,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const y=l.parentElement;if(h.push(l.nodeValue.slice(c).replaceAll(Mf,"")),y!==this.editorDiv){let E=d;for(const C of this.editorDiv.childNodes){if(C===y){E=h;continue}E.push(A(v=_e,Ur,lp).call(v,C))}}d.push(l.nodeValue.slice(0,c).replaceAll(Mf,""))}else if(l===this.editorDiv){let y=d,E=0;for(const C of this.editorDiv.childNodes)E++===c&&(y=h),y.push(A(b=_e,Ur,lp).call(b,C))}w(this,cn,`${d.join(`
`)}${r}${h.join(`
`)}`),A(this,Ye,cp).call(this);const f=new Range;let p=d.reduce((y,E)=>y+E.length,0);for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const E=y.nodeValue.length;if(p<=E){f.setStart(y,p),f.setEnd(y,p);break}p-=E}a.removeAllRanges(),a.addRange(f)}get contentDiv(){return this.editorDiv}static async deserialize(e,n,i){var o;let r=null;if(e instanceof EE){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:d,rotation:h,id:f,popupRef:p},textContent:m,textPosition:v,parent:{page:{pageNumber:b}}}=e;if(!m||m.length===0)return null;r=e={annotationType:Vt.FREETEXT,color:Array.from(c),fontSize:l,value:m.join(`
`),position:v,pageIndex:b-1,rect:d.slice(0),rotation:h,id:f,deleted:!1,popupRef:p}}const a=await super.deserialize(e,n,i);return w(a,un,e.fontSize),w(a,ei,xt.makeHexColor(...e.color)),w(a,cn,A(o=_e,Ur,sb).call(o,e.value)),a.annotationElementId=e.id||null,a._initialData=r,a}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=_e._internalPadding*this.parentScale,i=this.getRect(n,n),r=Re._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:u(this,ei)),a={annotationType:Vt.FREETEXT,color:r,fontSize:u(this,un),value:A(this,Ye,RE).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?a:this.annotationElementId&&!A(this,Ye,OE).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(this.deleted)return n;const{style:i}=n;i.fontSize=`calc(${u(this,un)}px * var(--scale-factor))`,i.color=u(this,ei),n.replaceChildren();for(const a of u(this,cn).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),n.append(o)}const r=_e._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(r,r),popupContent:u(this,cn)}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};ei=new WeakMap,cn=new WeakMap,Hh=new WeakMap,tl=new WeakMap,un=new WeakMap,Ye=new WeakSet,kE=function(e){const n=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--scale-factor))`,this.translate(0,-(r-u(this,un))*this.parentScale),w(this,un,r),A(this,Ye,op).call(this)},i=u(this,un);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},PE=function(e){const n=r=>{w(this,ei,this.editorDiv.style.color=r)},i=u(this,ei);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ME=function(){var i;const e=[];this.editorDiv.normalize();let n=null;for(const r of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&r.nodeName==="BR"||(e.push(A(i=_e,Ur,lp).call(i,r)),n=r);return e.join(`
`)},op=function(){const[e,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:r,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",r.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/e,this.height=i.height/n):(this.width=i.height/e,this.height=i.width/n),this.fixAndSetPosition()},Ur=new WeakSet,lp=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Mf,"")},cp=function(){if(this.editorDiv.replaceChildren(),!!u(this,cn))for(const e of u(this,cn).split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}},RE=function(){return u(this,cn).replaceAll(" "," ")},sb=function(e){return e.replaceAll(" "," ")},OE=function(e){const{value:n,fontSize:i,color:r,pageIndex:a}=this._initialData;return this._hasBeenMoved||e.value!==n||e.fontSize!==i||e.color.some((o,l)=>o!==r[l])||e.pageIndex!==a},S(_e,Ur),kt(_e,"_freeTextDefaultContent",""),kt(_e,"_internalPadding",0),kt(_e,"_defaultColor",null),kt(_e,"_defaultFontSize",10),kt(_e,"_type","freetext"),kt(_e,"_editorType",Vt.FREETEXT);let eb=_e;class yt{toSVGPath(){ge("Abstract method `toSVGPath` must be implemented.")}get box(){ge("Abstract getter `box` must be implemented.")}serialize(t,e){ge("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,i,r,a){a||(a=new Float32Array(t.length));for(let o=0,l=t.length;o<l;o+=2)a[o]=e+t[o]*i,a[o+1]=n+t[o+1]*r;return a}static _rescaleAndSwap(t,e,n,i,r,a){a||(a=new Float32Array(t.length));for(let o=0,l=t.length;o<l;o+=2)a[o]=e+t[o+1]*i,a[o+1]=n+t[o]*r;return a}static _translate(t,e,n,i){i||(i=new Float32Array(t.length));for(let r=0,a=t.length;r<a;r+=2)i[r]=e+t[r],i[r+1]=n+t[r+1];return i}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,n,i,r){switch(r){case 90:return[1-e/n,t/i];case 180:return[1-t/n,1-e/i];case 270:return[e/n,1-t/i];default:return[t/n,e/i]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,i,r,a){return[(t+5*n)/6,(e+5*i)/6,(5*n+r)/6,(5*i+a)/6,(n+r)/2,(i+a)/2]}}kt(yt,"PRECISION",1e-4);var dn,si,Uc,jc,Fi,zt,el,sl,Uh,jh,Yc,Vc,Da,Yh,mm,gm,Xe,id,IE,$E,LE,NE,FE,BE;const hr=class hr{constructor({x:t,y:e},n,i,r,a,o=0){S(this,Xe);S(this,dn);S(this,si,[]);S(this,Uc);S(this,jc);S(this,Fi,[]);S(this,zt,new Float32Array(18));S(this,el);S(this,sl);S(this,Uh);S(this,jh);S(this,Yc);S(this,Vc);S(this,Da,[]);w(this,dn,n),w(this,Vc,r*i),w(this,jc,a),u(this,zt).set([NaN,NaN,NaN,NaN,t,e],6),w(this,Uc,o),w(this,jh,u(hr,Yh)*i),w(this,Uh,u(hr,gm)*i),w(this,Yc,i),u(this,Da).push(t,e)}isEmpty(){return isNaN(u(this,zt)[8])}add({x:t,y:e}){var F;w(this,el,t),w(this,sl,e);const[n,i,r,a]=u(this,dn);let[o,l,c,d]=u(this,zt).subarray(8,12);const h=t-c,f=e-d,p=Math.hypot(h,f);if(p<u(this,Uh))return!1;const m=p-u(this,jh),v=m/p,b=v*h,y=v*f;let E=o,C=l;o=c,l=d,c+=b,d+=y,(F=u(this,Da))==null||F.push(t,e);const x=-y/m,D=b/m,M=x*u(this,Vc),P=D*u(this,Vc);return u(this,zt).set(u(this,zt).subarray(2,8),0),u(this,zt).set([c+M,d+P],4),u(this,zt).set(u(this,zt).subarray(14,18),12),u(this,zt).set([c-M,d-P],16),isNaN(u(this,zt)[6])?(u(this,Fi).length===0&&(u(this,zt).set([o+M,l+P],2),u(this,Fi).push(NaN,NaN,NaN,NaN,(o+M-n)/r,(l+P-i)/a),u(this,zt).set([o-M,l-P],14),u(this,si).push(NaN,NaN,NaN,NaN,(o-M-n)/r,(l-P-i)/a)),u(this,zt).set([E,C,o,l,c,d],6),!this.isEmpty()):(u(this,zt).set([E,C,o,l,c,d],6),Math.abs(Math.atan2(C-l,E-o)-Math.atan2(y,b))<Math.PI/2?([o,l,c,d]=u(this,zt).subarray(2,6),u(this,Fi).push(NaN,NaN,NaN,NaN,((o+c)/2-n)/r,((l+d)/2-i)/a),[o,l,E,C]=u(this,zt).subarray(14,18),u(this,si).push(NaN,NaN,NaN,NaN,((E+o)/2-n)/r,((C+l)/2-i)/a),!0):([E,C,o,l,c,d]=u(this,zt).subarray(0,6),u(this,Fi).push(((E+5*o)/6-n)/r,((C+5*l)/6-i)/a,((5*o+c)/6-n)/r,((5*l+d)/6-i)/a,((o+c)/2-n)/r,((l+d)/2-i)/a),[c,d,o,l,E,C]=u(this,zt).subarray(12,18),u(this,si).push(((E+5*o)/6-n)/r,((C+5*l)/6-i)/a,((5*o+c)/6-n)/r,((5*l+d)/6-i)/a,((o+c)/2-n)/r,((l+d)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const t=u(this,Fi),e=u(this,si);if(isNaN(u(this,zt)[6])&&!this.isEmpty())return A(this,Xe,IE).call(this);const n=[];n.push(`M${t[4]} ${t[5]}`);for(let i=6;i<t.length;i+=6)isNaN(t[i])?n.push(`L${t[i+4]} ${t[i+5]}`):n.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);A(this,Xe,LE).call(this,n);for(let i=e.length-6;i>=6;i-=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);return A(this,Xe,$E).call(this,n),n.join(" ")}newFreeDrawOutline(t,e,n,i,r,a){return new HE(t,e,n,i,r,a)}getOutlines(){var h;const t=u(this,Fi),e=u(this,si),n=u(this,zt),[i,r,a,o]=u(this,dn),l=new Float32Array((((h=u(this,Da))==null?void 0:h.length)??0)+2);for(let f=0,p=l.length-2;f<p;f+=2)l[f]=(u(this,Da)[f]-i)/a,l[f+1]=(u(this,Da)[f+1]-r)/o;if(l[l.length-2]=(u(this,el)-i)/a,l[l.length-1]=(u(this,sl)-r)/o,isNaN(n[6])&&!this.isEmpty())return A(this,Xe,NE).call(this,l);const c=new Float32Array(u(this,Fi).length+24+u(this,si).length);let d=t.length;for(let f=0;f<d;f+=2){if(isNaN(t[f])){c[f]=c[f+1]=NaN;continue}c[f]=t[f],c[f+1]=t[f+1]}d=A(this,Xe,BE).call(this,c,d);for(let f=e.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(e[f+p])){c[d]=c[d+1]=NaN,d+=2;continue}c[d]=e[f+p],c[d+1]=e[f+p+1],d+=2}return A(this,Xe,FE).call(this,c,d),this.newFreeDrawOutline(c,l,u(this,dn),u(this,Yc),u(this,Uc),u(this,jc))}};dn=new WeakMap,si=new WeakMap,Uc=new WeakMap,jc=new WeakMap,Fi=new WeakMap,zt=new WeakMap,el=new WeakMap,sl=new WeakMap,Uh=new WeakMap,jh=new WeakMap,Yc=new WeakMap,Vc=new WeakMap,Da=new WeakMap,Yh=new WeakMap,mm=new WeakMap,gm=new WeakMap,Xe=new WeakSet,id=function(){const t=u(this,zt).subarray(4,6),e=u(this,zt).subarray(16,18),[n,i,r,a]=u(this,dn);return[(u(this,el)+(t[0]-e[0])/2-n)/r,(u(this,sl)+(t[1]-e[1])/2-i)/a,(u(this,el)+(e[0]-t[0])/2-n)/r,(u(this,sl)+(e[1]-t[1])/2-i)/a]},IE=function(){const[t,e,n,i]=u(this,dn),[r,a,o,l]=A(this,Xe,id).call(this);return`M${(u(this,zt)[2]-t)/n} ${(u(this,zt)[3]-e)/i} L${(u(this,zt)[4]-t)/n} ${(u(this,zt)[5]-e)/i} L${r} ${a} L${o} ${l} L${(u(this,zt)[16]-t)/n} ${(u(this,zt)[17]-e)/i} L${(u(this,zt)[14]-t)/n} ${(u(this,zt)[15]-e)/i} Z`},$E=function(t){const e=u(this,si);t.push(`L${e[4]} ${e[5]} Z`)},LE=function(t){const[e,n,i,r]=u(this,dn),a=u(this,zt).subarray(4,6),o=u(this,zt).subarray(16,18),[l,c,d,h]=A(this,Xe,id).call(this);t.push(`L${(a[0]-e)/i} ${(a[1]-n)/r} L${l} ${c} L${d} ${h} L${(o[0]-e)/i} ${(o[1]-n)/r}`)},NE=function(t){const e=u(this,zt),[n,i,r,a]=u(this,dn),[o,l,c,d]=A(this,Xe,id).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(e[2]-n)/r,(e[3]-i)/a,NaN,NaN,NaN,NaN,(e[4]-n)/r,(e[5]-i)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,(e[16]-n)/r,(e[17]-i)/a,NaN,NaN,NaN,NaN,(e[14]-n)/r,(e[15]-i)/a],0),this.newFreeDrawOutline(h,t,u(this,dn),u(this,Yc),u(this,Uc),u(this,jc))},FE=function(t,e){const n=u(this,si);return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6},BE=function(t,e){const n=u(this,zt).subarray(4,6),i=u(this,zt).subarray(16,18),[r,a,o,l]=u(this,dn),[c,d,h,f]=A(this,Xe,id).call(this);return t.set([NaN,NaN,NaN,NaN,(n[0]-r)/o,(n[1]-a)/l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(i[0]-r)/o,(i[1]-a)/l],e),e+=24},S(hr,Yh,8),S(hr,mm,2),S(hr,gm,u(hr,Yh)+u(hr,mm));let Np=hr;var Wc,nl,Dr,Vh,hn,Wh,Ne,vm,UE;class HE extends yt{constructor(e,n,i,r,a,o){super();S(this,vm);S(this,Wc);S(this,nl,new Float32Array(4));S(this,Dr);S(this,Vh);S(this,hn);S(this,Wh);S(this,Ne);w(this,Ne,e),w(this,hn,n),w(this,Wc,i),w(this,Wh,r),w(this,Dr,a),w(this,Vh,o),this.lastPoint=[NaN,NaN],A(this,vm,UE).call(this,o);const[l,c,d,h]=u(this,nl);for(let f=0,p=e.length;f<p;f+=2)e[f]=(e[f]-l)/d,e[f+1]=(e[f+1]-c)/h;for(let f=0,p=n.length;f<p;f+=2)n[f]=(n[f]-l)/d,n[f+1]=(n[f+1]-c)/h}toSVGPath(){const e=[`M${u(this,Ne)[4]} ${u(this,Ne)[5]}`];for(let n=6,i=u(this,Ne).length;n<i;n+=6){if(isNaN(u(this,Ne)[n])){e.push(`L${u(this,Ne)[n+4]} ${u(this,Ne)[n+5]}`);continue}e.push(`C${u(this,Ne)[n]} ${u(this,Ne)[n+1]} ${u(this,Ne)[n+2]} ${u(this,Ne)[n+3]} ${u(this,Ne)[n+4]} ${u(this,Ne)[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,i,r],a){const o=i-e,l=r-n;let c,d;switch(a){case 0:c=yt._rescale(u(this,Ne),e,r,o,-l),d=yt._rescale(u(this,hn),e,r,o,-l);break;case 90:c=yt._rescaleAndSwap(u(this,Ne),e,n,o,l),d=yt._rescaleAndSwap(u(this,hn),e,n,o,l);break;case 180:c=yt._rescale(u(this,Ne),i,n,-o,l),d=yt._rescale(u(this,hn),i,n,-o,l);break;case 270:c=yt._rescaleAndSwap(u(this,Ne),i,r,-o,-l),d=yt._rescaleAndSwap(u(this,hn),i,r,-o,-l);break}return{outline:Array.from(c),points:[Array.from(d)]}}get box(){return u(this,nl)}newOutliner(e,n,i,r,a,o=0){return new Np(e,n,i,r,a,o)}getNewOutline(e,n){const[i,r,a,o]=u(this,nl),[l,c,d,h]=u(this,Wc),f=a*d,p=o*h,m=i*d+l,v=r*h+c,b=this.newOutliner({x:u(this,hn)[0]*f+m,y:u(this,hn)[1]*p+v},u(this,Wc),u(this,Wh),e,u(this,Vh),n??u(this,Dr));for(let y=2;y<u(this,hn).length;y+=2)b.add({x:u(this,hn)[y]*f+m,y:u(this,hn)[y+1]*p+v});return b.getOutlines()}}Wc=new WeakMap,nl=new WeakMap,Dr=new WeakMap,Vh=new WeakMap,hn=new WeakMap,Wh=new WeakMap,Ne=new WeakMap,vm=new WeakSet,UE=function(e){const n=u(this,Ne);let i=n[4],r=n[5],a=i,o=r,l=i,c=r,d=i,h=r;const f=e?Math.max:Math.min;for(let m=6,v=n.length;m<v;m+=6){if(isNaN(n[m]))a=Math.min(a,n[m+4]),o=Math.min(o,n[m+5]),l=Math.max(l,n[m+4]),c=Math.max(c,n[m+5]),h<n[m+5]?(d=n[m+4],h=n[m+5]):h===n[m+5]&&(d=f(d,n[m+4]));else{const b=xt.bezierBoundingBox(i,r,...n.slice(m,m+6));a=Math.min(a,b[0]),o=Math.min(o,b[1]),l=Math.max(l,b[2]),c=Math.max(c,b[3]),h<b[3]?(d=b[2],h=b[3]):h===b[3]&&(d=f(d,b[2]))}i=n[m+4],r=n[m+5]}const p=u(this,nl);p[0]=a-u(this,Dr),p[1]=o-u(this,Dr),p[2]=l-a+2*u(this,Dr),p[3]=c-o+2*u(this,Dr),this.lastPoint=[d,h]};var qh,zh,ka,ni,Ws,jE,up,YE,VE,ib;class nb{constructor(t,e=0,n=0,i=!0){S(this,Ws);S(this,qh);S(this,zh);S(this,ka,[]);S(this,ni,[]);let r=1/0,a=-1/0,o=1/0,l=-1/0;const d=10**-4;for(const{x:y,y:E,width:C,height:x}of t){const D=Math.floor((y-e)/d)*d,M=Math.ceil((y+C+e)/d)*d,P=Math.floor((E-e)/d)*d,H=Math.ceil((E+x+e)/d)*d,F=[D,P,H,!0],Z=[M,P,H,!1];u(this,ka).push(F,Z),r=Math.min(r,D),a=Math.max(a,M),o=Math.min(o,P),l=Math.max(l,H)}const h=a-r+2*n,f=l-o+2*n,p=r-n,m=o-n,v=u(this,ka).at(i?-1:-2),b=[v[0],v[2]];for(const y of u(this,ka)){const[E,C,x]=y;y[0]=(E-p)/h,y[1]=(C-m)/f,y[2]=(x-m)/f}w(this,qh,new Float32Array([p,m,h,f])),w(this,zh,b)}getOutlines(){u(this,ka).sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of u(this,ka))e[3]?(t.push(...A(this,Ws,ib).call(this,e)),A(this,Ws,YE).call(this,e)):(A(this,Ws,VE).call(this,e),t.push(...A(this,Ws,ib).call(this,e)));return A(this,Ws,jE).call(this,t)}}qh=new WeakMap,zh=new WeakMap,ka=new WeakMap,ni=new WeakMap,Ws=new WeakSet,jE=function(t){const e=[],n=new Set;for(const a of t){const[o,l,c]=a;e.push([o,l,a],[o,c,a])}e.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=e.length;a<o;a+=2){const l=e[a][2],c=e[a+1][2];l.push(c),c.push(l),n.add(l),n.add(c)}const i=[];let r;for(;n.size>0;){const a=n.values().next().value;let[o,l,c,d,h]=a;n.delete(a);let f=o,p=l;for(r=[o,c],i.push(r);;){let m;if(n.has(d))m=d;else if(n.has(h))m=h;else break;n.delete(m),[o,l,c,d,h]=m,f!==o&&(r.push(f,p,o,p===l?l:c),f=o),p=p===l?c:l}r.push(f,p)}return new gN(i,u(this,qh),u(this,zh))},up=function(t){const e=u(this,ni);let n=0,i=e.length-1;for(;n<=i;){const r=n+i>>1,a=e[r][0];if(a===t)return r;a<t?n=r+1:i=r-1}return i+1},YE=function([,t,e]){const n=A(this,Ws,up).call(this,t);u(this,ni).splice(n,0,[t,e])},VE=function([,t,e]){const n=A(this,Ws,up).call(this,t);for(let i=n;i<u(this,ni).length;i++){const[r,a]=u(this,ni)[i];if(r!==t)break;if(r===t&&a===e){u(this,ni).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[r,a]=u(this,ni)[i];if(r!==t)break;if(r===t&&a===e){u(this,ni).splice(i,1);return}}},ib=function(t){const[e,n,i]=t,r=[[e,n,i]],a=A(this,Ws,up).call(this,i);for(let o=0;o<a;o++){const[l,c]=u(this,ni)[o];for(let d=0,h=r.length;d<h;d++){const[,f,p]=r[d];if(!(c<=f||p<=l)){if(f>=l){if(p>c)r[d][1]=c;else{if(h===1)return[];r.splice(d,1),d--,h--}continue}r[d][2]=l,p>c&&r.push([e,c,p])}}}return r};var Gh,qc;class gN extends yt{constructor(e,n,i){super();S(this,Gh);S(this,qc);w(this,qc,e),w(this,Gh,n),this.lastPoint=i}toSVGPath(){const e=[];for(const n of u(this,qc)){let[i,r]=n;e.push(`M${i} ${r}`);for(let a=2;a<n.length;a+=2){const o=n[a],l=n[a+1];o===i?(e.push(`V${l}`),r=l):l===r&&(e.push(`H${o}`),i=o)}e.push("Z")}return e.join(" ")}serialize([e,n,i,r],a){const o=[],l=i-e,c=r-n;for(const d of u(this,qc)){const h=new Array(d.length);for(let f=0;f<d.length;f+=2)h[f]=e+d[f]*l,h[f+1]=r-d[f+1]*c;o.push(h)}return o}get box(){return u(this,Gh)}get classNamesForOutlining(){return["highlightOutline"]}}Gh=new WeakMap,qc=new WeakMap;class rb extends Np{newFreeDrawOutline(t,e,n,i,r,a){return new vN(t,e,n,i,r,a)}}class vN extends HE{newOutliner(t,e,n,i,r,a=0){return new rb(t,e,n,i,r,a)}}var ii,il,zc,Ke,Kh,Gc,Xh,Jh,Pa,ri,Kc,Qh,me,ab,ob,lb,oo,WE,ea;const Ks=class Ks{constructor({editor:t=null,uiManager:e=null}){S(this,me);S(this,ii,null);S(this,il,null);S(this,zc);S(this,Ke,null);S(this,Kh,!1);S(this,Gc,!1);S(this,Xh,null);S(this,Jh);S(this,Pa,null);S(this,ri,null);S(this,Kc);var n;t?(w(this,Gc,!1),w(this,Kc,Xt.HIGHLIGHT_COLOR),w(this,Xh,t)):(w(this,Gc,!0),w(this,Kc,Xt.HIGHLIGHT_DEFAULT_COLOR)),w(this,ri,(t==null?void 0:t._uiManager)||e),w(this,Jh,u(this,ri)._eventBus),w(this,zc,(t==null?void 0:t.color)||((n=u(this,ri))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),u(Ks,Qh)||w(Ks,Qh,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Gt(this,"_keyboardManager",new gf([[["Escape","mac+Escape"],Ks.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ks.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ks.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ks.prototype._moveToPrevious],[["Home","mac+Home"],Ks.prototype._moveToBeginning],[["End","mac+End"],Ks.prototype._moveToEnd]]))}renderButton(){const t=w(this,ii,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=u(this,ri)._signal;t.addEventListener("click",A(this,me,oo).bind(this),{signal:e}),t.addEventListener("keydown",A(this,me,lb).bind(this),{signal:e});const n=w(this,il,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=u(this,zc),t.append(n),t}renderMainDropdown(){const t=w(this,Ke,A(this,me,ab).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===u(this,ii)){A(this,me,oo).call(this,t);return}const e=t.target.getAttribute("data-color");e&&A(this,me,ob).call(this,e,t)}_moveToNext(t){var e,n;if(!u(this,me,ea)){A(this,me,oo).call(this,t);return}if(t.target===u(this,ii)){(e=u(this,Ke).firstChild)==null||e.focus();return}(n=t.target.nextSibling)==null||n.focus()}_moveToPrevious(t){var e,n;if(t.target===((e=u(this,Ke))==null?void 0:e.firstChild)||t.target===u(this,ii)){u(this,me,ea)&&this._hideDropdownFromKeyboard();return}u(this,me,ea)||A(this,me,oo).call(this,t),(n=t.target.previousSibling)==null||n.focus()}_moveToBeginning(t){var e;if(!u(this,me,ea)){A(this,me,oo).call(this,t);return}(e=u(this,Ke).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!u(this,me,ea)){A(this,me,oo).call(this,t);return}(e=u(this,Ke).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=u(this,Ke))==null||t.classList.add("hidden"),(e=u(this,Pa))==null||e.abort(),w(this,Pa,null)}_hideDropdownFromKeyboard(){var t;if(!u(this,Gc)){if(!u(this,me,ea)){(t=u(this,Xh))==null||t.unselect();return}this.hideDropdown(),u(this,ii).focus({preventScroll:!0,focusVisible:u(this,Kh)})}}updateColor(t){if(u(this,il)&&(u(this,il).style.backgroundColor=t),!u(this,Ke))return;const e=u(this,ri).highlightColors.values();for(const n of u(this,Ke).children)n.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=u(this,ii))==null||t.remove(),w(this,ii,null),w(this,il,null),(e=u(this,Ke))==null||e.remove(),w(this,Ke,null)}};ii=new WeakMap,il=new WeakMap,zc=new WeakMap,Ke=new WeakMap,Kh=new WeakMap,Gc=new WeakMap,Xh=new WeakMap,Jh=new WeakMap,Pa=new WeakMap,ri=new WeakMap,Kc=new WeakMap,Qh=new WeakMap,me=new WeakSet,ab=function(){const t=document.createElement("div"),e=u(this,ri)._signal;t.addEventListener("contextmenu",gi,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,i]of u(this,ri).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",i),r.title=n,r.setAttribute("data-l10n-id",u(Ks,Qh)[n]);const a=document.createElement("span");r.append(a),a.className="swatch",a.style.backgroundColor=i,r.setAttribute("aria-selected",i===u(this,zc)),r.addEventListener("click",A(this,me,ob).bind(this,i),{signal:e}),t.append(r)}return t.addEventListener("keydown",A(this,me,lb).bind(this),{signal:e}),t},ob=function(t,e){e.stopPropagation(),u(this,Jh).dispatch("switchannotationeditorparams",{source:this,type:u(this,Kc),value:t})},lb=function(t){Ks._keyboardManager.exec(this,t)},oo=function(t){if(u(this,me,ea)){this.hideDropdown();return}if(w(this,Kh,t.detail===0),u(this,Pa)||(w(this,Pa,new AbortController),window.addEventListener("pointerdown",A(this,me,WE).bind(this),{signal:u(this,ri).combinedSignal(u(this,Pa))})),u(this,Ke)){u(this,Ke).classList.remove("hidden");return}const e=w(this,Ke,A(this,me,ab).call(this));u(this,ii).append(e)},WE=function(t){var e;(e=u(this,Ke))!=null&&e.contains(t.target)||this.hideDropdown()},ea=function(){return u(this,Ke)&&!u(this,Ke).classList.contains("hidden")},S(Ks,Qh,null);let Fp=Ks;var Xc,Zh,kr,rl,Jc,Qs,tf,ef,al,Rn,fn,ds,Qc,Pr,Ss,Zc,On,sf,Yt,cb,dp,qE,zE,GE,ub,lo,Nn,Vl,KE,hp,rd,XE,JE,QE,ZE,tx;const ae=class ae extends Re{constructor(e){super({...e,name:"highlightEditor"});S(this,Yt);S(this,Xc,null);S(this,Zh,0);S(this,kr);S(this,rl,null);S(this,Jc,null);S(this,Qs,null);S(this,tf,null);S(this,ef,0);S(this,al,null);S(this,Rn,null);S(this,fn,null);S(this,ds,!1);S(this,Qc,null);S(this,Pr);S(this,Ss,null);S(this,Zc,"");S(this,On);S(this,sf,"");this.color=e.color||ae._defaultColor,w(this,On,e.thickness||ae._defaultThickness),w(this,Pr,e.opacity||ae._defaultOpacity),w(this,kr,e.boxes||null),w(this,sf,e.methodOfCreation||""),w(this,Zc,e.text||""),this._isDraggable=!1,e.highlightId>-1?(w(this,ds,!0),A(this,Yt,dp).call(this,e),A(this,Yt,lo).call(this)):u(this,kr)&&(w(this,Xc,e.anchorNode),w(this,Zh,e.anchorOffset),w(this,tf,e.focusNode),w(this,ef,e.focusOffset),A(this,Yt,cb).call(this),A(this,Yt,lo).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=ae.prototype;return Gt(this,"_keyboardManager",new gf([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:u(this,ds)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:u(this,On),methodOfCreation:u(this,sf)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,n){var i;Re.initialize(e,n),ae._defaultColor||(ae._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(e,n){switch(e){case Xt.HIGHLIGHT_DEFAULT_COLOR:ae._defaultColor=n;break;case Xt.HIGHLIGHT_THICKNESS:ae._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return u(this,Qc)}updateParams(e,n){switch(e){case Xt.HIGHLIGHT_COLOR:A(this,Yt,qE).call(this,n);break;case Xt.HIGHLIGHT_THICKNESS:A(this,Yt,zE).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Xt.HIGHLIGHT_DEFAULT_COLOR,ae._defaultColor],[Xt.HIGHLIGHT_THICKNESS,ae._defaultThickness]]}get propertiesToUpdate(){return[[Xt.HIGHLIGHT_COLOR,this.color||ae._defaultColor],[Xt.HIGHLIGHT_THICKNESS,u(this,On)||ae._defaultThickness],[Xt.HIGHLIGHT_FREE,u(this,ds)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(w(this,Jc,new Fp({editor:this})),e.addColorPicker(u(this,Jc))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(A(this,Yt,rd).call(this))}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,A(this,Yt,rd).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){A(this,Yt,ub).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(A(this,Yt,lo).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var i;let n=!1;this.parent&&!e?A(this,Yt,ub).call(this):e&&(A(this,Yt,lo).call(this,e),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),n&&this.select()}rotate(e){var r,a,o;const{drawLayer:n}=this.parent;let i;u(this,ds)?(e=(e-this.rotation+360)%360,i=A(r=ae,Nn,Vl).call(r,u(this,Rn).box,e)):i=A(a=ae,Nn,Vl).call(a,[this.x,this.y,this.width,this.height],e),n.updateProperties(u(this,fn),{bbox:i,root:{"data-main-rotation":e}}),n.updateProperties(u(this,Ss),{bbox:A(o=ae,Nn,Vl).call(o,u(this,Qs).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();u(this,Zc)&&(e.setAttribute("aria-label",u(this,Zc)),e.setAttribute("role","mark")),u(this,ds)?e.classList.add("free"):this.div.addEventListener("keydown",A(this,Yt,KE).bind(this),{signal:this._uiManager._signal});const n=w(this,al,document.createElement("div"));e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=u(this,rl);const[i,r]=this.parentDimensions;return this.setDims(this.width*i,this.height*r),$p(this,u(this,al),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(u(this,Ss),{rootClass:{hovered:!0}})}pointerleave(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(u(this,Ss),{rootClass:{hovered:!1}})}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:A(this,Yt,hp).call(this,!0);break;case 1:case 3:A(this,Yt,hp).call(this,!1);break}}select(){var e;super.select(),u(this,Ss)&&((e=this.parent)==null||e.drawLayer.updateProperties(u(this,Ss),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),u(this,Ss)&&((e=this.parent)==null||e.drawLayer.updateProperties(u(this,Ss),{rootClass:{selected:!1}}),u(this,ds)||A(this,Yt,hp).call(this,!1))}get _mustFixPosition(){return!u(this,ds)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(u(this,fn),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(u(this,Ss),{rootClass:{hidden:!e}}))}static startHighlighting(e,n,{target:i,x:r,y:a}){const{x:o,y:l,width:c,height:d}=i.getBoundingClientRect(),h=new AbortController,f=e.combinedSignal(h),p=m=>{h.abort(),A(this,Nn,ZE).call(this,e,m)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",li,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",gi,{signal:f}),i.addEventListener("pointermove",A(this,Nn,QE).bind(this,e),{signal:f}),this._freeHighlight=new rb({x:r,y:a},[o,l,c,d],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(e,n,i){var v,b,y,E;let r=null;if(e instanceof CE){const{data:{quadPoints:C,rect:x,rotation:D,id:M,color:P,opacity:H,popupRef:F},parent:{page:{pageNumber:Z}}}=e;r=e={annotationType:Vt.HIGHLIGHT,color:Array.from(P),opacity:H,quadPoints:C,boxes:null,pageIndex:Z-1,rect:x.slice(0),rotation:D,id:M,deleted:!1,popupRef:F}}else if(e instanceof _y){const{data:{inkLists:C,rect:x,rotation:D,id:M,color:P,borderStyle:{rawWidth:H},popupRef:F},parent:{page:{pageNumber:Z}}}=e;r=e={annotationType:Vt.HIGHLIGHT,color:Array.from(P),thickness:H,inkLists:C,boxes:null,pageIndex:Z-1,rect:x.slice(0),rotation:D,id:M,deleted:!1,popupRef:F}}const{color:a,quadPoints:o,inkLists:l,opacity:c}=e,d=await super.deserialize(e,n,i);d.color=xt.makeHexColor(...a),w(d,Pr,c||1),l&&w(d,On,e.thickness),d.annotationElementId=e.id||null,d._initialData=r;const[h,f]=d.pageDimensions,[p,m]=d.pageTranslation;if(o){const C=w(d,kr,[]);for(let x=0;x<o.length;x+=8)C.push({x:(o[x]-p)/h,y:1-(o[x+1]-m)/f,width:(o[x+2]-o[x])/h,height:(o[x+1]-o[x+5])/f});A(v=d,Yt,cb).call(v),A(b=d,Yt,lo).call(b),d.rotate(d.rotation)}else if(l){w(d,ds,!0);const C=l[0],x={x:C[0]-p,y:f-(C[1]-m)},D=new rb(x,[0,0,h,f],1,u(d,On)/2,!0,.001);for(let H=0,F=C.length;H<F;H+=2)x.x=C[H]-p,x.y=f-(C[H+1]-m),D.add(x);const{id:M,clipPathId:P}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:D.toSVGPath()}},!0,!0);A(y=d,Yt,dp).call(y,{highlightOutlines:D.getOutlines(),highlightId:M,clipPathId:P}),A(E=d,Yt,lo).call(E)}return d}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),i=Re._colorManager.convert(this.color),r={annotationType:Vt.HIGHLIGHT,color:i,opacity:u(this,Pr),thickness:u(this,On),quadPoints:A(this,Yt,XE).call(this),outlines:A(this,Yt,JE).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:A(this,Yt,rd).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!A(this,Yt,tx).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Xc=new WeakMap,Zh=new WeakMap,kr=new WeakMap,rl=new WeakMap,Jc=new WeakMap,Qs=new WeakMap,tf=new WeakMap,ef=new WeakMap,al=new WeakMap,Rn=new WeakMap,fn=new WeakMap,ds=new WeakMap,Qc=new WeakMap,Pr=new WeakMap,Ss=new WeakMap,Zc=new WeakMap,On=new WeakMap,sf=new WeakMap,Yt=new WeakSet,cb=function(){const e=new nb(u(this,kr),.001);w(this,Rn,e.getOutlines()),[this.x,this.y,this.width,this.height]=u(this,Rn).box;const n=new nb(u(this,kr),.0025,.001,this._uiManager.direction==="ltr");w(this,Qs,n.getOutlines());const{lastPoint:i}=u(this,Qs);w(this,Qc,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},dp=function({highlightOutlines:e,highlightId:n,clipPathId:i}){var h,f;if(w(this,Rn,e),w(this,Qs,e.getNewOutline(u(this,On)/2+1.5,.0025)),n>=0)w(this,fn,n),w(this,rl,i),this.parent.drawLayer.finalizeDraw(n,{bbox:e.box,path:{d:e.toSVGPath()}}),w(this,Ss,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:u(this,Qs).box,path:{d:u(this,Qs).toSVGPath()}},!0));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(u(this,fn),{bbox:A(h=ae,Nn,Vl).call(h,u(this,Rn).box,(p-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(u(this,Ss),{bbox:A(f=ae,Nn,Vl).call(f,u(this,Qs).box,p),path:{d:u(this,Qs).toSVGPath()}})}const[a,o,l,c]=e.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=c;break;case 90:{const[p,m]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*m/p,this.height=c*p/m;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=c;break;case 270:{const[p,m]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*m/p,this.height=c*p/m;break}}const{lastPoint:d}=u(this,Qs);w(this,Qc,[(d[0]-a)/l,(d[1]-o)/c])},qE=function(e){const n=(a,o)=>{var l,c;this.color=a,w(this,Pr,o),(l=this.parent)==null||l.drawLayer.updateProperties(u(this,fn),{root:{fill:a,"fill-opacity":o}}),(c=u(this,Jc))==null||c.updateColor(a)},i=this.color,r=u(this,Pr);this.addCommands({cmd:n.bind(this,e,ae._defaultOpacity),undo:n.bind(this,i,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},zE=function(e){const n=u(this,On),i=r=>{w(this,On,r),A(this,Yt,GE).call(this,r)};this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Xt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},GE=function(e){if(!u(this,ds))return;A(this,Yt,dp).call(this,{highlightOutlines:u(this,Rn).getNewOutline(e/2)}),this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)},ub=function(){u(this,fn)===null||!this.parent||(this.parent.drawLayer.remove(u(this,fn)),w(this,fn,null),this.parent.drawLayer.remove(u(this,Ss)),w(this,Ss,null))},lo=function(e=this.parent){u(this,fn)===null&&({id:Rs(this,fn)._,clipPathId:Rs(this,rl)._}=e.drawLayer.draw({bbox:u(this,Rn).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":u(this,Pr)},rootClass:{highlight:!0,free:u(this,ds)},path:{d:u(this,Rn).toSVGPath()}},!1,!0),w(this,Ss,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:u(this,ds)},bbox:u(this,Qs).box,path:{d:u(this,Qs).toSVGPath()}},u(this,ds))),u(this,al)&&(u(this,al).style.clipPath=u(this,rl)))},Nn=new WeakSet,Vl=function([e,n,i,r],a){switch(a){case 90:return[1-n-r,e,r,i];case 180:return[1-e-i,1-n-r,i,r];case 270:return[n,1-e-i,r,i]}return[e,n,i,r]},KE=function(e){ae._keyboardManager.exec(this,e)},hp=function(e){if(!u(this,Xc))return;const n=window.getSelection();e?n.setPosition(u(this,Xc),u(this,Zh)):n.setPosition(u(this,tf),u(this,ef))},rd=function(){return u(this,ds)?this.rotation:0},XE=function(){if(u(this,ds))return null;const[e,n]=this.pageDimensions,[i,r]=this.pageTranslation,a=u(this,kr),o=new Float32Array(a.length*8);let l=0;for(const{x:c,y:d,width:h,height:f}of a){const p=c*e+i,m=(1-d)*n+r;o[l]=o[l+4]=p,o[l+1]=o[l+3]=m,o[l+2]=o[l+6]=p+h*e,o[l+5]=o[l+7]=m-f*n,l+=8}return o},JE=function(e){return u(this,Rn).serialize(e,A(this,Yt,rd).call(this))},QE=function(e,n){this._freeHighlight.add(n)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},ZE=function(e,n){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},tx=function(e){const{color:n}=this._initialData;return e.color.some((i,r)=>i!==n[r])},S(ae,Nn),kt(ae,"_defaultColor",null),kt(ae,"_defaultOpacity",1),kt(ae,"_defaultThickness",12),kt(ae,"_type","highlight"),kt(ae,"_editorType",Vt.HIGHLIGHT),kt(ae,"_freeHighlightId",-1),kt(ae,"_freeHighlight",null),kt(ae,"_freeHighlightClipId","");let Bp=ae;var ol;class bN{constructor(){S(this,ol,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))this.updateProperty(e,n)}updateSVGProperty(t,e){u(this,ol)[t]=e}toSVGProperties(){const t=u(this,ol);return w(this,ol,Object.create(null)),{root:t}}reset(){w(this,ol,Object.create(null))}updateAll(t=this){this.updateProperties(t)}clone(){ge("Not implemented")}}ol=new WeakMap;var pn,tu,se,hb,fb,pb,ad,ex,fp,od,Wl;const Tn=class Tn extends Re{constructor(e){super(e);S(this,se);S(this,pn,null);S(this,tu);kt(this,"_drawId",null);w(this,tu,e.mustBeCommitted||!1),e.drawOutlines&&(A(this,se,hb).call(this,e),A(this,se,ad).call(this))}static _mergeSVGProperties(e,n){const i=new Set(Object.keys(e));for(const[r,a]of Object.entries(n))i.has(r)?Object.assign(e[r],a):e[r]=a;return e}static getDefaultDrawingOptions(e){ge("Not implemented")}static get typesMap(){ge("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,n){const i=this.typesMap.get(e);i&&this._defaultDrawingOptions.updateProperty(i,n),this._currentParent&&(this._currentDraw.updateProperty(i,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,n){const i=this.constructor.typesMap.get(e);i&&this._updateProperty(e,i,n)}static get defaultPropertiesToUpdate(){const e=[],n=this._defaultDrawingOptions;for(const[i,r]of this.typesMap)e.push([i,n[r]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:n}=this;for(const[i,r]of this.constructor.typesMap)e.push([i,n[r]]);return e}_updateProperty(e,n,i){const r=this._drawingOptions,a=r[n],o=l=>{var d;r.updateProperty(n,l);const c=u(this,pn).updateProperty(n,l);c&&A(this,se,od).call(this,c),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,r.toSVGProperties())};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,Tn._mergeSVGProperties(u(this,pn).getPathResizingSVGProperties(A(this,se,fp).call(this)),{bbox:A(this,se,Wl).call(this)}))}_onResized(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,Tn._mergeSVGProperties(u(this,pn).getPathResizedSVGProperties(A(this,se,fp).call(this)),{bbox:A(this,se,Wl).call(this)}))}_onTranslating(e,n){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:A(this,se,Wl).call(this,e,n)})}_onTranslated(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,Tn._mergeSVGProperties(u(this,pn).getPathTranslatedSVGProperties(A(this,se,fp).call(this),this.parentDimensions),{bbox:A(this,se,Wl).call(this)}))}_onStartDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,u(this,tu)&&(w(this,tu,!1),this.commit(),this.parent.setSelected(this),this.isOnScreen&&this.div.focus())}remove(){A(this,se,pb).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(A(this,se,ad).call(this),A(this,se,od).call(this,u(this,pn).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var i;let n=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),A(this,se,pb).call(this)):e&&(this._uiManager.addShouldRescale(this),A(this,se,ad).call(this,e),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(e),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Tn._mergeSVGProperties({bbox:A(this,se,Wl).call(this)},u(this,pn).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&A(this,se,od).call(this,u(this,pn).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;const e=super.render();e.classList.add("draw");const n=document.createElement("div");e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal";const[i,r]=this.parentDimensions;return this.setDims(this.width*i,this.height*r),this._uiManager.addShouldRescale(this),this.disableEditing(),e}static createDrawerInstance(e,n,i,r,a){ge("Not implemented")}static startDrawing(e,n,i,{target:r,offsetX:a,offsetY:o}){var p;const{viewport:{rotation:l}}=e,{width:c,height:d}=r.getBoundingClientRect(),h=new AbortController,f=e.combinedSignal(h);if(window.addEventListener("pointerup",m=>{h.abort(),e.toggleDrawing(!0),this._endDraw(m)},{signal:f}),window.addEventListener("pointerdown",li,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",gi,{signal:f}),r.addEventListener("pointermove",this._drawMove.bind(this),{signal:f}),e.toggleDrawing(),(p=n._editorUndoBar)==null||p.hide(),this._currentDraw){e.drawLayer.updateProperties(this._currentDrawId,this._currentDraw.startNew(a,o,c,d,l));return}n.updateUIForDefaultProperties(this),this._currentDraw=this.createDrawerInstance(a,o,c,d,l),this._currentDrawingOptions=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(this._currentDrawingOptions.toSVGProperties(),this._currentDraw.defaultSVGProperties),!0,!1)}static _drawMove({offsetX:e,offsetY:n}){this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._currentDraw.add(e,n))}static _endDraw({offsetX:e,offsetY:n}){const i=this._currentParent;if(i.drawLayer.updateProperties(this._currentDrawId,this._currentDraw.end(e,n)),this.supportMultipleDrawings){const r=this._currentDraw,a=this._currentDrawId,o=r.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(a,r.setLastElement(o))},undo:()=>{i.drawLayer.updateProperties(a,r.removeLastElement())},mustExec:!1,type:Xt.DRAW_STEP});return}this.endDrawing(!1)}static endDrawing(e){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(Xt.DRAW_STEP),!this._currentDraw.isEmpty()){const{pageDimensions:[i,r],scale:a}=n,o=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:this._currentDraw.getOutlines(i*a,r*a,a,this._INNER_MARGIN),drawingOptions:this._currentDrawingOptions,mustBeCommitted:!e});return this._cleanup(),o}return n.drawLayer.remove(this._currentDrawId),this._cleanup(),null}static _cleanup(){this._currentDrawId=-1,this._currentDraw=null,this._currentDrawingOptions=null,this._currentParent=null}createDrawingOptions(e){}static deserializeDraw(e,n,i,r,a,o){ge("Not implemented")}static async deserialize(e,n,i){var h,f;const{rawDims:{pageWidth:r,pageHeight:a,pageX:o,pageY:l}}=n.viewport,c=this.deserializeDraw(o,l,r,a,this._INNER_MARGIN,e),d=await super.deserialize(e,n,i);return d.createDrawingOptions(e),A(h=d,se,hb).call(h,{drawOutlines:c}),A(f=d,se,ad).call(f),d.onScaleChanging(),d.rotate(),d}serializeDraw(e){const[n,i]=this.pageTranslation,[r,a]=this.pageDimensions;return u(this,pn).serialize([n,i,r,a],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};pn=new WeakMap,tu=new WeakMap,se=new WeakSet,hb=function({drawOutlines:e,drawId:n,drawingOptions:i}){w(this,pn,e),this._drawingOptions||(this._drawingOptions=i),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,e.defaultProperties)):this._drawId=A(this,se,fb).call(this,e,this.parent),A(this,se,od).call(this,e.box)},fb=function(e,n){const{id:i}=n.drawLayer.draw(Tn._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return i},pb=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},ad=function(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=A(this,se,fb).call(this,u(this,pn),e)}},ex=function([e,n,i,r]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[n,1-e,i*(o/a),r*(a/o)];case 180:return[1-e,1-n,i,r];case 270:return[1-n,e,i*(o/a),r*(a/o)];default:return[e,n,i,r]}},fp=function(){const{x:e,y:n,width:i,height:r,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-n,e,i*(a/o),r*(o/a)];case 180:return[1-e,1-n,i,r];case 270:return[n,1-e,i*(a/o),r*(o/a)];default:return[e,n,i,r]}},od=function(e){if([this.x,this.y,this.width,this.height]=A(this,se,ex).call(this,e),this.div){this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)}this._onResized()},Wl=function(){const{x:e,y:n,width:i,height:r,rotation:a,parentRotation:o,parentDimensions:[l,c]}=this;switch((a*4+o)/90){case 1:return[1-n-r,e,r,i];case 2:return[1-e-i,1-n-r,i,r];case 3:return[n,1-e-i,r,i];case 4:return[e,n-i*(l/c),r*(c/l),i*(l/c)];case 5:return[1-n,e,i*(l/c),r*(c/l)];case 6:return[1-e-r*(c/l),1-n,r*(c/l),i*(l/c)];case 7:return[n-i*(l/c),1-e-r*(c/l),i*(l/c),r*(c/l)];case 8:return[e-i,n-r,i,r];case 9:return[1-n,e-i,r,i];case 10:return[1-e,1-n,i,r];case 11:return[n-r,1-e,r,i];case 12:return[e-r*(c/l),n,r*(c/l),i*(l/c)];case 13:return[1-n-i*(l/c),e-r*(c/l),i*(l/c),r*(c/l)];case 14:return[1-e,1-n-i*(l/c),r*(c/l),i*(l/c)];case 15:return[n,1-e,i*(l/c),r*(c/l)];default:return[e,n,i,r]}},kt(Tn,"_currentDrawId",-1),kt(Tn,"_currentDraw",null),kt(Tn,"_currentDrawingOptions",null),kt(Tn,"_currentParent",null),kt(Tn,"_INNER_MARGIN",3);let db=Tn;var Bi,is,rs,ll,eu,Zs,hs,In,cl,ul,dl,su,pp;class yN{constructor(t,e,n,i,r,a){S(this,su);S(this,Bi,new Float64Array(6));S(this,is);S(this,rs);S(this,ll);S(this,eu);S(this,Zs);S(this,hs,"");S(this,In,0);S(this,cl,new Hp);S(this,ul);S(this,dl);w(this,ul,n),w(this,dl,i),w(this,ll,r),w(this,eu,a),[t,e]=A(this,su,pp).call(this,t,e);const o=w(this,is,[NaN,NaN,NaN,NaN,t,e]);w(this,Zs,[t,e]),w(this,rs,[{line:o,points:u(this,Zs)}]),u(this,Bi).set(o,0)}updateProperty(t,e){t==="stroke-width"&&w(this,eu,e)}isEmpty(){return!u(this,rs)||u(this,rs).length===0}add(t,e){[t,e]=A(this,su,pp).call(this,t,e);const[n,i,r,a]=u(this,Bi).subarray(2,6),o=t-r,l=e-a;return Math.hypot(u(this,ul)*o,u(this,dl)*l)<=2?null:(u(this,Zs).push(t,e),isNaN(n)?(u(this,Bi).set([r,a,t,e],2),u(this,is).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(u(this,Bi)[0])&&u(this,is).splice(6,6),u(this,Bi).set([n,i,r,a,t,e],0),u(this,is).push(...yt.createBezierPoints(n,i,r,a,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(u(this,Zs).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,i,r){w(this,ul,n),w(this,dl,i),w(this,ll,r),[t,e]=A(this,su,pp).call(this,t,e);const a=w(this,is,[NaN,NaN,NaN,NaN,t,e]);w(this,Zs,[t,e]);const o=u(this,rs).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),u(this,rs).push({line:a,points:u(this,Zs)}),u(this,Bi).set(a,0),w(this,In,0),this.toSVGPath(),null}getLastElement(){return u(this,rs).at(-1)}setLastElement(t){return u(this,rs)?(u(this,rs).push(t),w(this,is,t.line),w(this,Zs,t.points),w(this,In,0),{path:{d:this.toSVGPath()}}):u(this,cl).setLastElement(t)}removeLastElement(){if(!u(this,rs))return u(this,cl).removeLastElement();u(this,rs).pop(),w(this,hs,"");for(let t=0,e=u(this,rs).length;t<e;t++){const{line:n,points:i}=u(this,rs)[t];w(this,is,n),w(this,Zs,i),w(this,In,0),this.toSVGPath()}return{path:{d:u(this,hs)}}}toSVGPath(){const t=yt.svgRound(u(this,is)[4]),e=yt.svgRound(u(this,is)[5]);if(u(this,Zs).length===2)return w(this,hs,`${u(this,hs)} M ${t} ${e} Z`),u(this,hs);if(u(this,Zs).length<=6){const i=u(this,hs).lastIndexOf("M");w(this,hs,`${u(this,hs).slice(0,i)} M ${t} ${e}`),w(this,In,6)}if(u(this,Zs).length===4){const i=yt.svgRound(u(this,is)[10]),r=yt.svgRound(u(this,is)[11]);return w(this,hs,`${u(this,hs)} L ${i} ${r}`),w(this,In,12),u(this,hs)}const n=[];u(this,In)===0&&(n.push(`M ${t} ${e}`),w(this,In,6));for(let i=u(this,In),r=u(this,is).length;i<r;i+=6){const[a,o,l,c,d,h]=u(this,is).slice(i,i+6).map(yt.svgRound);n.push(`C${a} ${o} ${l} ${c} ${d} ${h}`)}return w(this,hs,u(this,hs)+n.join(" ")),w(this,In,u(this,is).length),u(this,hs)}getOutlines(t,e,n,i){const r=u(this,rs).at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),u(this,cl).build(u(this,rs),t,e,n,u(this,ll),u(this,eu),i),w(this,Bi,null),w(this,is,null),w(this,rs,null),w(this,hs,null),u(this,cl)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Bi=new WeakMap,is=new WeakMap,rs=new WeakMap,ll=new WeakMap,eu=new WeakMap,Zs=new WeakMap,hs=new WeakMap,In=new WeakMap,cl=new WeakMap,ul=new WeakMap,dl=new WeakMap,su=new WeakSet,pp=function(t,e){return yt._normalizePoint(t,e,u(this,ul),u(this,dl),u(this,ll))};var Ls,nf,rf,mn,Hi,Ui,nu,iu,ru,ps,cr,sx,nx,ix;const tw=class tw extends yt{constructor(){super(...arguments);S(this,ps);S(this,Ls);S(this,nf,0);S(this,rf);S(this,mn);S(this,Hi);S(this,Ui);S(this,nu);S(this,iu);S(this,ru)}build(e,n,i,r,a,o,l){w(this,Hi,n),w(this,Ui,i),w(this,nu,r),w(this,iu,a),w(this,ru,o),w(this,rf,l??0),w(this,mn,e),A(this,ps,nx).call(this)}setLastElement(e){return u(this,mn).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return u(this,mn).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:n}of u(this,mn)){if(e.push(`M${yt.svgRound(n[4])} ${yt.svgRound(n[5])}`),n.length===6){e.push("Z");continue}if(n.length===12){e.push(`L${yt.svgRound(n[10])} ${yt.svgRound(n[11])}`);continue}for(let i=6,r=n.length;i<r;i+=6){const[a,o,l,c,d,h]=n.subarray(i,i+6).map(yt.svgRound);e.push(`C${a} ${o} ${l} ${c} ${d} ${h}`)}}return e.join("")}serialize([e,n,i,r],a){const o=[],l=[],[c,d,h,f]=A(this,ps,sx).call(this);let p,m,v,b,y,E,C,x,D;switch(u(this,iu)){case 0:D=yt._rescale,p=e,m=n+r,v=i,b=-r,y=e+c*i,E=n+(1-d-f)*r,C=e+(c+h)*i,x=n+(1-d)*r;break;case 90:D=yt._rescaleAndSwap,p=e,m=n,v=i,b=r,y=e+d*i,E=n+c*r,C=e+(d+f)*i,x=n+(c+h)*r;break;case 180:D=yt._rescale,p=e+i,m=n,v=-i,b=r,y=e+(1-c-h)*i,E=n+d*r,C=e+(1-c)*i,x=n+(d+f)*r;break;case 270:D=yt._rescaleAndSwap,p=e+i,m=n+r,v=-i,b=-r,y=e+(1-d-f)*i,E=n+(1-c-h)*r,C=e+(1-d)*i,x=n+(1-c)*r;break}for(const{line:M,points:P}of u(this,mn))o.push(D(M,p,m,v,b,a?new Array(M.length):null)),l.push(D(P,p,m,v,b,a?new Array(P.length):null));return{lines:o,points:l,rect:[y,E,C,x]}}static deserialize(e,n,i,r,a,{paths:{lines:o,points:l},rotation:c,thickness:d}){const h=[];let f,p,m,v,b;switch(c){case 0:b=yt._rescale,f=-e/i,p=n/r+1,m=1/i,v=-1/r;break;case 90:b=yt._rescaleAndSwap,f=-n/r,p=-e/i,m=1/r,v=1/i;break;case 180:b=yt._rescale,f=e/i+1,p=-n/r,m=-1/i,v=1/r;break;case 270:b=yt._rescaleAndSwap,f=n/r+1,p=e/i+1,m=-1/r,v=-1/i;break}if(!o){o=[];for(const E of l){const C=E.length;if(C===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1]]));continue}if(C===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1],NaN,NaN,NaN,NaN,E[2],E[3]]));continue}const x=new Float32Array(3*(C-2));o.push(x);let[D,M,P,H]=E.subarray(0,4);x.set([NaN,NaN,NaN,NaN,D,M],0);for(let F=4;F<C;F+=2){const Z=E[F],Y=E[F+1];x.set(yt.createBezierPoints(D,M,P,H,Z,Y),(F-2)*3),[D,M,P,H]=[P,H,Z,Y]}}}for(let E=0,C=o.length;E<C;E++)h.push({line:b(o[E].map(x=>x??NaN),f,p,m,v),points:b(l[E].map(x=>x??NaN),f,p,m,v)});const y=new tw;return y.build(h,i,r,1,c,d,a),y}get box(){return u(this,Ls)}updateProperty(e,n){return e==="stroke-width"?A(this,ps,ix).call(this,n):null}updateParentDimensions([e,n],i){const[r,a]=A(this,ps,cr).call(this);w(this,Hi,e),w(this,Ui,n),w(this,nu,i);const[o,l]=A(this,ps,cr).call(this),c=o-r,d=l-a,h=u(this,Ls);return h[0]-=c,h[1]-=d,h[2]+=2*c,h[3]+=2*d,h}updateRotation(e){return w(this,nf,e),{path:{transform:this.rotationTransform}}}get viewBox(){return u(this,Ls).map(yt.svgRound).join(" ")}get defaultProperties(){const[e,n]=u(this,Ls);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${yt.svgRound(e)} ${yt.svgRound(n)}`}}}get rotationTransform(){const[,,e,n]=u(this,Ls);let i=0,r=0,a=0,o=0,l=0,c=0;switch(u(this,nf)){case 90:r=n/e,a=-e/n,l=e;break;case 180:i=-1,o=-1,l=e,c=n;break;case 270:r=-n/e,a=e/n,c=n;break;default:return""}return`matrix(${i} ${r} ${a} ${o} ${yt.svgRound(l)} ${yt.svgRound(c)})`}getPathResizingSVGProperties([e,n,i,r]){const[a,o]=A(this,ps,cr).call(this),[l,c,d,h]=u(this,Ls);if(Math.abs(d-a)<=yt.PRECISION||Math.abs(h-o)<=yt.PRECISION){const b=e+i/2-(l+d/2),y=n+r/2-(c+h/2);return{path:{"transform-origin":`${yt.svgRound(e)} ${yt.svgRound(n)}`,transform:`${this.rotationTransform} translate(${b} ${y})`}}}const f=(i-2*a)/(d-2*a),p=(r-2*o)/(h-2*o),m=d/i,v=h/r;return{path:{"transform-origin":`${yt.svgRound(l)} ${yt.svgRound(c)}`,transform:`${this.rotationTransform} scale(${m} ${v}) translate(${yt.svgRound(a)} ${yt.svgRound(o)}) scale(${f} ${p}) translate(${yt.svgRound(-a)} ${yt.svgRound(-o)})`}}}getPathResizedSVGProperties([e,n,i,r]){const[a,o]=A(this,ps,cr).call(this),l=u(this,Ls),[c,d,h,f]=l;if(l[0]=e,l[1]=n,l[2]=i,l[3]=r,Math.abs(h-a)<=yt.PRECISION||Math.abs(f-o)<=yt.PRECISION){const y=e+i/2-(c+h/2),E=n+r/2-(d+f/2);for(const{line:C,points:x}of u(this,mn))yt._translate(C,y,E,C),yt._translate(x,y,E,x);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${yt.svgRound(e)} ${yt.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(i-2*a)/(h-2*a),m=(r-2*o)/(f-2*o),v=-p*(c+a)+e+a,b=-m*(d+o)+n+o;if(p!==1||m!==1||v!==0||b!==0)for(const{line:y,points:E}of u(this,mn))yt._rescale(y,v,b,p,m,y),yt._rescale(E,v,b,p,m,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${yt.svgRound(e)} ${yt.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,n],i){const[r,a]=i,o=u(this,Ls),l=e-o[0],c=n-o[1];if(u(this,Hi)===r&&u(this,Ui)===a)for(const{line:d,points:h}of u(this,mn))yt._translate(d,l,c,d),yt._translate(h,l,c,h);else{const d=u(this,Hi)/r,h=u(this,Ui)/a;w(this,Hi,r),w(this,Ui,a);for(const{line:f,points:p}of u(this,mn))yt._rescale(f,l,c,d,h,f),yt._rescale(p,l,c,d,h,p);o[2]*=d,o[3]*=h}return o[0]=e,o[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${yt.svgRound(e)} ${yt.svgRound(n)}`}}}get defaultSVGProperties(){const e=u(this,Ls);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${yt.svgRound(e[0])} ${yt.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}};Ls=new WeakMap,nf=new WeakMap,rf=new WeakMap,mn=new WeakMap,Hi=new WeakMap,Ui=new WeakMap,nu=new WeakMap,iu=new WeakMap,ru=new WeakMap,ps=new WeakSet,cr=function(e=u(this,ru)){const n=u(this,rf)+e/2*u(this,nu);return u(this,iu)%180===0?[n/u(this,Hi),n/u(this,Ui)]:[n/u(this,Ui),n/u(this,Hi)]},sx=function(){const[e,n,i,r]=u(this,Ls),[a,o]=A(this,ps,cr).call(this,0);return[e+a,n+o,i-2*a,r-2*o]},nx=function(){const e=w(this,Ls,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:r}of u(this,mn)){if(r.length<=12){for(let l=4,c=r.length;l<c;l+=6){const[d,h]=r.subarray(l,l+2);e[0]=Math.min(e[0],d),e[1]=Math.min(e[1],h),e[2]=Math.max(e[2],d),e[3]=Math.max(e[3],h)}continue}let a=r[4],o=r[5];for(let l=6,c=r.length;l<c;l+=6){const[d,h,f,p,m,v]=r.subarray(l,l+6);xt.bezierBoundingBox(a,o,d,h,f,p,m,v,e),a=m,o=v}}const[n,i]=A(this,ps,cr).call(this);e[0]=Math.min(1,Math.max(0,e[0]-n)),e[1]=Math.min(1,Math.max(0,e[1]-i)),e[2]=Math.min(1,Math.max(0,e[2]+n)),e[3]=Math.min(1,Math.max(0,e[3]+i)),e[2]-=e[0],e[3]-=e[1]},ix=function(e){const[n,i]=A(this,ps,cr).call(this);w(this,ru,e);const[r,a]=A(this,ps,cr).call(this),[o,l]=[r-n,a-i],c=u(this,Ls);return c[0]-=o,c[1]-=l,c[2]+=2*o,c[3]+=2*l,c};let Hp=tw;var au;const ew=class ew extends bN{constructor(e){super();S(this,au);w(this,au,e),super.updateProperties({fill:"none",stroke:Re._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,n){e==="stroke-width"&&(n??(n=this["stroke-width"]),n*=u(this,au).realScale),super.updateSVGProperty(e,n)}clone(){const e=new ew(u(this,au));return e.updateAll(this),e}};au=new WeakMap;let mb=ew;var bm,rx;const Kl=class Kl extends db{constructor(e){super({...e,name:"inkEditor"});S(this,bm);this._willKeepAspectRatio=!0}static initialize(e,n){Re.initialize(e,n),this._defaultDrawingOptions=new mb(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return Gt(this,"typesMap",new Map([[Xt.INK_THICKNESS,"stroke-width"],[Xt.INK_COLOR,"stroke"],[Xt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,n,i,r,a){return new yN(e,n,i,r,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,n,i,r,a,o){return Hp.deserialize(e,n,i,r,a,o)}static async deserialize(e,n,i){let r=null;if(e instanceof _y){const{data:{inkLists:o,rect:l,rotation:c,id:d,color:h,opacity:f,borderStyle:{rawWidth:p},popupRef:m},parent:{page:{pageNumber:v}}}=e;r=e={annotationType:Vt.INK,color:Array.from(h),thickness:p,opacity:f,paths:{points:o},boxes:null,pageIndex:v-1,rect:l.slice(0),rotation:c,id:d,deleted:!1,popupRef:m}}const a=await super.deserialize(e,n,i);return a.annotationElementId=e.id||null,a._initialData=r,a}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:n,parent:i}=this;n.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(e,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:n,opacity:i}){this._drawingOptions=Kl.getDefaultDrawingOptions({stroke:xt.makeHexColor(...e),"stroke-width":n,"stroke-opacity":i})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:i,rect:r}=this.serializeDraw(e),{_drawingOptions:{stroke:a,"stroke-opacity":o,"stroke-width":l}}=this,c={annotationType:Vt.INK,color:Re._colorManager.convert(a),opacity:o,thickness:l,paths:{lines:n,points:i},pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?c:this.annotationElementId&&!A(this,bm,rx).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(e){const{points:n,rect:i}=this.serializeDraw(!1);return e.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:n}),null}};bm=new WeakSet,rx=function(e){const{color:n,thickness:i,opacity:r,pageIndex:a}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||e.color.some((o,l)=>o!==n[l])||e.thickness!==i||e.opacity!==r||e.pageIndex!==a},kt(Kl,"_type","ink"),kt(Kl,"_editorType",Vt.INK),kt(Kl,"_defaultDrawingOptions",null);let gb=Kl;var Pe,fs,Ma,Mr,Ra,ou,ji,Rr,Yi,gn,lu,Kt,ld,cd,mp,bb,ax,gp,yb,vp,ox,lx;const Sd=class Sd extends Re{constructor(e){super({...e,name:"stampEditor"});S(this,Kt);S(this,Pe,null);S(this,fs,null);S(this,Ma,null);S(this,Mr,null);S(this,Ra,null);S(this,ou,"");S(this,ji,null);S(this,Rr,null);S(this,Yi,null);S(this,gn,!1);S(this,lu,!1);w(this,Mr,e.bitmapUrl),w(this,Ra,e.bitmapFile)}static initialize(e,n){Re.initialize(e,n)}static get supportedTypes(){return Gt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Gt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,n){n.pasteEditor(Vt.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const n=e.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(e=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:a,height:o}=e||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:r,width:a,height:o,channels:r.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),n&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var e,n;u(this,fs)&&(w(this,Pe,null),this._uiManager.imageManager.deleteId(u(this,fs)),(e=u(this,ji))==null||e.remove(),w(this,ji,null),(n=u(this,Rr))==null||n.disconnect(),w(this,Rr,null),u(this,Yi)&&(clearTimeout(u(this,Yi)),w(this,Yi,null))),super.remove()}rebuild(){if(!this.parent){u(this,fs)&&A(this,Kt,mp).call(this);return}super.rebuild(),this.div!==null&&(u(this,fs)&&u(this,ji)===null&&A(this,Kt,mp).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(u(this,Ma)||u(this,Pe)||u(this,Mr)||u(this,Ra)||u(this,fs))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;if(this.width&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),u(this,Pe)?A(this,Kt,bb).call(this):A(this,Kt,mp).call(this),this.width&&!this.annotationElementId){const[i,r]=this.parentDimensions;this.setAt(e*i,n*r,this.width*i,this.height*r)}return this.div}copyCanvas(e,n,i=!1){var p;e||(e=224);const{width:r,height:a}=u(this,Pe),o=new mv;let l=u(this,Pe),c=r,d=a,h=null;if(n){if(r>n||a>n){const H=Math.min(n/r,n/a);c=Math.floor(r*H),d=Math.floor(a*H)}h=document.createElement("canvas");const m=h.width=Math.ceil(c*o.sx),v=h.height=Math.ceil(d*o.sy);u(this,gn)||(l=A(this,Kt,gp).call(this,m,v));const b=h.getContext("2d");b.filter=this._uiManager.hcmFilter;let y="white",E="#cfcfd8";this._uiManager.hcmFilter!=="none"?E="black":(p=window.matchMedia)!=null&&p.call(window,"(prefers-color-scheme: dark)").matches&&(y="#8f8f9d",E="#42414d");const C=15,x=C*o.sx,D=C*o.sy,M=new OffscreenCanvas(x*2,D*2),P=M.getContext("2d");P.fillStyle=y,P.fillRect(0,0,x*2,D*2),P.fillStyle=E,P.fillRect(0,0,x,D),P.fillRect(x,D,x,D),b.fillStyle=b.createPattern(M,"repeat"),b.fillRect(0,0,m,v),b.drawImage(l,0,0,l.width,l.height,0,0,m,v)}let f=null;if(i){let m,v;if(o.symmetric&&l.width<e&&l.height<e)m=l.width,v=l.height;else if(l=u(this,Pe),r>e||a>e){const E=Math.min(e/r,e/a);m=Math.floor(r*E),v=Math.floor(a*E),u(this,gn)||(l=A(this,Kt,gp).call(this,m,v))}const y=new OffscreenCanvas(m,v).getContext("2d",{willReadFrequently:!0});y.drawImage(l,0,0,l.width,l.height,0,0,m,v),f={width:m,height:v,data:y.getImageData(0,0,m,v).data}}return{canvas:h,width:c,height:d,imageData:f}}getImageForAltText(){return u(this,ji)}static async deserialize(e,n,i){var v;let r=null;if(e instanceof TE){const{data:{rect:b,rotation:y,id:E,structParent:C,popupRef:x},container:D,parent:{page:{pageNumber:M}}}=e,P=D.querySelector("canvas"),H=i.imageManager.getFromCanvas(D.id,P);P.remove();const F=((v=await n._structTree.getAriaAttributes(`${fy}${E}`))==null?void 0:v.get("aria-label"))||"";r=e={annotationType:Vt.STAMP,bitmapId:H.id,bitmap:H.bitmap,pageIndex:M-1,rect:b.slice(0),rotation:y,id:E,deleted:!1,accessibilityData:{decorative:!1,altText:F},isSvg:!1,structParent:C,popupRef:x}}const a=await super.deserialize(e,n,i),{rect:o,bitmap:l,bitmapUrl:c,bitmapId:d,isSvg:h,accessibilityData:f}=e;d&&i.imageManager.isValidId(d)?(w(a,fs,d),l&&w(a,Pe,l)):w(a,Mr,c),w(a,gn,h);const[p,m]=a.pageDimensions;return a.width=(o[2]-o[0])/p,a.height=(o[3]-o[1])/m,a.annotationElementId=e.id||null,f&&(a.altTextData=f),a._initialData=r,w(a,lu,!!r),a}serialize(e=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:Vt.STAMP,bitmapId:u(this,fs),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:u(this,gn),structTreeParentId:this._structTreeParentId};if(e)return i.bitmapUrl=A(this,Kt,vp).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:r,altText:a}=this.serializeAltText(!1);if(!r&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=A(this,Kt,lx).call(this,i);if(l.isSame)return null;l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,n===null)return i;n.stamps||(n.stamps=new Map);const o=u(this,gn)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(u(this,fs)))n.stamps.set(u(this,fs),{area:o,serialized:i}),i.bitmap=A(this,Kt,vp).call(this,!1);else if(u(this,gn)){const l=n.stamps.get(u(this,fs));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=A(this,Kt,vp).call(this,!1))}return i}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};Pe=new WeakMap,fs=new WeakMap,Ma=new WeakMap,Mr=new WeakMap,Ra=new WeakMap,ou=new WeakMap,ji=new WeakMap,Rr=new WeakMap,Yi=new WeakMap,gn=new WeakMap,lu=new WeakMap,Kt=new WeakSet,ld=function(e,n=!1){if(!e){this.remove();return}w(this,Pe,e.bitmap),n||(w(this,fs,e.id),w(this,gn,e.isSvg)),e.file&&w(this,ou,e.file.name),A(this,Kt,bb).call(this)},cd=function(){if(w(this,Ma,null),this._uiManager.enableWaiting(!1),!!u(this,ji)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,Pe)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,Pe)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},mp=function(){if(u(this,fs)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,fs)).then(i=>A(this,Kt,ld).call(this,i,!0)).finally(()=>A(this,Kt,cd).call(this));return}if(u(this,Mr)){const i=u(this,Mr);w(this,Mr,null),this._uiManager.enableWaiting(!0),w(this,Ma,this._uiManager.imageManager.getFromUrl(i).then(r=>A(this,Kt,ld).call(this,r)).finally(()=>A(this,Kt,cd).call(this)));return}if(u(this,Ra)){const i=u(this,Ra);w(this,Ra,null),this._uiManager.enableWaiting(!0),w(this,Ma,this._uiManager.imageManager.getFromFile(i).then(r=>A(this,Kt,ld).call(this,r)).finally(()=>A(this,Kt,cd).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=Sd.supportedTypesStr;const n=this._uiManager._signal;w(this,Ma,new Promise(i=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),A(this,Kt,ld).call(this,r)}i()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>A(this,Kt,cd).call(this))),e.click()},bb=function(){const{div:e}=this;let{width:n,height:i}=u(this,Pe);const[r,a]=this.pageDimensions,o=.75;if(this.width)n=this.width*r,i=this.height*a;else if(n>o*r||i>o*a){const h=Math.min(o*r/n,o*a/i);n*=h,i*=h}const[l,c]=this.parentDimensions;this.setDims(n*l/r,i*c/a),this._uiManager.enableWaiting(!1);const d=w(this,ji,document.createElement("canvas"));d.setAttribute("role","img"),this.addContainer(d),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),A(this,Kt,yb).call(this,n,i),A(this,Kt,ox).call(this),u(this,lu)||(this.parent.addUndoableEditor(this),w(this,lu,!0)),this._reportTelemetry({action:"inserted_image"}),u(this,ou)&&d.setAttribute("aria-label",u(this,ou))},ax=function(e,n){var o;const[i,r]=this.parentDimensions;this.width=e/i,this.height=n/r,(o=this._initialOptions)!=null&&o.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,u(this,Yi)!==null&&clearTimeout(u(this,Yi)),w(this,Yi,setTimeout(()=>{w(this,Yi,null),A(this,Kt,yb).call(this,e,n)},200))},gp=function(e,n){const{width:i,height:r}=u(this,Pe);let a=i,o=r,l=u(this,Pe);for(;a>2*e||o>2*n;){const c=a,d=o;a>2*e&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const h=new OffscreenCanvas(a,o);h.getContext("2d").drawImage(l,0,0,c,d,0,0,a,o),l=h.transferToImageBitmap()}return l},yb=function(e,n){const i=new mv,r=Math.ceil(e*i.sx),a=Math.ceil(n*i.sy),o=u(this,ji);if(!o||o.width===r&&o.height===a)return;o.width=r,o.height=a;const l=u(this,gn)?u(this,Pe):A(this,Kt,gp).call(this,r,a),c=o.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(l,0,0,l.width,l.height,0,0,r,a)},vp=function(e){if(e){if(u(this,gn)){const r=this._uiManager.imageManager.getSvgUrl(u(this,fs));if(r)return r}const n=document.createElement("canvas");return{width:n.width,height:n.height}=u(this,Pe),n.getContext("2d").drawImage(u(this,Pe),0,0),n.toDataURL()}if(u(this,gn)){const[n,i]=this.pageDimensions,r=Math.round(this.width*n*ja.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*ja.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(r,a);return o.getContext("2d").drawImage(u(this,Pe),0,0,u(this,Pe).width,u(this,Pe).height,0,0,r,a),o.transferToImageBitmap()}return structuredClone(u(this,Pe))},ox=function(){this._uiManager._signal&&(w(this,Rr,new ResizeObserver(e=>{const n=e[0].contentRect;n.width&&n.height&&A(this,Kt,ax).call(this,n.width,n.height)})),u(this,Rr).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=u(this,Rr))==null||e.disconnect(),w(this,Rr,null)},{once:!0}))},lx=function(e){var o;const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,r=e.pageIndex===n,a=(((o=e.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&r&&a,isSameAltText:a}},kt(Sd,"_type","stamp"),kt(Sd,"_editorType",Vt.STAMP);let vb=Sd;var hl,cu,Vi,Oa,Or,$n,Ia,uu,ai,Es,Ir,St,$a,Ce,cx,xi,_b,Ab,bp;const zn=class zn{constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:i,accessibilityManager:r,annotationLayer:a,drawLayer:o,textLayer:l,viewport:c,l10n:d}){S(this,Ce);S(this,hl);S(this,cu,!1);S(this,Vi,null);S(this,Oa,null);S(this,Or,null);S(this,$n,new Map);S(this,Ia,!1);S(this,uu,!1);S(this,ai,null);S(this,Es,null);S(this,Ir,null);S(this,St);const h=[...u(zn,$a).values()];if(!zn._initialized){zn._initialized=!0;for(const f of h)f.initialize(d,t)}t.registerEditorTypes(h),w(this,St,t),this.pageIndex=e,this.div=n,w(this,hl,r),w(this,Vi,a),this.viewport=c,w(this,Es,l),this.drawLayer=o,this._structTree=i,u(this,St).addLayer(this)}get isEmpty(){return u(this,$n).size===0}get isInvisible(){return this.isEmpty&&u(this,St).getMode()===Vt.NONE}updateToolbar(t){u(this,St).updateToolbar(t)}updateMode(t=u(this,St).getMode()){switch(A(this,Ce,bp).call(this),t){case Vt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Vt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Vt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of u(zn,$a).values())e.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=u(this,Es))==null?void 0:e.div)}setEditingState(t){u(this,St).setEditingState(t)}addCommands(t){u(this,St).addCommands(t)}cleanUndoStack(t){u(this,St).cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=u(this,Vi))==null||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const n of u(this,$n).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(u(this,St).removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!u(this,Vi))return;const e=u(this,Vi).getEditableAnnotations();for(const n of e){if(n.hide(),u(this,St).isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const i=await this.deserialize(n);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;w(this,uu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const r of u(this,$n).values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){t.set(r.annotationElementId,r);continue}else e.set(r.annotationElementId,r);(i=this.getEditableAnnotation(r.annotationElementId))==null||i.show(),r.remove()}if(u(this,Vi)){const r=u(this,Vi).getEditableAnnotations();for(const a of r){const{id:o}=a.data;if(u(this,St).isDeletedAnnotationElement(o))continue;let l=e.get(o);if(l){l.resetAnnotationElement(a),l.show(!1),a.show();continue}l=t.get(o),l&&(u(this,St).addChangedExistingAnnotation(l),l.renderAnnotationElement(a)&&l.show(!1)),a.show()}}A(this,Ce,bp).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const r of u(zn,$a).values())n.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),w(this,uu,!1)}getEditableAnnotation(t){var e;return((e=u(this,Vi))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){u(this,St).getActive()!==t&&u(this,St).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=u(this,Es))!=null&&t.div&&!u(this,Ir)){w(this,Ir,new AbortController);const e=u(this,St).combinedSignal(u(this,Ir));u(this,Es).div.addEventListener("pointerdown",A(this,Ce,cx).bind(this),{signal:e}),u(this,Es).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=u(this,Es))!=null&&t.div&&u(this,Ir)&&(u(this,Ir).abort(),w(this,Ir,null),u(this,Es).div.classList.remove("highlighting"))}enableClick(){if(u(this,Oa))return;w(this,Oa,new AbortController);const t=u(this,St).combinedSignal(u(this,Oa));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;(t=u(this,Oa))==null||t.abort(),w(this,Oa,null)}attach(t){u(this,$n).set(t.id,t);const{annotationElementId:e}=t;e&&u(this,St).isDeletedAnnotationElement(e)&&u(this,St).removeDeletedAnnotationElement(t)}detach(t){var e;u(this,$n).delete(t.id),(e=u(this,hl))==null||e.removePointerInTextLayer(t.contentDiv),!u(this,uu)&&t.annotationElementId&&u(this,St).addDeletedAnnotationElement(t)}remove(t){this.detach(t),u(this,St).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(u(this,St).addDeletedAnnotationElement(t.annotationElementId),Re.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),u(this,St).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),u(this,St).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var n;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!u(this,Or)&&(t._focusEventsAllowed=!1,w(this,Or,setTimeout(()=>{w(this,Or,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:u(this,St)._signal}),e.focus())},0))),t._structTreeParentId=(n=u(this,hl))==null?void 0:n.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getNextId(){return u(this,St).getId()}combinedSignal(t){return u(this,St).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=u(this,Ce,xi))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){u(this,St).updateToolbar(t),u(this,St).updateMode(t);const{offsetX:n,offsetY:i}=A(this,Ce,Ab).call(this),r=this.getNextId(),a=A(this,Ce,_b).call(this,{parent:this,id:r,x:n,y:i,uiManager:u(this,St),isCentered:!0,...e});a&&this.add(a)}async deserialize(t){var e;return await((e=u(zn,$a).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,u(this,St)))||null}createAndAddNewEditor(t,e,n={}){const i=this.getNextId(),r=A(this,Ce,_b).call(this,{parent:this,id:i,x:t.offsetX,y:t.offsetY,uiManager:u(this,St),isCentered:e,...n});return r&&this.add(r),r}addNewEditor(){this.createAndAddNewEditor(A(this,Ce,Ab).call(this),!0)}setSelected(t){u(this,St).setSelected(t)}toggleSelected(t){u(this,St).toggleSelected(t)}unselect(t){u(this,St).unselect(t)}pointerup(t){var n;const{isMac:e}=Ys.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&u(this,Ia)&&(w(this,Ia,!1),!((n=u(this,Ce,xi))!=null&&n.isDrawer&&u(this,Ce,xi).supportMultipleDrawings))){if(!u(this,cu)){w(this,cu,!0);return}if(u(this,St).getMode()===Vt.STAMP){u(this,St).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){var i;if(u(this,St).getMode()===Vt.HIGHLIGHT&&this.enableTextSelection(),u(this,Ia)){w(this,Ia,!1);return}const{isMac:e}=Ys.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(w(this,Ia,!0),(i=u(this,Ce,xi))!=null&&i.isDrawer){this.startDrawingSession(t);return}const n=u(this,St).getActive();w(this,cu,!n||n.isEmpty())}startDrawingSession(t){if(this.div.focus(),u(this,ai)){u(this,Ce,xi).startDrawing(this,u(this,St),!1,t);return}u(this,St).setCurrentDrawingSession(this),w(this,ai,new AbortController);const e=u(this,St).combinedSignal(u(this,ai));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&this.commitOrRemove()},{signal:e}),u(this,Ce,xi).startDrawing(this,u(this,St),!1,t)}endDrawingSession(t=!1){return u(this,ai)?(u(this,St).setCurrentDrawingSession(null),u(this,ai).abort(),w(this,ai,null),u(this,Ce,xi).endDrawing(t)):null}findNewParent(t,e,n){const i=u(this,St).findParent(e,n);return i===null||i===this?!1:(i.changeParent(t),!0)}commitOrRemove(){return u(this,ai)?(this.endDrawingSession(),!0):!1}onScaleChanging(){u(this,ai)&&u(this,Ce,xi).onScaleChangingWhenDrawing(this)}destroy(){var t,e;this.commitOrRemove(),((t=u(this,St).getActive())==null?void 0:t.parent)===this&&(u(this,St).commitOrRemove(),u(this,St).setActiveEditor(null)),u(this,Or)&&(clearTimeout(u(this,Or)),w(this,Or,null));for(const n of u(this,$n).values())(e=u(this,hl))==null||e.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,u(this,$n).clear(),u(this,St).removeLayer(this)}render({viewport:t}){this.viewport=t,wl(this.div,t);for(const e of u(this,St).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){u(this,St).commitOrRemove(),A(this,Ce,bp).call(this);const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,wl(this.div,{rotation:n}),e!==n)for(const i of u(this,$n).values())i.rotate(n)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return u(this,St).viewParameters.realScale}};hl=new WeakMap,cu=new WeakMap,Vi=new WeakMap,Oa=new WeakMap,Or=new WeakMap,$n=new WeakMap,Ia=new WeakMap,uu=new WeakMap,ai=new WeakMap,Es=new WeakMap,Ir=new WeakMap,St=new WeakMap,$a=new WeakMap,Ce=new WeakSet,cx=function(t){u(this,St).unselectAll();const{target:e}=t;if(e===u(this,Es).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&u(this,Es).div.contains(e)){const{isMac:n}=Ys.platform;if(t.button!==0||t.ctrlKey&&n)return;u(this,St).showAllEditors("highlight",!0,!0),u(this,Es).div.classList.add("free"),this.toggleDrawing(),Bp.startHighlighting(this,u(this,St).direction==="ltr",{target:u(this,Es).div,x:t.x,y:t.y}),u(this,Es).div.addEventListener("pointerup",()=>{u(this,Es).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:u(this,St)._signal}),t.preventDefault()}},xi=function(){return u(zn,$a).get(u(this,St).getMode())},_b=function(t){const e=u(this,Ce,xi);return e?new e.prototype.constructor(t):null},Ab=function(){const{x:t,y:e,width:n,height:i}=this.div.getBoundingClientRect(),r=Math.max(0,t),a=Math.max(0,e),o=Math.min(window.innerWidth,t+n),l=Math.min(window.innerHeight,e+i),c=(r+o)/2-t,d=(a+l)/2-e,[h,f]=this.viewport.rotation%180===0?[c,d]:[d,c];return{offsetX:h,offsetY:f}},bp=function(){for(const t of u(this,$n).values())t.isEmpty()&&t.remove()},kt(zn,"_initialized",!1),S(zn,$a,new Map([eb,gb,vb,Bp].map(t=>[t._editorType,t])));let wb=zn;var oi,af,Ns,fl,ym,ux,Qi,Eb,dx,xb;const ws=class ws{constructor({pageIndex:t}){S(this,Qi);S(this,oi,null);S(this,af,0);S(this,Ns,new Map);S(this,fl,new Map);this.pageIndex=t}setParent(t){if(!u(this,oi)){w(this,oi,t);return}if(u(this,oi)!==t){if(u(this,Ns).size>0)for(const e of u(this,Ns).values())e.remove(),t.append(e);w(this,oi,t)}}static get _svgFactory(){return Gt(this,"_svgFactory",new wy)}draw(t,e=!1,n=!1){const i=Rs(this,af)._++,r=A(this,Qi,Eb).call(this),a=ws._svgFactory.createElement("defs");r.append(a);const o=ws._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),e&&u(this,fl).set(i,o);const c=n?A(this,Qi,dx).call(this,a,l):null,d=ws._svgFactory.createElement("use");return r.append(d),d.setAttribute("href",`#${l}`),this.updateProperties(r,t),u(this,Ns).set(i,r),{id:i,clipPathId:`url(#${c})`}}drawOutline(t,e){const n=Rs(this,af)._++,i=A(this,Qi,Eb).call(this),r=ws._svgFactory.createElement("defs");i.append(r);const a=ws._svgFactory.createElement("path");r.append(a);const o=`path_p${this.pageIndex}_${n}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(e){const h=ws._svgFactory.createElement("mask");r.append(h),l=`mask_p${this.pageIndex}_${n}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const f=ws._svgFactory.createElement("rect");h.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=ws._svgFactory.createElement("use");h.append(p),p.setAttribute("href",`#${o}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const c=ws._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${o}`),l&&c.setAttribute("mask",`url(#${l})`);const d=c.cloneNode();return i.append(d),c.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(i,t),u(this,Ns).set(n,i),n}finalizeDraw(t,e){u(this,fl).delete(t),this.updateProperties(t,e)}updateProperties(t,e){var l;if(!e)return;const{root:n,bbox:i,rootClass:r,path:a}=e,o=typeof t=="number"?u(this,Ns).get(t):t;if(o){if(n&&A(this,Qi,xb).call(this,o,n),i&&A(l=ws,ym,ux).call(l,o,i),r){const{classList:c}=o;for(const[d,h]of Object.entries(r))c.toggle(d,h)}if(a){const d=o.firstChild.firstChild;A(this,Qi,xb).call(this,d,a)}}}updateParent(t,e){if(e===this)return;const n=u(this,Ns).get(t);n&&(u(e,oi).append(n),u(this,Ns).delete(t),u(e,Ns).set(t,n))}remove(t){u(this,fl).delete(t),u(this,oi)!==null&&(u(this,Ns).get(t).remove(),u(this,Ns).delete(t))}destroy(){w(this,oi,null);for(const t of u(this,Ns).values())t.remove();u(this,Ns).clear(),u(this,fl).clear()}};oi=new WeakMap,af=new WeakMap,Ns=new WeakMap,fl=new WeakMap,ym=new WeakSet,ux=function(t,[e,n,i,r]){const{style:a}=t;a.top=`${100*n}%`,a.left=`${100*e}%`,a.width=`${100*i}%`,a.height=`${100*r}%`},Qi=new WeakSet,Eb=function(){const t=ws._svgFactory.create(1,1,!0);return u(this,oi).append(t),t.setAttribute("aria-hidden",!0),t},dx=function(t,e){const n=ws._svgFactory.createElement("clipPath");t.append(n);const i=`clip_${e}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const r=ws._svgFactory.createElement("use");return n.append(r),r.setAttribute("href",`#${e}`),r.classList.add("clip"),i},xb=function(t,e){for(const[n,i]of Object.entries(e))i===null?t.removeAttribute(n):t.setAttribute(n,i)},S(ws,ym);let Sb=ws;globalThis.pdfjsTestingUtils={HighlightOutliner:nb};Lt.AbortException;Lt.AnnotationEditorLayer;Lt.AnnotationEditorParamsType;Lt.AnnotationEditorType;Lt.AnnotationEditorUIManager;Lt.AnnotationLayer;Lt.AnnotationMode;Lt.ColorPicker;Lt.DOMSVGFactory;Lt.DrawLayer;Lt.FeatureTest;Lt.GlobalWorkerOptions;Lt.ImageKind;Lt.InvalidPDFException;Lt.MissingPDFException;Lt.OPS;Lt.OutputScale;Lt.PDFDataRangeTransport;Lt.PDFDateString;Lt.PDFWorker;Lt.PasswordResponses;Lt.PermissionFlag;Lt.PixelsPerInch;Lt.RenderingCancelledException;Lt.TextLayer;Lt.UnexpectedResponseException;Lt.Util;Lt.VerbosityLevel;Lt.XfaLayer;Lt.build;Lt.createValidAbsoluteUrl;Lt.fetchData;Lt.getDocument;Lt.getFilenameFromUrl;Lt.getPdfFilenameFromUrl;Lt.getXfaPageViewport;Lt.isDataScheme;Lt.isPdfFile;Lt.noContextMenu;Lt.normalizeUnicode;Lt.setLayerDimensions;Lt.shadow;Lt.stopEvent;Lt.version;const wN={class:"body"},_N={class:"container my-5"},AN={class:"comments-section my-4"},SN={class:"mb-3"},EN={class:"list-group"},xN={class:"comment"},CN=["onClick"],TN={class:"text-center showMoreAndLess"},DN={class:"related-articles mb-5"},kN={class:"row"},PN={__name:"BlogDetail",setup(s){const t=Je({userId:0}),e=vt({}),n=vt([]),i=vt({author_name:"",content:"",author_avatar:"",email:""}),r=vt([]),a=df(),o=vt(3),l=B(()=>n.value.slice(0,o.value)),c=()=>{o.value=n.value.length>o.value+5?o.value+5:n.value.length},d=()=>{o.value=3},h=()=>{i.value.content=""},f=async E=>{try{const C=await Pt.get(`/api/posts/${E}`);e.value=C.data,o.value=3}catch(C){console.error("Error fetching blog:",C)}},p=async E=>{try{const C=await Pt.get(`/api/posts/${E}/comments`);n.value=C.data.reverse()}catch(C){console.error("Error fetching comments:",C)}},m=()=>{const E=JSON.parse(localStorage.getItem("user"));E?(i.value.author_id=E.UserID,i.value.author_avatar=E.ImageAvatar,i.value.email=E.Email,t.userId=E.UserID):(i.value.author_id="",i.value.author_avatar="",i.value.email="")},v=async()=>{const E=a.params.id;try{if(!i.value.email){alert("Vui long dang nhap");return}(await Pt.post(`/api/posts/${E}/comments`,i.value)).status!=200&&alert("Faile to add comment"),p(E),h()}catch(C){console.error("Error adding comment:",C)}};async function b(E,C){if(confirm("Are you sure you want to delete this comment?"))try{const D=a.params.id,M=await Pt.delete(`/api/posts/${D}/comments/${E}`,{data:{author_id:C}});M.status===200&&(console.log(M.data.message),p(D))}catch(D){D.response?(console.error(D.response.data.message),alert(D.response.data.message)):(console.error("Error deleting comment:",D.message),alert("Something went wrong. Please try again later."))}}const y=async()=>{try{const E=await Pt.get("/api/posts/related");r.value=E.data}catch(E){console.error("Error fetching related articles:",E)}};return ls(()=>{const E=a.params.id;f(E),y(),p(E),m()}),ry((E,C,x)=>{const D=E.params.id;f(D),p(D),x()}),(E,C)=>(R(),O("div",wN,[g("header",null,[G(zr),C[1]||(C[1]=g("div",{class:"heroimage"},null,-1))]),g("main",null,[g("div",_N,[G(mS,{blog:e.value},null,8,["blog"]),g("div",AN,[C[4]||(C[4]=g("h3",{class:"mb-4"},"Comments",-1)),g("form",{onSubmit:hi(v,["prevent"]),class:"mb-5"},[g("div",SN,[ee(g("textarea",{id:"comment","onUpdate:modelValue":C[0]||(C[0]=x=>i.value.content=x),class:"form-control",rows:"3",placeholder:"Write comment there ...",required:""},null,512),[[pe,i.value.content]])]),C[2]||(C[2]=g("button",{type:"submit",class:"btn btn-primary"},"Send",-1))],32),g("div",EN,[(R(!0),O(Et,null,Wt(l.value,x=>(R(),O("div",{key:x.id,class:"list-group-item"},[g("div",xN,[G(w2,{comment:x},null,8,["comment"]),t.userId===x.AuthorID?(R(),O("button",{key:0,class:"btn btn-link text-danger p-0 mt-2",onClick:D=>b(x.CommentID,t.userId)},C[3]||(C[3]=[g("i",{class:"fa-solid fa-rectangle-xmark fs-5"},null,-1)]),8,CN)):Ot("",!0)])]))),128)),g("div",TN,[n.value.length>l.value.length?(R(),O("button",{key:0,onClick:c,class:"btn btn-link"}," Show more ")):Ot("",!0),l.value.length>4?(R(),O("button",{key:1,class:"btn btn-link",onClick:d}," Show less ")):Ot("",!0)])])]),g("div",DN,[C[5]||(C[5]=g("h3",{class:"mb-3"},"The Newest Blogs",-1)),g("div",kN,[(R(!0),O(Et,null,Wt(r.value,x=>(R(),O("div",{key:x.id,class:"col-md-4 mb-4"},[G(dy,{image:x.ImageUrl,title:x.Title,description:x.ContentIntro.slice(0,100)+"...",author:x.Author,authorAvatar:x.AuthorAvatar,views:x.Views,id:x.PostID,create_at:x.CreatedAt},null,8,["image","title","description","author","authorAvatar","views","id","create_at"])]))),128))])])]),G(Gr)])]))}},MN=re(PN,[["__scopeId","data-v-2ded4d97"]]),RN="/Web_Hamorny_Charity_Travel/assets/tree-AvwdZg7w.png";ay();const ON={data(){return{showPassword:!1,isLogin:!0,Email:"",Password:"",FullName:"",PhoneNumber:"",confirmPassword:"",AvatarUrl:"https://i.pinimg.com/474x/93/75/ae/9375aef3b0ea35e0cf4ca12862bb5fef.jpg",clientId:"87667223869-08fsea38r378m40iqpfarbmdm6a7n9bl.apps.googleusercontent.com"}},methods:{toggleForm(){this.isLogin=!this.isLogin,this.clearForm()},clearForm(){this.Email="",this.Password="",this.FullName=""},async handleSubmit(){try{if(!this.isLogin&&this.Password!==this.confirmPassword){alert("Passwords do not match.");return}const s=this.isLogin?"/api/login":"/api/register",t={Email:this.Email,Password:this.Password,...this.isLogin?{}:{FullName:this.FullName},AvatarUrl:this.AvatarUrl,...this.isLogin?{}:{PhoneNumber:this.PhoneNumber}};console.log(t);const e=await Pt.post(s,t);alert(e.data.message),!this.isLogin&&e.status==200&&(alert("Let's Sign In"),window.location.href="/sign_in_and_out"),e.data.user&&(localStorage.setItem("user",JSON.stringify(e.data.user)),this.$router.push("/"))}catch(s){alert("Error: "+s.response.data.message)}},async fetchUser(){JSON.parse(localStorage.getItem("user"))&&(alert("You already logged in"),this.$router.push("/"))},async handleCredentialResponse(s){const t=this.parseJwt(s.credential);try{const e=await Pt.post("/api/google-login",{FullName:t.name,Email:t.email,AvatarUrl:t.picture},{headers:{"Content-Type":"application/json"}});localStorage.setItem("user",JSON.stringify(e.data.user)),localStorage.setItem("authToken",e.data.token),this.$router.push("/"),alert("Sign in successfull!"),e.request.responseURL!==window.location.href||console.log("No redirection occurred")}catch(e){console.error("Error during the request:",e)}},parseJwt(s){const e=s.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(e).split("").map(i=>"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(n)}},mounted(){this.fetchUser();const s=document.createElement("script");s.src="https://accounts.google.com/gsi/client",s.async=!0,document.body.appendChild(s),s.onload=()=>{google.accounts.id.initialize({client_id:this.clientId,callback:this.handleCredentialResponse}),google.accounts.id.renderButton(document.getElementById("buttonDiv"),{theme:"outline",size:"large"})}}},IN={class:"container-fluid vh-100 d-flex align-items-center justify-content-center"},$N={class:"row shadow-lg rounded-3 overflow-hidden",style:{width:"70%","max-width":"900px"}},LN={class:"col-md-6 bg-white p-5"},NN={class:"fw-bold mb-4"},FN={key:0,class:"mb-3"},BN={class:"mb-3"},HN={key:1,class:"mb-3"},UN={class:"mb-3 position-relative"},jN=["type"],YN={key:2,class:"mb-3"},VN={key:3,class:"form-check mb-3"},WN={type:"submit",class:"btn btn-primary w-100 mb-3"},qN={class:"text-center"};function zN(s,t,e,n,i,r){return R(),O("div",IN,[g("div",$N,[t[10]||(t[10]=g("div",{class:"col-md-6 bg-primary text-white p-5 d-flex flex-column align-items-center justify-content-center"},[g("h1",{class:"fw-bold mb-4 text-center"},[Jt(" Learn From World’s "),g("br"),Jt(" Best Instructors 🌎 "),g("br"),Jt(" Around The World. ")]),g("img",{src:RN,alt:"Study Online",class:"img-fluid",style:{"max-height":"200px"}})],-1)),g("div",LN,[g("h3",NN,U(i.isLogin?"Sign In":"Create Account"),1),g("form",{onSubmit:t[7]||(t[7]=hi((...a)=>r.handleSubmit&&r.handleSubmit(...a),["prevent"]))},[i.isLogin?Ot("",!0):(R(),O("div",FN,[ee(g("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>i.FullName=a),type:"text",class:"form-control",placeholder:"Full Name",required:""},null,512),[[pe,i.FullName]])])),g("div",BN,[ee(g("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>i.Email=a),type:"email",class:"form-control",placeholder:"Email Address",required:""},null,512),[[pe,i.Email]])]),i.isLogin?Ot("",!0):(R(),O("div",HN,[ee(g("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>i.PhoneNumber=a),type:"text",class:"form-control",placeholder:"Phone Number",required:""},null,512),[[pe,i.PhoneNumber]])])),g("div",UN,[ee(g("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>i.Password=a),type:i.showPassword?"text":"password",class:"form-control",placeholder:"Password",required:""},null,8,jN),[[bk,i.Password]]),g("span",{class:"position-absolute end-0 top-50 translate-middle-y me-3",style:{cursor:"pointer"},onClick:t[4]||(t[4]=a=>i.showPassword=!i.showPassword)},[g("i",{class:Ft(i.showPassword?"fa-solid fa-eye":"fa-solid fa-eye-slash")},null,2)])]),i.isLogin?Ot("",!0):(R(),O("div",YN,[ee(g("input",{"onUpdate:modelValue":t[5]||(t[5]=a=>i.confirmPassword=a),type:"password",class:"form-control",placeholder:"Confirm Password",required:""},null,512),[[pe,i.confirmPassword]])])),i.isLogin?Ot("",!0):(R(),O("div",VN,t[8]||(t[8]=[g("input",{type:"checkbox",class:"form-check-input",id:"terms",required:""},null,-1),g("label",{class:"form-check-label",for:"terms"},[Jt(" I agree to the "),g("a",{href:"#",class:"text-decoration-none"},"terms of service"),Jt(" and "),g("a",{href:"#",class:"text-decoration-none"},"privacy policy"),Jt(". ")],-1)]))),g("button",WN,U(i.isLogin?"Sign In":"Sign Up"),1),t[9]||(t[9]=g("div",{id:"buttonDiv"},null,-1)),g("p",qN,[Jt(U(i.isLogin?"Don't have an account?":"Already have an account?")+" ",1),g("a",{href:"#",class:"text-decoration-none",onClick:t[6]||(t[6]=(...a)=>r.toggleForm&&r.toggleForm(...a))},U(i.isLogin?"Sign Up":"Sign In"),1)])],32)])])])}const GN=re(ON,[["render",zN],["__scopeId","data-v-0bb2ec97"]]),KN={class:"pdf-viewer-container"},XN={class:"pdfFile container"},JN={class:"text-center my-4"},QN={key:0,class:"text-center"},ZN=["src"],tF={__name:"FileViewer",setup(s){const t=df(),e=vt(!0),n=vt(""),i=vt({}),r=o=>{Pt.get("/api/posts",{params:{category_name:"reportage"}}).then(l=>{const c=l.data.filter(d=>d.PostID==o)[0];n.value=`http://localhost:3000/proxy?url=${encodeURIComponent(c.Link)}`,i.value=c}).catch(l=>{console.error("Error fetching blogs:",l)})},a=()=>{e.value=!1;const o=document.querySelector("iframe");o.style.height="600px",console.log(e.value)};return ls(()=>{const o=t.params.id;r(o)}),(o,l)=>(R(),O("div",KN,[g("header",null,[G(zr),l[0]||(l[0]=g("div",{class:"heroimage"},null,-1))]),g("main",null,[g("div",XN,[g("h1",JN,U(i.value.Title),1),e.value?(R(),O("div",QN,l[1]||(l[1]=[g("p",null,"Đang tải...",-1)]))):Ot("",!0),g("iframe",{src:n.value,width:"100%",height:"0",frameborder:"0",allowfullscreen:"",onLoad:a},null,40,ZN)]),G(Gr)])]))}},eF=re(tF,[["__scopeId","data-v-d6b6805f"]]),sF={class:"discription"},nF={class:"d-flex mx-5 justify-content-end"},iF={class:"mx-5"},rF={class:"container"},aF={class:"container my-4"},oF={class:"my-1"},lF={key:0},cF={class:"container my-4"},uF={class:"my-1"},dF={key:0},hF={class:"row mb-3"},fF={class:"col-md-6"},pF={class:"col-md-6"},mF={key:1},gF={class:"row mb-3"},vF={class:"col-md-6"},bF={class:"col-md-6"},yF={class:"container my-4",style:{width:"80%"}},wF={id:"carouselExampleCaptions",class:"carousel slide","data-bs-ride":"carousel"},_F={class:"carousel-inner",style:{"border-radius":"10px"}},AF={class:"image-container"},SF=["src"],EF={class:"carousel-caption d-none d-md-block overlay"},xF={__name:"Tour_Information",props:{Tour:{},Schedules:[],Services:[],Itineraries:[]},setup(s){const t=s,e=B(()=>t.Schedules.reduce((i,r)=>{const a=r.StartDate.split(" ").pop();return i[a]||(i[a]=[]),i[a].push(r),i},{})),n=B(()=>t.Services.reduce((i,r)=>{const a=r.Status;return i[a]||(i[a]=[]),i[a].push(r),i},{}));return(i,r)=>(R(),O("div",sF,[g("div",nF,[g("div",iF,[r[0]||(r[0]=g("i",{class:"fa-solid fa-calendar-days"},null,-1)),Jt(" Duration: "+U(s.Tour.Duration)+" days ",1)]),r[1]||(r[1]=g("div",null,[g("i",{class:"fa-regular fa-user"}),Jt(" Group size: 6 - 18")],-1))]),g("div",rF,[r[2]||(r[2]=g("h2",null,"About this trip",-1)),Jt(" "+U(s.Tour.Description),1)]),g("div",aF,[r[4]||(r[4]=g("h2",null,"Upcoming dates",-1)),(R(!0),O(Et,null,Wt(e.value,(a,o)=>(R(),O("div",{key:o},[g("h5",oF,U(o),1),(R(!0),O(Et,null,Wt(a,(l,c)=>(R(),O("div",{key:c},[g("span",null,U(l.StartDate)+" - "+U(l.Status=="Full"?"FULL ":l.AvailableSpots?l.AvailableSpots+" spots left":"0 spots left"),1),l.Status=="Full"?(R(),O("span",lF,r[3]||(r[3]=[g("i",{class:"fa-solid fa-x text-danger"},null,-1)]))):Ot("",!0)]))),128))]))),128))]),r[14]||(r[14]=Ha('<div class="container" data-v-bebc382e><h2 data-v-bebc382e><i class="fa-regular fa-face-grimace" data-v-bebc382e></i> Is this tour for me ?</h2><div data-v-bebc382e><h5 data-v-bebc382e>What&#39;s the average age?</h5><p data-v-bebc382e> Our trips are for ALL ages and everyone is welcome! We&#39;d say the majority are 50+ but either way, we&#39;ll be a little travel family in no time. </p></div><div data-v-bebc382e><h5 data-v-bebc382e>Who are the trips for?</h5><p data-v-bebc382e> Come alone, bring a friend, drag your loved one, persuade your nan or force a reunion… everything goes! If you’ve got an open mind, a kind heart, a karaoke song at the ready and you love an adventure then this is for you. </p></div><div data-v-bebc382e><h5 data-v-bebc382e>Is volunteering hard work?</h5><p data-v-bebc382e> It&#39;s totally up to you how hard you work but zero experience is required! You&#39;ll be with a small team of local builders from start to finish. Learning a few tricks along the way and working as a team is all part of the fun. </p></div><div data-v-bebc382e><h5 data-v-bebc382e>What&#39;s the accommodation like?</h5><p data-v-bebc382e> We&#39;ll be staying in hand-picked awesome and unique places everywhere we go. From an overnight boat cruise in Ha Long Bay to an authentic homestay in the Mekong </p></div></div>',1)),g("div",cF,[r[9]||(r[9]=g("h2",null,"What included",-1)),(R(!0),O(Et,null,Wt(n.value,(a,o)=>(R(),O("div",{key:o},[g("h5",uF,U(o),1),o=="Available"?(R(),O("div",dF,[(R(!0),O(Et,null,Wt(a,(l,c)=>(R(),O("div",{key:c},[g("div",hF,[g("div",fF,[r[5]||(r[5]=g("span",{class:"text-success"},[g("i",{class:"fa-solid fa-circle-check"})],-1)),Jt(" "+U(l.ServiceName),1)]),g("div",pF,U(l.Description),1)]),r[6]||(r[6]=g("hr",null,null,-1))]))),128))])):(R(),O("div",mF,[(R(!0),O(Et,null,Wt(a,(l,c)=>(R(),O("div",{key:c},[g("div",gF,[g("div",vF,[r[7]||(r[7]=g("span",{class:"text-success"},[g("i",{class:"bx bx-chevrons-right text-info fs-4"})],-1)),Jt(" "+U(l.ServiceName),1)]),g("div",bF,U(l.Description),1)]),r[8]||(r[8]=g("hr",null,null,-1))]))),128))]))]))),128))]),r[15]||(r[15]=g("h2",null,"Itinerary",-1)),g("div",yF,[g("div",wF,[g("div",_F,[(R(!0),O(Et,null,Wt(s.Itineraries,(a,o)=>(R(),O("div",{class:Ft(["carousel-item active",{active:o===0}]),"data-bs-interval":"2000",key:o},[g("div",AF,[g("img",{src:a.ImageUrl,class:"d-block w-100",alt:"...",style:{"max-width":"100%",height:"auto","object-fit":"cover"}},null,8,SF),r[10]||(r[10]=g("div",{class:"overlay"},null,-1))]),g("div",EF,[g("h5",null,"Day "+U(a.DayNumber)+": "+U(a.Location),1),g("p",null,[r[11]||(r[11]=g("strong",null,"Activities:",-1)),Jt(" "+U(a.Activities),1)]),g("p",null,[r[12]||(r[12]=g("strong",null,"Meals Included:",-1)),Jt(" "+U(a.MealsIncluded),1)]),g("p",null,U(a.Description),1)])],2))),128))]),r[13]||(r[13]=Ha('<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev" data-v-bebc382e><span class="carousel-control-prev-icon" aria-hidden="true" data-v-bebc382e></span><span class="visually-hidden" data-v-bebc382e>Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next" data-v-bebc382e><span class="carousel-control-next-icon" aria-hidden="true" data-v-bebc382e></span><span class="visually-hidden" data-v-bebc382e>Next</span></button>',2))])])]))}},CF=re(xF,[["__scopeId","data-v-bebc382e"]]);function TF(){return typeof window<"u"}function DF(s){return TF()&&s in window}function B0({"min-width":s,min:t=s,max:e,raw:n}={}){return{min:t,max:e,raw:n}}function hx(s,t=!0){return Array.isArray(s)?s.map(e=>{if(t&&Array.isArray(e))throw new Error("The tuple syntax is not supported for `screens`.");if(typeof e=="string")return{name:e.toString(),values:[{min:e,max:void 0}]};let[n,i]=e;return n=n.toString(),typeof i=="string"?{name:n,values:[{min:i,max:void 0}]}:Array.isArray(i)?{name:n,values:i.map(r=>B0(r))}:{name:n,values:[B0(i)]}}):hx(Object.entries(s??{}),!1)}function kF(s){return s.map(t=>t.raw!==void 0?t.raw:[t.min&&`(min-width: ${t.min})`,t.max&&`(max-width: ${t.max})`].filter(Boolean).join(" and ")).join(", ")}var PF={xs:"0px",sm:"640px",md:"768px",lg:"1024px",xl:"1280px"};const MF="$screens";function RF(s){const t=Je({screens:hx(s||PF),queries:{},matches:{},hasSetup:!1});function e(){Object.entries(t.queries).forEach(([l,c])=>{t.matches[l]=c.matches})}function n(l){return B(()=>Object.keys(t.matches).filter(c=>t.matches[c]===!0&&l.hasOwnProperty(c)).map(c=>l[c]))}const i=B(()=>Object.keys(t.matches).filter(l=>t.matches[l]));function r(l,c){return B(()=>{const d=a.value;return d&&l.hasOwnProperty(d)?l[d]:c})}const a=B(()=>{const l=i.value;return l.length?l[l.length-1]:""});function o(){Object.values(t.queries).forEach(l=>l.removeEventListener("change",e)),t.queries={},t.matches={}}return!t.hasSetup&&DF("matchMedia")&&(o(),t.queries=t.screens.reduce((l,{name:c,values:d})=>{const h=window.matchMedia(kF(d));return h.addEventListener("change",e),l[c]=h,l},{}),e(),t.hasSetup=!0),{matches:t.matches,list:i,mapList:n,current:a,mapCurrent:r,cleanup:o}}function OF(s,t){const e=RF(s);return Ki(MF,e),Ka(()=>e.cleanup()),e}function Up(s){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Up(s)}function Sl(s){if(s===null||s===!0||s===!1)return NaN;var t=Number(s);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function qs(s,t){if(t.length<s)throw new TypeError(s+" argument"+(s>1?"s":"")+" required, but only "+t.length+" present")}function Zi(s){qs(1,arguments);var t=Object.prototype.toString.call(s);return s instanceof Date||Up(s)==="object"&&t==="[object Date]"?new Date(s.getTime()):typeof s=="number"||t==="[object Number]"?new Date(s):((typeof s=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function IF(s,t){qs(2,arguments);var e=Zi(s).getTime(),n=Sl(t);return new Date(e+n)}var $F={};function Gm(){return $F}function LF(s){var t=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return t.setUTCFullYear(s.getFullYear()),s.getTime()-t.getTime()}function NF(s){return qs(1,arguments),s instanceof Date||Up(s)==="object"&&Object.prototype.toString.call(s)==="[object Date]"}function FF(s){if(qs(1,arguments),!NF(s)&&typeof s!="number")return!1;var t=Zi(s);return!isNaN(Number(t))}function BF(s,t){qs(2,arguments);var e=Sl(t);return IF(s,-e)}var HF=864e5;function UF(s){qs(1,arguments);var t=Zi(s),e=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),i=e-n;return Math.floor(i/HF)+1}function jp(s){qs(1,arguments);var t=1,e=Zi(s),n=e.getUTCDay(),i=(n<t?7:0)+n-t;return e.setUTCDate(e.getUTCDate()-i),e.setUTCHours(0,0,0,0),e}function fx(s){qs(1,arguments);var t=Zi(s),e=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(e+1,0,4),n.setUTCHours(0,0,0,0);var i=jp(n),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var a=jp(r);return t.getTime()>=i.getTime()?e+1:t.getTime()>=a.getTime()?e:e-1}function jF(s){qs(1,arguments);var t=fx(s),e=new Date(0);e.setUTCFullYear(t,0,4),e.setUTCHours(0,0,0,0);var n=jp(e);return n}var YF=6048e5;function VF(s){qs(1,arguments);var t=Zi(s),e=jp(t).getTime()-jF(t).getTime();return Math.round(e/YF)+1}function Yp(s,t){var e,n,i,r,a,o,l,c;qs(1,arguments);var d=Gm(),h=Sl((e=(n=(i=(r=t==null?void 0:t.weekStartsOn)!==null&&r!==void 0?r:t==null||(a=t.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&e!==void 0?e:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Zi(s),p=f.getUTCDay(),m=(p<h?7:0)+p-h;return f.setUTCDate(f.getUTCDate()-m),f.setUTCHours(0,0,0,0),f}function px(s,t){var e,n,i,r,a,o,l,c;qs(1,arguments);var d=Zi(s),h=d.getUTCFullYear(),f=Gm(),p=Sl((e=(n=(i=(r=t==null?void 0:t.firstWeekContainsDate)!==null&&r!==void 0?r:t==null||(a=t.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&n!==void 0?n:(l=f.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&e!==void 0?e:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(h+1,0,p),m.setUTCHours(0,0,0,0);var v=Yp(m,t),b=new Date(0);b.setUTCFullYear(h,0,p),b.setUTCHours(0,0,0,0);var y=Yp(b,t);return d.getTime()>=v.getTime()?h+1:d.getTime()>=y.getTime()?h:h-1}function WF(s,t){var e,n,i,r,a,o,l,c;qs(1,arguments);var d=Gm(),h=Sl((e=(n=(i=(r=t==null?void 0:t.firstWeekContainsDate)!==null&&r!==void 0?r:t==null||(a=t.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&e!==void 0?e:1),f=px(s,t),p=new Date(0);p.setUTCFullYear(f,0,h),p.setUTCHours(0,0,0,0);var m=Yp(p,t);return m}var qF=6048e5;function zF(s,t){qs(1,arguments);var e=Zi(s),n=Yp(e,t).getTime()-WF(e,t).getTime();return Math.round(n/qF)+1}function he(s,t){for(var e=s<0?"-":"",n=Math.abs(s).toString();n.length<t;)n="0"+n;return e+n}var Zr={y:function(t,e){var n=t.getUTCFullYear(),i=n>0?n:1-n;return he(e==="yy"?i%100:i,e.length)},M:function(t,e){var n=t.getUTCMonth();return e==="M"?String(n+1):he(n+1,2)},d:function(t,e){return he(t.getUTCDate(),e.length)},a:function(t,e){var n=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,e){return he(t.getUTCHours()%12||12,e.length)},H:function(t,e){return he(t.getUTCHours(),e.length)},m:function(t,e){return he(t.getUTCMinutes(),e.length)},s:function(t,e){return he(t.getUTCSeconds(),e.length)},S:function(t,e){var n=e.length,i=t.getUTCMilliseconds(),r=Math.floor(i*Math.pow(10,n-3));return he(r,e.length)}},Ll={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},GF={G:function(t,e,n){var i=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){var i=t.getUTCFullYear(),r=i>0?i:1-i;return n.ordinalNumber(r,{unit:"year"})}return Zr.y(t,e)},Y:function(t,e,n,i){var r=px(t,i),a=r>0?r:1-r;if(e==="YY"){var o=a%100;return he(o,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):he(a,e.length)},R:function(t,e){var n=fx(t);return he(n,e.length)},u:function(t,e){var n=t.getUTCFullYear();return he(n,e.length)},Q:function(t,e,n){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return he(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return he(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){var i=t.getUTCMonth();switch(e){case"M":case"MM":return Zr.M(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){var i=t.getUTCMonth();switch(e){case"L":return String(i+1);case"LL":return he(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){var r=zF(t,i);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):he(r,e.length)},I:function(t,e,n){var i=VF(t);return e==="Io"?n.ordinalNumber(i,{unit:"week"}):he(i,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Zr.d(t,e)},D:function(t,e,n){var i=UF(t);return e==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):he(i,e.length)},E:function(t,e,n){var i=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){var r=t.getUTCDay(),a=(r-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return he(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){var r=t.getUTCDay(),a=(r-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return he(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){var i=t.getUTCDay(),r=i===0?7:i;switch(e){case"i":return String(r);case"ii":return he(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){var i=t.getUTCHours(),r=i/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){var i=t.getUTCHours(),r;switch(i===12?r=Ll.noon:i===0?r=Ll.midnight:r=i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){var i=t.getUTCHours(),r;switch(i>=17?r=Ll.evening:i>=12?r=Ll.afternoon:i>=4?r=Ll.morning:r=Ll.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Zr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Zr.H(t,e)},K:function(t,e,n){var i=t.getUTCHours()%12;return e==="Ko"?n.ordinalNumber(i,{unit:"hour"}):he(i,e.length)},k:function(t,e,n){var i=t.getUTCHours();return i===0&&(i=24),e==="ko"?n.ordinalNumber(i,{unit:"hour"}):he(i,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Zr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Zr.s(t,e)},S:function(t,e){return Zr.S(t,e)},X:function(t,e,n,i){var r=i._originalDate||t,a=r.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return U0(a);case"XXXX":case"XX":return co(a);case"XXXXX":case"XXX":default:return co(a,":")}},x:function(t,e,n,i){var r=i._originalDate||t,a=r.getTimezoneOffset();switch(e){case"x":return U0(a);case"xxxx":case"xx":return co(a);case"xxxxx":case"xxx":default:return co(a,":")}},O:function(t,e,n,i){var r=i._originalDate||t,a=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+H0(a,":");case"OOOO":default:return"GMT"+co(a,":")}},z:function(t,e,n,i){var r=i._originalDate||t,a=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+H0(a,":");case"zzzz":default:return"GMT"+co(a,":")}},t:function(t,e,n,i){var r=i._originalDate||t,a=Math.floor(r.getTime()/1e3);return he(a,e.length)},T:function(t,e,n,i){var r=i._originalDate||t,a=r.getTime();return he(a,e.length)}};function H0(s,t){var e=s>0?"-":"+",n=Math.abs(s),i=Math.floor(n/60),r=n%60;if(r===0)return e+String(i);var a=t;return e+String(i)+a+he(r,2)}function U0(s,t){if(s%60===0){var e=s>0?"-":"+";return e+he(Math.abs(s)/60,2)}return co(s,t)}function co(s,t){var e=t||"",n=s>0?"-":"+",i=Math.abs(s),r=he(Math.floor(i/60),2),a=he(i%60,2);return n+r+e+a}var j0=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},mx=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},KF=function(t,e){var n=t.match(/(P+)(p+)?/)||[],i=n[1],r=n[2];if(!r)return j0(t,e);var a;switch(i){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",j0(i,e)).replace("{{time}}",mx(r,e))},XF={p:mx,P:KF},JF=["D","DD"],QF=["YY","YYYY"];function ZF(s){return JF.indexOf(s)!==-1}function t3(s){return QF.indexOf(s)!==-1}function Y0(s,t,e){if(s==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(s==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(s==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(s==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var e3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},s3=function(t,e,n){var i,r=e3[t];return typeof r=="string"?i=r:e===1?i=r.one:i=r.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function Ig(s){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.width?String(t.width):s.defaultWidth,n=s.formats[e]||s.formats[s.defaultWidth];return n}}var n3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},i3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},r3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},a3={date:Ig({formats:n3,defaultWidth:"full"}),time:Ig({formats:i3,defaultWidth:"full"}),dateTime:Ig({formats:r3,defaultWidth:"full"})},o3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},l3=function(t,e,n,i){return o3[t]};function Uu(s){return function(t,e){var n=e!=null&&e.context?String(e.context):"standalone",i;if(n==="formatting"&&s.formattingValues){var r=s.defaultFormattingWidth||s.defaultWidth,a=e!=null&&e.width?String(e.width):r;i=s.formattingValues[a]||s.formattingValues[r]}else{var o=s.defaultWidth,l=e!=null&&e.width?String(e.width):s.defaultWidth;i=s.values[l]||s.values[o]}var c=s.argumentCallback?s.argumentCallback(t):t;return i[c]}}var c3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},u3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},d3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},h3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},f3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},p3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},m3=function(t,e){var n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},g3={ordinalNumber:m3,era:Uu({values:c3,defaultWidth:"wide"}),quarter:Uu({values:u3,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Uu({values:d3,defaultWidth:"wide"}),day:Uu({values:h3,defaultWidth:"wide"}),dayPeriod:Uu({values:f3,defaultWidth:"wide",formattingValues:p3,defaultFormattingWidth:"wide"})};function ju(s){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.width,i=n&&s.matchPatterns[n]||s.matchPatterns[s.defaultMatchWidth],r=t.match(i);if(!r)return null;var a=r[0],o=n&&s.parsePatterns[n]||s.parsePatterns[s.defaultParseWidth],l=Array.isArray(o)?b3(o,function(h){return h.test(a)}):v3(o,function(h){return h.test(a)}),c;c=s.valueCallback?s.valueCallback(l):l,c=e.valueCallback?e.valueCallback(c):c;var d=t.slice(a.length);return{value:c,rest:d}}}function v3(s,t){for(var e in s)if(s.hasOwnProperty(e)&&t(s[e]))return e}function b3(s,t){for(var e=0;e<s.length;e++)if(t(s[e]))return e}function y3(s){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(s.matchPattern);if(!n)return null;var i=n[0],r=t.match(s.parsePattern);if(!r)return null;var a=s.valueCallback?s.valueCallback(r[0]):r[0];a=e.valueCallback?e.valueCallback(a):a;var o=t.slice(i.length);return{value:a,rest:o}}}var w3=/^(\d+)(th|st|nd|rd)?/i,_3=/\d+/i,A3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},S3={any:[/^b/i,/^(a|c)/i]},E3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},x3={any:[/1/i,/2/i,/3/i,/4/i]},C3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},T3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},D3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},k3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},P3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},M3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},R3={ordinalNumber:y3({matchPattern:w3,parsePattern:_3,valueCallback:function(t){return parseInt(t,10)}}),era:ju({matchPatterns:A3,defaultMatchWidth:"wide",parsePatterns:S3,defaultParseWidth:"any"}),quarter:ju({matchPatterns:E3,defaultMatchWidth:"wide",parsePatterns:x3,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ju({matchPatterns:C3,defaultMatchWidth:"wide",parsePatterns:T3,defaultParseWidth:"any"}),day:ju({matchPatterns:D3,defaultMatchWidth:"wide",parsePatterns:k3,defaultParseWidth:"any"}),dayPeriod:ju({matchPatterns:P3,defaultMatchWidth:"any",parsePatterns:M3,defaultParseWidth:"any"})},O3={code:"en-US",formatDistance:s3,formatLong:a3,formatRelative:l3,localize:g3,match:R3,options:{weekStartsOn:0,firstWeekContainsDate:1}},I3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,L3=/^'([^]*?)'?$/,N3=/''/g,F3=/[a-zA-Z]/;function B3(s,t,e){var n,i,r,a,o,l,c,d,h,f,p,m,v,b;qs(2,arguments);var y=String(t),E=Gm(),C=(n=(i=void 0)!==null&&i!==void 0?i:E.locale)!==null&&n!==void 0?n:O3,x=Sl((r=(a=(o=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&o!==void 0?o:E.firstWeekContainsDate)!==null&&a!==void 0?a:(c=E.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var D=Sl((h=(f=(p=(m=void 0)!==null&&m!==void 0?m:void 0)!==null&&p!==void 0?p:E.weekStartsOn)!==null&&f!==void 0?f:(v=E.locale)===null||v===void 0||(b=v.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&h!==void 0?h:0);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!C.localize)throw new RangeError("locale must contain localize property");if(!C.formatLong)throw new RangeError("locale must contain formatLong property");var M=Zi(s);if(!FF(M))throw new RangeError("Invalid time value");var P=LF(M),H=BF(M,P),F={firstWeekContainsDate:x,weekStartsOn:D,locale:C,_originalDate:M},Z=y.match($3).map(function(Y){var L=Y[0];if(L==="p"||L==="P"){var K=XF[L];return K(Y,C.formatLong)}return Y}).join("").match(I3).map(function(Y){if(Y==="''")return"'";var L=Y[0];if(L==="'")return H3(Y);var K=GF[L];if(K)return t3(Y)&&Y0(Y,t,String(s)),ZF(Y)&&Y0(Y,t,String(s)),K(H,Y,C.localize,F);if(L.match(F3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");return Y}).join("");return Z}function H3(s){var t=s.match(L3);return t?t[1].replace(N3,"'"):s}const U3={class:"body"},j3={class:"herosection"},Y3={class:"card-box"},V3={class:"card text-center card-booking"},W3={class:"Card-title"},q3={class:"modal fade",id:"bookingPopup",tabindex:"-1","aria-labelledby":"popupTitle","aria-hidden":"true","data-bs-backdrop":"static"},z3={class:"modal-dialog modal-xl"},G3={class:"modal-content"},K3={class:"breadcrumb"},X3={class:"modal-body"},J3={class:"container-fluid"},Q3={class:"row"},Z3={key:0,class:"col-md-8 page-left d-flex flex-column align-items-center"},tB={class:"mb-3"},eB={class:"d-flex flex-column justify-content-start",style:{width:"70%"}},sB={class:"d-flex"},nB={key:0,class:"mx-1 bg-info rounded p-1",style:{"max-width":"fit-content"}},iB={class:"mb-3 d-flex"},rB={class:"dropdown"},aB={class:"btn btn-light dropdown-toggle",type:"button",id:"dropdownMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false"},oB={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},lB=["onClick"],cB={style:{"margin-left":"20%"}},uB={key:0},dB={class:"row"},hB={class:"col-2"},fB={class:"dropdown"},pB={class:"btn btn-light dropdown-toggle",type:"button",id:"dropdownMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false",style:{width:"fit-content"}},mB={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},gB=["onClick"],vB={class:"col"},bB={class:"d-flex flex-column"},yB={class:"d-flex"},wB={key:0,class:"mx-1 bg-info rounded p-1"},_B={style:{"margin-left":"auto"}},AB={key:1,class:"col-md-8 page-left"},SB={class:"row g-3"},EB={class:"col-6"},xB={class:"col-6"},CB={class:"col-6"},TB={class:"col-6"},DB={class:"col"},kB={class:"bg-secondary rounded-circle text-center text-white",style:{width:"30px",height:"30px"}},PB={class:"row g-3"},MB={class:"col-6"},RB=["onUpdate:modelValue"],OB={class:"col-6"},IB=["onUpdate:modelValue"],$B={class:"col-12"},LB=["value"],NB={class:"col"},FB=["onUpdate:modelValue"],BB={class:"my-1"},HB=["onUpdate:modelValue"],UB={class:"my-1"},jB=["onUpdate:modelValue"],YB={class:"my-1"},VB={class:"form-check"},WB=["onUpdate:modelValue"],qB={class:"form-check"},zB=["onUpdate:modelValue"],GB={class:"my-1"},KB=["onUpdate:modelValue"],XB={class:"my-1"},JB=["onUpdate:modelValue"],QB={class:"col-md-4"},ZB={class:"d-flex"},tH={style:{"margin-left":"auto"}},eH={style:{"font-size":"small","margin-left":"10px"}},sH={key:0},nH={class:"d-flex"},iH={class:"text-bold",style:{"margin-bottom":"0"}},rH={style:{"margin-left":"auto","margin-bottom":"0"}},aH={style:{"font-size":"small","margin-left":"10px","margin-bottom":"15px"}},oH={class:"modal-footer"},lH={__name:"TourDetail",setup(s){const t=df(),e=vt([]),n=vt({}),i=vt([]),r=vt(1),a=vt(),o=vt([]),{mapCurrent:l}=OF({xs:"0px",sm:"640px",md:"768px",lg:"1024px"}),c=l({lg:2},1),d=l({lg:!1},!0),h=vt("blue");vt([{key:"test",highlight:!0,dates:{start:new Date(2019,3,15),end:new Date(2019,3,19)}}]);var f=vt(),p=vt(),m=vt([]),v=vt([]);const b=B(()=>e.value.map(V=>({key:`allowed-${V.StartDate}`,dates:V.StartDate,highlight:{color:"blue",fillMode:"outline",contentClass:"italic"}}))),y=B(()=>v.value!=null&&v.value.length>0?[{dates:{start:v.value[0],end:v.value[v.value.length-1]},highlight:"blue"}]:[]),E=async()=>{for(let V=new Date(f.value);V<=p.value;V.setDate(V.getDate()+1)){let _=new Date(V);e.value.some(T=>new Date(T.StartDate).toDateString()===_.toDateString())||m.value.push(_)}},C=vt(),x=vt({month:null,year:null}),D=()=>{x.month=f.value.getMonth(),x.year=f.value.getFullYear(),new bootstrap.Modal(document.getElementById("bookingPopup")).show()},M=()=>{bootstrap.Modal.getInstance(document.getElementById("bookingPopup")).hide()},P=()=>{const V=(parseFloat(n.value.Price)||0)*Y.value,_=Object.values(L.value).reduce((T,$)=>{const q=parseFloat($.Price)||0,I=$.Quantity||0;return T+q*I},0);return V+_},H=()=>{N()&&(r.value<3?r.value++:Nt())},F=()=>{r.value>1?r.value--:M()},Z=V=>{W.splice(0,W.length);for(let _=0;_<V;_++)_==0?W.push({firstName:pt.firstName,lastName:pt.lastName,email:a.value.Email,fullNameOnPassport:a.value.FullName,passportNumber:"",dateOfBirth:"",gender:"",nationality:"",phoneNumber:a.value.PhoneNumber}):W.push({firstName:"",lastName:"",email:"",fullNameOnPassport:"",passportNumber:"",dateOfBirth:"",gender:"",nationality:"",phoneNumber:""})},Y=vt(0),L=vt({}),K=vt({}),lt=vt({}),dt=V=>{Y.value=V,Z(V)},ut=(V,_)=>{const T=i.value.find($=>$.ServiceID==V);L.value[V]={Quantity:_,...T}},X=async V=>{try{const _=t.params.tourid,T=await Pt.get(`/api/tour/${_}/${V}`);T.status===200&&T.data.forEach($=>{lt.value[$.ServiceID]=$}),console.log(lt.value)}catch(_){console.log("getschedule_ts",_)}},nt=V=>{let _=[];for(let T=0;T<=V;T++)_.push(T);return _},pt=Je({firstName:"",lastName:"",email:"",confirmEmail:"",phoneNumber:""}),W=Je([{}]);Je({cardNumber:"",expirationDate:"",cvc:"",nameOnCard:"",addressLine1:"",addressLine2:"",city:"",postcode:"",country:"Vietnam"});const At=async V=>{try{lt.value=[],K.value={},C.value=null,v.value!=null&&v.value.length>0&&(m.value=[...m.value,...v.value.slice(1)],v.value=[]);const _=e.value.findIndex(T=>new Date(T.StartDate).toDateString()===V.toDateString());if(_!=-1){if(e.value[_].Status!="Full"){C.value=new Date(V).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),K.value=e.value[_],X(K.value.ScheduleID);const T=new Date(V);v.value.push(V);const $=n.value.Duration;console.log($);for(let q=0;q<$;q++){const I=new Date(T);I.setDate(T.getDate()+q);const z=m.value.findIndex(J=>J.toDateString()===I.toDateString());z!==-1&&(v.value.push(m.value[z]),m.value.splice(z,1))}}}else C.value=null,lt.value=[]}catch(_){console.error("Error remove 7 days after selected date:",_)}},ct=async V=>{try{const _=await Pt.get(`/api/tour/${V}/schedule`);e.value=_.data,e.value.sort((T,$)=>new Date(T.StartDate)-new Date($.StartDate)),console.log(e.value),f.value=new Date(Math.min(...e.value.map(T=>new Date(T.StartDate)))),p.value=new Date(Math.max(...e.value.map(T=>new Date(T.StartDate)))),p.value.setDate(p.value.getDate()+30),E(),e.value.map(T=>{T.StartDate=new Date(T.StartDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})}catch(_){console.error("Error fetching Tour Schedule:",_)}},Mt=async V=>{try{const _=await Pt.get(`/api/tour/${V}`);n.value=_.data,console.log(n.value)}catch(_){console.error("Error fetching Tour Detail:",_)}},It=async V=>{try{const _=await Pt.get(`/api/tour/${V}/service`);console.log(_.data),i.value=_.data}catch(_){console.error("Error fetching Tour Detail:",_)}},Qt=async V=>{try{const _=await Pt.get(`/api/itinerary/${V}`);console.log(_.data),o.value=_.data}catch(_){console.error("Error fetching Tour Detail:",_)}},Rt=()=>i.value.reduce((V,_)=>{const T=_.Status;return console.log(T),V[T]||(V[T]=[]),V[T].push(_),console.log("acc: ",V),V},{}),N=()=>{if(r.value===1){if(!C.value)return alert("Please select a departure date."),!1;if(Y.value<=0)return alert("Please select a package."),!1}if(r.value===2){if(!pt.firstName||!pt.lastName||!pt.email||!pt.confirmEmail||!pt.phoneNumber)return alert("Please fill in all buyer information."),!1;if(pt.email!==pt.confirmEmail)return alert("Email and Confirm Email do not match."),!1;for(let V of W)if(!V.firstName||!V.lastName||!V.email||!V.fullNameOnPassport||!V.gender||!V.passportNumber||!V.nationality||!V.phoneNumber)return alert("Please fill in all participant information."),!1}return!0};function rt(V){let _=V.trim().split(/\s+/),T=_[0],$=_.slice(1).join(" ");return{firstName:T,lastName:$}}const ot=V=>{console.log(V),pt.email=V.Email,pt.confirmEmail=V.Email,pt.phoneNumber=V.PhoneNumber?V.PhoneNumber:"";const _=rt(V.FullName);pt.firstName=_.firstName,pt.lastName=_.lastName},gt=()=>{const V=JSON.parse(localStorage.getItem("user"));V&&(a.value=V,ot(V))},Nt=async()=>{var V;try{W.map(T=>{T.dateOfBirth=B3(new Date(T.dateOfBirth),"yyyy-MM-dd HH:mm:ss")}),(await Pt.post("/api/create_booking",{Buyer:a.value,Participant:W,schedulePicked:K.value,selectedOptions:Object.values(L.value),total:P()})).status===200?(console.log("Booking created successfully:"),alert("Book Tour successfully"),location.reload()):alert("Booking Failed")}catch(_){console.error("Error creating booking:",((V=_.response)==null?void 0:V.data)||_.message)}};return $e(()=>W[0],V=>{V&&(pt.firstName=V.firstName,pt.lastName=V.lastName,pt.email=V.email,pt.phoneNumber=V.phoneNumber)},{deep:!0}),$e(()=>pt,V=>{W[0]&&(W[0].firstName=V.firstName,W[0].lastName=V.lastName,W[0].email=V.email,W[0].phoneNumber=V.phoneNumber)},{deep:!0}),$e(f,V=>{V&&(x.value={month:V.getMonth(),year:V.getFullYear()})},{immediate:!0}),ls(()=>{const V=t.params.tourid;gt(),ct(V),It(V),Mt(V),Qt(V)}),(V,_)=>{const T=as("router-link"),$=as("VCalendar"),q=as("VDatePicker");return R(),O("div",U3,[g("header",null,[G(zr,{class:"navigate"}),g("div",j3,[G(Tl,{image:"https://media.istockphoto.com/id/488876192/vi/anh/hoi-an-vietnam.jpg?s=2048x2048&w=is&k=20&c=i9PyzEChi5gMuB4Jf1HAzOmdEmY28_Bo3aBVx0tJb3Q=",p1:n.value.Duration+" Days - "+n.value.TourName,p2:""},null,8,["p1"])])]),g("div",Y3,[g("div",V3,[g("h1",W3,"$"+U(parseFloat(n.value.Price).toFixed(2)),1),g("h6",null,"deposit $"+U(parseFloat(n.value.Price*.3).toFixed(2)),1),_[9]||(_[9]=g("hr",null,null,-1)),g("div",{class:"btn btn-success",onClick:D},"Book Now"),_[10]||(_[10]=g("hr",null,null,-1)),G(T,{class:"btn btn-info"},{default:ie(()=>_[8]||(_[8]=[Jt("Ask a question")])),_:1})])]),g("main",null,[g("div",q3,[g("div",z3,[g("div",G3,[g("div",{class:"modal-header"},[_[11]||(_[11]=g("h5",{class:"modal-title",id:"popupTitle"},"Discover Vietnam",-1)),g("button",{type:"button",class:"btn-close",onClick:M})]),g("div",K3,[g("span",{class:Ft(["breadcrumb-item",{active:r.value===1}])}," Choose a Package ",2),_[12]||(_[12]=g("span",{class:"breadcrumb-separator"},">",-1)),g("span",{class:Ft(["breadcrumb-item",{active:r.value===2}])}," Add Participant Info ",2),_[13]||(_[13]=g("span",{class:"breadcrumb-separator"},">",-1)),g("span",{class:Ft(["breadcrumb-item",{active:r.value===3}])}," Complete Payment ",2)]),g("div",X3,[g("div",J3,[g("div",Q3,[r.value===1?(R(),O("div",Z3,[g("div",null,[_[14]||(_[14]=g("h5",null,"Select Departure",-1)),g("div",tB,[(R(),Fe($,{columns:Q(c),expanded:Q(d),color:h.value,attributes:[...b.value,...y.value],"disabled-dates":Q(m),"min-date":Q(f),"max-date":Q(p),"initial-page":"initial_page",key:x.value.month+"-"+x.value.year,modelValue:C.value,"onUpdate:modelValue":_[0]||(_[0]=I=>C.value=I),onDayclick:_[1]||(_[1]=I=>At(I.date)),borderless:"","is-required":""},null,8,["columns","expanded","color","attributes","disabled-dates","min-date","max-date","modelValue"]))])]),g("div",eB,[g("div",sB,[_[15]||(_[15]=g("h5",null,"Package",-1)),C.value&&K.value.AvailableSpots?(R(),O("h6",nB,U(K.value.AvailableSpots)+" left ",1)):Ot("",!0)]),g("div",iB,[g("div",rB,[g("button",aB,[_[16]||(_[16]=g("i",{class:"bi bi-person"},null,-1)),Jt(" "+U(Y.value),1)]),g("ul",oB,[(R(!0),O(Et,null,Wt(nt(K.value.AvailableSpots),I=>(R(),O("li",{key:I},[g("a",{class:"dropdown-item",href:"#",onClick:hi(z=>dt(I),["prevent"])},U(I),9,lB)]))),128))])]),g("h6",cB,[_[17]||(_[17]=Jt(" Trip Price: ")),g("strong",null,"$"+U(n.value.Price),1)])]),_[19]||(_[19]=g("h5",null,"Select Options",-1)),(R(!0),O(Et,null,Wt(Rt(),(I,z)=>(R(),O("div",{class:"form-check px-0",key:z},[z!="Available"?(R(),O("div",uB,[(R(!0),O(Et,null,Wt(I,(J,it)=>{var at,st,_t;return R(),O("div",{key:it},[g("div",dB,[g("div",hB,[g("div",fB,[g("button",pB,U(((at=L.value[J.ServiceID])==null?void 0:at.Quantity)||0),1),g("ul",mB,[(R(!0),O(Et,null,Wt(nt(((st=lt.value[J.ServiceID])==null?void 0:st.AvailableSpots)||0),ht=>(R(),O("li",{key:ht},[g("a",{class:"dropdown-item",href:"#",onClick:hi(wt=>ut(J.ServiceID,ht),["prevent"])},U(ht),9,gB)]))),128))])])]),g("div",vB,[g("div",bB,[g("div",yB,[g("h5",null,U(J.ServiceName),1),C.value?(R(),O("h6",wB,U(((_t=lt.value[J.ServiceID])==null?void 0:_t.AvailableSpots)||0)+" left ",1)):Ot("",!0),g("h5",_B," $"+U(J.Price),1)]),g("div",null,U(J.Description),1)]),_[18]||(_[18]=g("hr",null,null,-1))])])])}),128))])):Ot("",!0)]))),128))])])):r.value===2?(R(),O("div",AB,[_[38]||(_[38]=g("h6",null,"Buyer Information",-1)),g("div",null,[g("div",SB,[g("div",EB,[_[20]||(_[20]=g("label",{for:"",class:"form-label"},"First Name",-1)),ee(g("input",{"onUpdate:modelValue":_[2]||(_[2]=I=>pt.firstName=I),type:"text",class:"form-control",placeholder:"First Name",required:""},null,512),[[pe,pt.firstName]])]),g("div",xB,[_[21]||(_[21]=g("label",{for:"",class:"form-label"},"Last Name",-1)),ee(g("input",{"onUpdate:modelValue":_[3]||(_[3]=I=>pt.lastName=I),type:"text",class:"form-control",placeholder:"Last Name",required:""},null,512),[[pe,pt.lastName]])]),g("div",CB,[_[22]||(_[22]=g("label",{for:"",class:"form-label"},"Email",-1)),ee(g("input",{"onUpdate:modelValue":_[4]||(_[4]=I=>pt.email=I),type:"email",class:"form-control",placeholder:"Email",required:""},null,512),[[pe,pt.email]])]),g("div",TB,[_[23]||(_[23]=g("label",{for:"",class:"form-label"},"Confirm Email",-1)),ee(g("input",{"onUpdate:modelValue":_[5]||(_[5]=I=>pt.confirmEmail=I),type:"email",class:"form-control",placeholder:"Confirm Email",onPaste:_[6]||(_[6]=hi(()=>{},["prevent"])),required:""},null,544),[[pe,pt.confirmEmail]])]),g("div",DB,[_[24]||(_[24]=g("label",{for:"",class:"form-label"},"Phone Number",-1)),ee(g("input",{"onUpdate:modelValue":_[7]||(_[7]=I=>pt.phoneNumber=I),type:"text",class:"form-control",placeholder:"Your Answer",required:""},null,512),[[pe,pt.phoneNumber]])]),_[25]||(_[25]=g("hr",null,null,-1))]),g("div",null,[_[37]||(_[37]=g("h6",null,"Participant Information",-1)),(R(!0),O(Et,null,Wt(W,(I,z)=>(R(),O("div",{key:z},[g("h5",kB,U(z+1),1),g("div",null,[g("div",PB,[g("div",MB,[_[26]||(_[26]=g("label",{for:"",class:"form-label"},"First Name",-1)),ee(g("input",{"onUpdate:modelValue":J=>I.firstName=J,type:"text",class:"form-control",placeholder:"First Name",required:""},null,8,RB),[[pe,I.firstName]])]),g("div",OB,[_[27]||(_[27]=g("label",{for:"",class:"form-label"},"Last Name",-1)),ee(g("input",{"onUpdate:modelValue":J=>I.lastName=J,type:"text",class:"form-control",placeholder:"Last Name",required:""},null,8,IB),[[pe,I.lastName]])]),g("div",$B,[_[28]||(_[28]=g("label",{for:"",class:"form-label"},"Date of Birth ",-1)),G(q,{modelValue:I.dateOfBirth,"onUpdate:modelValue":J=>I.dateOfBirth=J,popover:V.popover},{default:ie(({inputValue:J,inputEvents:it})=>[g("input",Xa({class:"form-control",value:J},sA(it,!0)),null,16,LB)]),_:2},1032,["modelValue","onUpdate:modelValue","popover"])]),g("div",NB,[_[29]||(_[29]=g("label",{for:"",class:"form-label"},"Email",-1)),ee(g("input",{"onUpdate:modelValue":J=>I.email=J,type:"email",class:"form-control",placeholder:"Email",required:""},null,8,FB),[[pe,I.email]])])]),g("div",BB,[_[30]||(_[30]=g("label",{for:"inputNameOnPassport",class:"form-label m-1"},"Full Name On Passport",-1)),ee(g("input",{id:"inputNameOnPassport","onUpdate:modelValue":J=>I.fullNameOnPassport=J,type:"text",class:"form-control",placeholder:"Your Answer",required:""},null,8,HB),[[pe,I.fullNameOnPassport]])]),g("div",UB,[_[31]||(_[31]=g("label",{for:"inputPassportNumber",class:"form-label m-1"},"Passport Number",-1)),ee(g("input",{id:"inputPassportNumber","onUpdate:modelValue":J=>I.passportNumber=J,type:"number",class:"form-control",placeholder:"Your Answer",required:""},null,8,jB),[[pe,I.passportNumber]])]),g("div",YB,[_[34]||(_[34]=g("label",{for:"gender",class:"form-label m-1"},"Gender",-1)),g("div",VB,[ee(g("input",{type:"radio",class:"form-check-input",id:"male","onUpdate:modelValue":J=>I.gender=J,value:"male"},null,8,WB),[[tv,I.gender]]),_[32]||(_[32]=g("label",{for:"male",class:"form-check-label"},"Male",-1))]),g("div",qB,[ee(g("input",{type:"radio",class:"form-check-input",id:"female","onUpdate:modelValue":J=>I.gender=J,value:"female"},null,8,zB),[[tv,I.gender]]),_[33]||(_[33]=g("label",{for:"female",class:"form-check-label"},"Female",-1))])]),g("div",GB,[_[35]||(_[35]=g("label",{for:"inputNationality",class:"form-label m-1"},"Nationality",-1)),ee(g("input",{id:"inputNationality","onUpdate:modelValue":J=>I.nationality=J,type:"text",class:"form-control",placeholder:"Your Answer",required:""},null,8,KB),[[pe,I.nationality]])]),g("div",XB,[_[36]||(_[36]=g("label",{for:"inputPhoneNumber",class:"form-label m-1"},"Phone Number",-1)),ee(g("input",{id:"inputPhoneNumber","onUpdate:modelValue":J=>I.phoneNumber=J,type:"text",class:"form-control",placeholder:"Your Answer",required:""},null,8,JB),[[pe,I.phoneNumber]])])])]))),128))])])])):Ot("",!0),g("div",QB,[_[41]||(_[41]=g("h6",null,"Your Booking",-1)),g("div",null,[g("div",ZB,[_[39]||(_[39]=g("h6",{class:"text-bold"},"Trip Price:",-1)),g("h6",tH," $"+U(n.value.Price*Y.value),1)]),g("span",eH,"$"+U(n.value.Price)+" * "+U(Y.value),1)]),_[42]||(_[42]=g("hr",null,null,-1)),Object.keys(L.value).length>0?(R(),O("div",sH,[(R(!0),O(Et,null,Wt(L.value,(I,z)=>(R(),O("div",{class:"my-2",key:z},[g("div",nH,[g("h6",iH,U(I.ServiceName),1),g("h6",rH," $"+U(I.Price*I.Quantity),1)]),g("span",aH," $"+U(I.Price)+" * "+U(I.Quantity),1)]))),128)),_[40]||(_[40]=g("hr",null,null,-1))])):Ot("",!0),g("p",null,"Trip Total: $"+U(P()),1)])])])]),g("div",oH,[g("button",{type:"button",class:"btn btn-secondary",onClick:F},U(r.value>1?"Back":"Close"),1),g("button",{type:"submit",class:"btn btn-primary",onClick:H},U(r.value===3?"Confirm Booking":"Continue"),1)])])])]),G(CF,{Schedules:e.value,Tour:n.value,Services:i.value,Itineraries:o.value},null,8,["Schedules","Tour","Services","Itineraries"]),G(Gr)])])}}},cH=re(lH,[["__scopeId","data-v-e4772b0b"]]),uH=RP({history:oP("/Web_Hamorny_Charity_Travel/"),routes:[{path:"/",name:"home",component:RM},{path:"/Ebook",name:"Ebook",component:VM},{path:"/About",name:"About",component:gR},{path:"/Blog",name:"Blog",component:d2},{path:"/Charity",name:"Charity",component:r$},{path:"/blogs/:id",component:MN},{path:"/create",component:o2},{path:"/sign_in_and_out",component:GN},{path:"/view-file/:id",name:"FileViewer",component:eF},{path:"/TourDetail/:tourid",component:cH},{path:"/OrderHistory",component:pS}],scrollBehavior(s,t,e){return{top:0}}});var sn="top",Wn="bottom",qn="right",nn="left",Ay="auto",bf=[sn,Wn,qn,nn],pu="start",Nd="end",dH="clippingParents",gx="viewport",Yu="popper",hH="reference",V0=bf.reduce(function(s,t){return s.concat([t+"-"+pu,t+"-"+Nd])},[]),vx=[].concat(bf,[Ay]).reduce(function(s,t){return s.concat([t,t+"-"+pu,t+"-"+Nd])},[]),fH="beforeRead",pH="read",mH="afterRead",gH="beforeMain",vH="main",bH="afterMain",yH="beforeWrite",wH="write",_H="afterWrite",AH=[fH,pH,mH,gH,vH,bH,yH,wH,_H];function Ji(s){return s?(s.nodeName||"").toLowerCase():null}function Sn(s){if(s==null)return window;if(s.toString()!=="[object Window]"){var t=s.ownerDocument;return t&&t.defaultView||window}return s}function El(s){var t=Sn(s).Element;return s instanceof t||s instanceof Element}function Un(s){var t=Sn(s).HTMLElement;return s instanceof t||s instanceof HTMLElement}function Sy(s){if(typeof ShadowRoot>"u")return!1;var t=Sn(s).ShadowRoot;return s instanceof t||s instanceof ShadowRoot}function SH(s){var t=s.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},r=t.elements[e];!Un(r)||!Ji(r)||(Object.assign(r.style,n),Object.keys(i).forEach(function(a){var o=i[a];o===!1?r.removeAttribute(a):r.setAttribute(a,o===!0?"":o)}))})}function EH(s){var t=s.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(n){var i=t.elements[n],r=t.attributes[n]||{},a=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:e[n]),o=a.reduce(function(l,c){return l[c]="",l},{});!Un(i)||!Ji(i)||(Object.assign(i.style,o),Object.keys(r).forEach(function(l){i.removeAttribute(l)}))})}}const xH={name:"applyStyles",enabled:!0,phase:"write",fn:SH,effect:EH,requires:["computeStyles"]};function Xi(s){return s.split("-")[0]}var gl=Math.max,Vp=Math.min,mu=Math.round;function Cb(){var s=navigator.userAgentData;return s!=null&&s.brands&&Array.isArray(s.brands)?s.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function bx(){return!/^((?!chrome|android).)*safari/i.test(Cb())}function gu(s,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var n=s.getBoundingClientRect(),i=1,r=1;t&&Un(s)&&(i=s.offsetWidth>0&&mu(n.width)/s.offsetWidth||1,r=s.offsetHeight>0&&mu(n.height)/s.offsetHeight||1);var a=El(s)?Sn(s):window,o=a.visualViewport,l=!bx()&&e,c=(n.left+(l&&o?o.offsetLeft:0))/i,d=(n.top+(l&&o?o.offsetTop:0))/r,h=n.width/i,f=n.height/r;return{width:h,height:f,top:d,right:c+h,bottom:d+f,left:c,x:c,y:d}}function Ey(s){var t=gu(s),e=s.offsetWidth,n=s.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:s.offsetLeft,y:s.offsetTop,width:e,height:n}}function yx(s,t){var e=t.getRootNode&&t.getRootNode();if(s.contains(t))return!0;if(e&&Sy(e)){var n=t;do{if(n&&s.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function jr(s){return Sn(s).getComputedStyle(s)}function CH(s){return["table","td","th"].indexOf(Ji(s))>=0}function Qa(s){return((El(s)?s.ownerDocument:s.document)||window.document).documentElement}function Km(s){return Ji(s)==="html"?s:s.assignedSlot||s.parentNode||(Sy(s)?s.host:null)||Qa(s)}function W0(s){return!Un(s)||jr(s).position==="fixed"?null:s.offsetParent}function TH(s){var t=/firefox/i.test(Cb()),e=/Trident/i.test(Cb());if(e&&Un(s)){var n=jr(s);if(n.position==="fixed")return null}var i=Km(s);for(Sy(i)&&(i=i.host);Un(i)&&["html","body"].indexOf(Ji(i))<0;){var r=jr(i);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||t&&r.willChange==="filter"||t&&r.filter&&r.filter!=="none")return i;i=i.parentNode}return null}function yf(s){for(var t=Sn(s),e=W0(s);e&&CH(e)&&jr(e).position==="static";)e=W0(e);return e&&(Ji(e)==="html"||Ji(e)==="body"&&jr(e).position==="static")?t:e||TH(s)||t}function xy(s){return["top","bottom"].indexOf(s)>=0?"x":"y"}function _d(s,t,e){return gl(s,Vp(t,e))}function DH(s,t,e){var n=_d(s,t,e);return n>e?e:n}function wx(){return{top:0,right:0,bottom:0,left:0}}function _x(s){return Object.assign({},wx(),s)}function Ax(s,t){return t.reduce(function(e,n){return e[n]=s,e},{})}var kH=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,_x(typeof t!="number"?t:Ax(t,bf))};function PH(s){var t,e=s.state,n=s.name,i=s.options,r=e.elements.arrow,a=e.modifiersData.popperOffsets,o=Xi(e.placement),l=xy(o),c=[nn,qn].indexOf(o)>=0,d=c?"height":"width";if(!(!r||!a)){var h=kH(i.padding,e),f=Ey(r),p=l==="y"?sn:nn,m=l==="y"?Wn:qn,v=e.rects.reference[d]+e.rects.reference[l]-a[l]-e.rects.popper[d],b=a[l]-e.rects.reference[l],y=yf(r),E=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,C=v/2-b/2,x=h[p],D=E-f[d]-h[m],M=E/2-f[d]/2+C,P=_d(x,M,D),H=l;e.modifiersData[n]=(t={},t[H]=P,t.centerOffset=P-M,t)}}function MH(s){var t=s.state,e=s.options,n=e.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||yx(t.elements.popper,i)&&(t.elements.arrow=i))}const RH={name:"arrow",enabled:!0,phase:"main",fn:PH,effect:MH,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function vu(s){return s.split("-")[1]}var OH={top:"auto",right:"auto",bottom:"auto",left:"auto"};function IH(s,t){var e=s.x,n=s.y,i=t.devicePixelRatio||1;return{x:mu(e*i)/i||0,y:mu(n*i)/i||0}}function q0(s){var t,e=s.popper,n=s.popperRect,i=s.placement,r=s.variation,a=s.offsets,o=s.position,l=s.gpuAcceleration,c=s.adaptive,d=s.roundOffsets,h=s.isFixed,f=a.x,p=f===void 0?0:f,m=a.y,v=m===void 0?0:m,b=typeof d=="function"?d({x:p,y:v}):{x:p,y:v};p=b.x,v=b.y;var y=a.hasOwnProperty("x"),E=a.hasOwnProperty("y"),C=nn,x=sn,D=window;if(c){var M=yf(e),P="clientHeight",H="clientWidth";if(M===Sn(e)&&(M=Qa(e),jr(M).position!=="static"&&o==="absolute"&&(P="scrollHeight",H="scrollWidth")),M=M,i===sn||(i===nn||i===qn)&&r===Nd){x=Wn;var F=h&&M===D&&D.visualViewport?D.visualViewport.height:M[P];v-=F-n.height,v*=l?1:-1}if(i===nn||(i===sn||i===Wn)&&r===Nd){C=qn;var Z=h&&M===D&&D.visualViewport?D.visualViewport.width:M[H];p-=Z-n.width,p*=l?1:-1}}var Y=Object.assign({position:o},c&&OH),L=d===!0?IH({x:p,y:v},Sn(e)):{x:p,y:v};if(p=L.x,v=L.y,l){var K;return Object.assign({},Y,(K={},K[x]=E?"0":"",K[C]=y?"0":"",K.transform=(D.devicePixelRatio||1)<=1?"translate("+p+"px, "+v+"px)":"translate3d("+p+"px, "+v+"px, 0)",K))}return Object.assign({},Y,(t={},t[x]=E?v+"px":"",t[C]=y?p+"px":"",t.transform="",t))}function $H(s){var t=s.state,e=s.options,n=e.gpuAcceleration,i=n===void 0?!0:n,r=e.adaptive,a=r===void 0?!0:r,o=e.roundOffsets,l=o===void 0?!0:o,c={placement:Xi(t.placement),variation:vu(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,q0(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,q0(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const LH={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:$H,data:{}};var Rf={passive:!0};function NH(s){var t=s.state,e=s.instance,n=s.options,i=n.scroll,r=i===void 0?!0:i,a=n.resize,o=a===void 0?!0:a,l=Sn(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&c.forEach(function(d){d.addEventListener("scroll",e.update,Rf)}),o&&l.addEventListener("resize",e.update,Rf),function(){r&&c.forEach(function(d){d.removeEventListener("scroll",e.update,Rf)}),o&&l.removeEventListener("resize",e.update,Rf)}}const FH={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:NH,data:{}};var BH={left:"right",right:"left",bottom:"top",top:"bottom"};function yp(s){return s.replace(/left|right|bottom|top/g,function(t){return BH[t]})}var HH={start:"end",end:"start"};function z0(s){return s.replace(/start|end/g,function(t){return HH[t]})}function Cy(s){var t=Sn(s),e=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:e,scrollTop:n}}function Ty(s){return gu(Qa(s)).left+Cy(s).scrollLeft}function UH(s,t){var e=Sn(s),n=Qa(s),i=e.visualViewport,r=n.clientWidth,a=n.clientHeight,o=0,l=0;if(i){r=i.width,a=i.height;var c=bx();(c||!c&&t==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:r,height:a,x:o+Ty(s),y:l}}function jH(s){var t,e=Qa(s),n=Cy(s),i=(t=s.ownerDocument)==null?void 0:t.body,r=gl(e.scrollWidth,e.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=gl(e.scrollHeight,e.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-n.scrollLeft+Ty(s),l=-n.scrollTop;return jr(i||e).direction==="rtl"&&(o+=gl(e.clientWidth,i?i.clientWidth:0)-r),{width:r,height:a,x:o,y:l}}function Dy(s){var t=jr(s),e=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+i+n)}function Sx(s){return["html","body","#document"].indexOf(Ji(s))>=0?s.ownerDocument.body:Un(s)&&Dy(s)?s:Sx(Km(s))}function Ad(s,t){var e;t===void 0&&(t=[]);var n=Sx(s),i=n===((e=s.ownerDocument)==null?void 0:e.body),r=Sn(n),a=i?[r].concat(r.visualViewport||[],Dy(n)?n:[]):n,o=t.concat(a);return i?o:o.concat(Ad(Km(a)))}function Tb(s){return Object.assign({},s,{left:s.x,top:s.y,right:s.x+s.width,bottom:s.y+s.height})}function YH(s,t){var e=gu(s,!1,t==="fixed");return e.top=e.top+s.clientTop,e.left=e.left+s.clientLeft,e.bottom=e.top+s.clientHeight,e.right=e.left+s.clientWidth,e.width=s.clientWidth,e.height=s.clientHeight,e.x=e.left,e.y=e.top,e}function G0(s,t,e){return t===gx?Tb(UH(s,e)):El(t)?YH(t,e):Tb(jH(Qa(s)))}function VH(s){var t=Ad(Km(s)),e=["absolute","fixed"].indexOf(jr(s).position)>=0,n=e&&Un(s)?yf(s):s;return El(n)?t.filter(function(i){return El(i)&&yx(i,n)&&Ji(i)!=="body"}):[]}function WH(s,t,e,n){var i=t==="clippingParents"?VH(s):[].concat(t),r=[].concat(i,[e]),a=r[0],o=r.reduce(function(l,c){var d=G0(s,c,n);return l.top=gl(d.top,l.top),l.right=Vp(d.right,l.right),l.bottom=Vp(d.bottom,l.bottom),l.left=gl(d.left,l.left),l},G0(s,a,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Ex(s){var t=s.reference,e=s.element,n=s.placement,i=n?Xi(n):null,r=n?vu(n):null,a=t.x+t.width/2-e.width/2,o=t.y+t.height/2-e.height/2,l;switch(i){case sn:l={x:a,y:t.y-e.height};break;case Wn:l={x:a,y:t.y+t.height};break;case qn:l={x:t.x+t.width,y:o};break;case nn:l={x:t.x-e.width,y:o};break;default:l={x:t.x,y:t.y}}var c=i?xy(i):null;if(c!=null){var d=c==="y"?"height":"width";switch(r){case pu:l[c]=l[c]-(t[d]/2-e[d]/2);break;case Nd:l[c]=l[c]+(t[d]/2-e[d]/2);break}}return l}function Fd(s,t){t===void 0&&(t={});var e=t,n=e.placement,i=n===void 0?s.placement:n,r=e.strategy,a=r===void 0?s.strategy:r,o=e.boundary,l=o===void 0?dH:o,c=e.rootBoundary,d=c===void 0?gx:c,h=e.elementContext,f=h===void 0?Yu:h,p=e.altBoundary,m=p===void 0?!1:p,v=e.padding,b=v===void 0?0:v,y=_x(typeof b!="number"?b:Ax(b,bf)),E=f===Yu?hH:Yu,C=s.rects.popper,x=s.elements[m?E:f],D=WH(El(x)?x:x.contextElement||Qa(s.elements.popper),l,d,a),M=gu(s.elements.reference),P=Ex({reference:M,element:C,strategy:"absolute",placement:i}),H=Tb(Object.assign({},C,P)),F=f===Yu?H:M,Z={top:D.top-F.top+y.top,bottom:F.bottom-D.bottom+y.bottom,left:D.left-F.left+y.left,right:F.right-D.right+y.right},Y=s.modifiersData.offset;if(f===Yu&&Y){var L=Y[i];Object.keys(Z).forEach(function(K){var lt=[qn,Wn].indexOf(K)>=0?1:-1,dt=[sn,Wn].indexOf(K)>=0?"y":"x";Z[K]+=L[dt]*lt})}return Z}function qH(s,t){t===void 0&&(t={});var e=t,n=e.placement,i=e.boundary,r=e.rootBoundary,a=e.padding,o=e.flipVariations,l=e.allowedAutoPlacements,c=l===void 0?vx:l,d=vu(n),h=d?o?V0:V0.filter(function(m){return vu(m)===d}):bf,f=h.filter(function(m){return c.indexOf(m)>=0});f.length===0&&(f=h);var p=f.reduce(function(m,v){return m[v]=Fd(s,{placement:v,boundary:i,rootBoundary:r,padding:a})[Xi(v)],m},{});return Object.keys(p).sort(function(m,v){return p[m]-p[v]})}function zH(s){if(Xi(s)===Ay)return[];var t=yp(s);return[z0(s),t,z0(t)]}function GH(s){var t=s.state,e=s.options,n=s.name;if(!t.modifiersData[n]._skip){for(var i=e.mainAxis,r=i===void 0?!0:i,a=e.altAxis,o=a===void 0?!0:a,l=e.fallbackPlacements,c=e.padding,d=e.boundary,h=e.rootBoundary,f=e.altBoundary,p=e.flipVariations,m=p===void 0?!0:p,v=e.allowedAutoPlacements,b=t.options.placement,y=Xi(b),E=y===b,C=l||(E||!m?[yp(b)]:zH(b)),x=[b].concat(C).reduce(function(It,Qt){return It.concat(Xi(Qt)===Ay?qH(t,{placement:Qt,boundary:d,rootBoundary:h,padding:c,flipVariations:m,allowedAutoPlacements:v}):Qt)},[]),D=t.rects.reference,M=t.rects.popper,P=new Map,H=!0,F=x[0],Z=0;Z<x.length;Z++){var Y=x[Z],L=Xi(Y),K=vu(Y)===pu,lt=[sn,Wn].indexOf(L)>=0,dt=lt?"width":"height",ut=Fd(t,{placement:Y,boundary:d,rootBoundary:h,altBoundary:f,padding:c}),X=lt?K?qn:nn:K?Wn:sn;D[dt]>M[dt]&&(X=yp(X));var nt=yp(X),pt=[];if(r&&pt.push(ut[L]<=0),o&&pt.push(ut[X]<=0,ut[nt]<=0),pt.every(function(It){return It})){F=Y,H=!1;break}P.set(Y,pt)}if(H)for(var W=m?3:1,At=function(Qt){var Rt=x.find(function(N){var rt=P.get(N);if(rt)return rt.slice(0,Qt).every(function(ot){return ot})});if(Rt)return F=Rt,"break"},ct=W;ct>0;ct--){var Mt=At(ct);if(Mt==="break")break}t.placement!==F&&(t.modifiersData[n]._skip=!0,t.placement=F,t.reset=!0)}}const KH={name:"flip",enabled:!0,phase:"main",fn:GH,requiresIfExists:["offset"],data:{_skip:!1}};function K0(s,t,e){return e===void 0&&(e={x:0,y:0}),{top:s.top-t.height-e.y,right:s.right-t.width+e.x,bottom:s.bottom-t.height+e.y,left:s.left-t.width-e.x}}function X0(s){return[sn,qn,Wn,nn].some(function(t){return s[t]>=0})}function XH(s){var t=s.state,e=s.name,n=t.rects.reference,i=t.rects.popper,r=t.modifiersData.preventOverflow,a=Fd(t,{elementContext:"reference"}),o=Fd(t,{altBoundary:!0}),l=K0(a,n),c=K0(o,i,r),d=X0(l),h=X0(c);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}const JH={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:XH};function QH(s,t,e){var n=Xi(s),i=[nn,sn].indexOf(n)>=0?-1:1,r=typeof e=="function"?e(Object.assign({},t,{placement:s})):e,a=r[0],o=r[1];return a=a||0,o=(o||0)*i,[nn,qn].indexOf(n)>=0?{x:o,y:a}:{x:a,y:o}}function ZH(s){var t=s.state,e=s.options,n=s.name,i=e.offset,r=i===void 0?[0,0]:i,a=vx.reduce(function(d,h){return d[h]=QH(h,t.rects,r),d},{}),o=a[t.placement],l=o.x,c=o.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=a}const tU={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ZH};function eU(s){var t=s.state,e=s.name;t.modifiersData[e]=Ex({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const sU={name:"popperOffsets",enabled:!0,phase:"read",fn:eU,data:{}};function nU(s){return s==="x"?"y":"x"}function iU(s){var t=s.state,e=s.options,n=s.name,i=e.mainAxis,r=i===void 0?!0:i,a=e.altAxis,o=a===void 0?!1:a,l=e.boundary,c=e.rootBoundary,d=e.altBoundary,h=e.padding,f=e.tether,p=f===void 0?!0:f,m=e.tetherOffset,v=m===void 0?0:m,b=Fd(t,{boundary:l,rootBoundary:c,padding:h,altBoundary:d}),y=Xi(t.placement),E=vu(t.placement),C=!E,x=xy(y),D=nU(x),M=t.modifiersData.popperOffsets,P=t.rects.reference,H=t.rects.popper,F=typeof v=="function"?v(Object.assign({},t.rects,{placement:t.placement})):v,Z=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),Y=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,L={x:0,y:0};if(M){if(r){var K,lt=x==="y"?sn:nn,dt=x==="y"?Wn:qn,ut=x==="y"?"height":"width",X=M[x],nt=X+b[lt],pt=X-b[dt],W=p?-H[ut]/2:0,At=E===pu?P[ut]:H[ut],ct=E===pu?-H[ut]:-P[ut],Mt=t.elements.arrow,It=p&&Mt?Ey(Mt):{width:0,height:0},Qt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:wx(),Rt=Qt[lt],N=Qt[dt],rt=_d(0,P[ut],It[ut]),ot=C?P[ut]/2-W-rt-Rt-Z.mainAxis:At-rt-Rt-Z.mainAxis,gt=C?-P[ut]/2+W+rt+N+Z.mainAxis:ct+rt+N+Z.mainAxis,Nt=t.elements.arrow&&yf(t.elements.arrow),V=Nt?x==="y"?Nt.clientTop||0:Nt.clientLeft||0:0,_=(K=Y==null?void 0:Y[x])!=null?K:0,T=X+ot-_-V,$=X+gt-_,q=_d(p?Vp(nt,T):nt,X,p?gl(pt,$):pt);M[x]=q,L[x]=q-X}if(o){var I,z=x==="x"?sn:nn,J=x==="x"?Wn:qn,it=M[D],at=D==="y"?"height":"width",st=it+b[z],_t=it-b[J],ht=[sn,nn].indexOf(y)!==-1,wt=(I=Y==null?void 0:Y[D])!=null?I:0,Tt=ht?st:it-P[at]-H[at]-wt+Z.altAxis,Ht=ht?it+P[at]+H[at]-wt-Z.altAxis:_t,Zt=p&&ht?DH(Tt,it,Ht):_d(p?Tt:st,it,p?Ht:_t);M[D]=Zt,L[D]=Zt-it}t.modifiersData[n]=L}}const rU={name:"preventOverflow",enabled:!0,phase:"main",fn:iU,requiresIfExists:["offset"]};function aU(s){return{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}}function oU(s){return s===Sn(s)||!Un(s)?Cy(s):aU(s)}function lU(s){var t=s.getBoundingClientRect(),e=mu(t.width)/s.offsetWidth||1,n=mu(t.height)/s.offsetHeight||1;return e!==1||n!==1}function cU(s,t,e){e===void 0&&(e=!1);var n=Un(t),i=Un(t)&&lU(t),r=Qa(t),a=gu(s,i,e),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!e)&&((Ji(t)!=="body"||Dy(r))&&(o=oU(t)),Un(t)?(l=gu(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):r&&(l.x=Ty(r))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function uU(s){var t=new Map,e=new Set,n=[];s.forEach(function(r){t.set(r.name,r)});function i(r){e.add(r.name);var a=[].concat(r.requires||[],r.requiresIfExists||[]);a.forEach(function(o){if(!e.has(o)){var l=t.get(o);l&&i(l)}}),n.push(r)}return s.forEach(function(r){e.has(r.name)||i(r)}),n}function dU(s){var t=uU(s);return AH.reduce(function(e,n){return e.concat(t.filter(function(i){return i.phase===n}))},[])}function hU(s){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(s())})})),t}}function fU(s){var t=s.reduce(function(e,n){var i=e[n.name];return e[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,e},{});return Object.keys(t).map(function(e){return t[e]})}var J0={placement:"bottom",modifiers:[],strategy:"absolute"};function Q0(){for(var s=arguments.length,t=new Array(s),e=0;e<s;e++)t[e]=arguments[e];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function pU(s){s===void 0&&(s={});var t=s,e=t.defaultModifiers,n=e===void 0?[]:e,i=t.defaultOptions,r=i===void 0?J0:i;return function(o,l,c){c===void 0&&(c=r);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},J0,r),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},h=[],f=!1,p={state:d,setOptions:function(y){var E=typeof y=="function"?y(d.options):y;v(),d.options=Object.assign({},r,d.options,E),d.scrollParents={reference:El(o)?Ad(o):o.contextElement?Ad(o.contextElement):[],popper:Ad(l)};var C=dU(fU([].concat(n,d.options.modifiers)));return d.orderedModifiers=C.filter(function(x){return x.enabled}),m(),p.update()},forceUpdate:function(){if(!f){var y=d.elements,E=y.reference,C=y.popper;if(Q0(E,C)){d.rects={reference:cU(E,yf(C),d.options.strategy==="fixed"),popper:Ey(C)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(Z){return d.modifiersData[Z.name]=Object.assign({},Z.data)});for(var x=0;x<d.orderedModifiers.length;x++){if(d.reset===!0){d.reset=!1,x=-1;continue}var D=d.orderedModifiers[x],M=D.fn,P=D.options,H=P===void 0?{}:P,F=D.name;typeof M=="function"&&(d=M({state:d,options:H,name:F,instance:p})||d)}}}},update:hU(function(){return new Promise(function(b){p.forceUpdate(),b(d)})}),destroy:function(){v(),f=!0}};if(!Q0(o,l))return p;p.setOptions(c).then(function(b){!f&&c.onFirstUpdate&&c.onFirstUpdate(b)});function m(){d.orderedModifiers.forEach(function(b){var y=b.name,E=b.options,C=E===void 0?{}:E,x=b.effect;if(typeof x=="function"){var D=x({state:d,name:y,instance:p,options:C}),M=function(){};h.push(D||M)}})}function v(){h.forEach(function(b){return b()}),h=[]}return p}}var mU=[FH,sU,LH,xH,tU,KH,rU,RH,JH],gU=pU({defaultModifiers:mU}),vU=Object.defineProperty,bU=(s,t,e)=>t in s?vU(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,Ct=(s,t,e)=>(bU(s,typeof t!="symbol"?t+"":t,e),e),Of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xx(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var yU=Object.prototype,wU=yU.hasOwnProperty;function _U(s,t){return s!=null&&wU.call(s,t)}var AU=_U,SU=Array.isArray,yi=SU,EU=typeof Of=="object"&&Of&&Of.Object===Object&&Of,Cx=EU,xU=Cx,CU=typeof self=="object"&&self&&self.Object===Object&&self,TU=xU||CU||Function("return this")(),tr=TU,DU=tr,kU=DU.Symbol,Xm=kU,Z0=Xm,Tx=Object.prototype,PU=Tx.hasOwnProperty,MU=Tx.toString,Vu=Z0?Z0.toStringTag:void 0;function RU(s){var t=PU.call(s,Vu),e=s[Vu];try{s[Vu]=void 0;var n=!0}catch{}var i=MU.call(s);return n&&(t?s[Vu]=e:delete s[Vu]),i}var OU=RU,IU=Object.prototype,$U=IU.toString;function LU(s){return $U.call(s)}var NU=LU,t_=Xm,FU=OU,BU=NU,HU="[object Null]",UU="[object Undefined]",e_=t_?t_.toStringTag:void 0;function jU(s){return s==null?s===void 0?UU:HU:e_&&e_ in Object(s)?FU(s):BU(s)}var er=jU;function YU(s){return s!=null&&typeof s=="object"}var wi=YU,VU=er,WU=wi,qU="[object Symbol]";function zU(s){return typeof s=="symbol"||WU(s)&&VU(s)==qU}var ky=zU,GU=yi,KU=ky,XU=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,JU=/^\w*$/;function QU(s,t){if(GU(s))return!1;var e=typeof s;return e=="number"||e=="symbol"||e=="boolean"||s==null||KU(s)?!0:JU.test(s)||!XU.test(s)||t!=null&&s in Object(t)}var Py=QU;function ZU(s){var t=typeof s;return s!=null&&(t=="object"||t=="function")}var Kr=ZU,t4=er,e4=Kr,s4="[object AsyncFunction]",n4="[object Function]",i4="[object GeneratorFunction]",r4="[object Proxy]";function a4(s){if(!e4(s))return!1;var t=t4(s);return t==n4||t==i4||t==s4||t==r4}var Pl=a4,o4=tr,l4=o4["__core-js_shared__"],c4=l4,$g=c4,s_=function(){var s=/[^.]+$/.exec($g&&$g.keys&&$g.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}();function u4(s){return!!s_&&s_ in s}var d4=u4,h4=Function.prototype,f4=h4.toString;function p4(s){if(s!=null){try{return f4.call(s)}catch{}try{return s+""}catch{}}return""}var Dx=p4,m4=Pl,g4=d4,v4=Kr,b4=Dx,y4=/[\\^$.*+?()[\]{}|]/g,w4=/^\[object .+?Constructor\]$/,_4=Function.prototype,A4=Object.prototype,S4=_4.toString,E4=A4.hasOwnProperty,x4=RegExp("^"+S4.call(E4).replace(y4,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function C4(s){if(!v4(s)||g4(s))return!1;var t=m4(s)?x4:w4;return t.test(b4(s))}var T4=C4;function D4(s,t){return s==null?void 0:s[t]}var k4=D4,P4=T4,M4=k4;function R4(s,t){var e=M4(s,t);return P4(e)?e:void 0}var Ml=R4,O4=Ml,I4=O4(Object,"create"),Jm=I4,n_=Jm;function $4(){this.__data__=n_?n_(null):{},this.size=0}var L4=$4;function N4(s){var t=this.has(s)&&delete this.__data__[s];return this.size-=t?1:0,t}var F4=N4,B4=Jm,H4="__lodash_hash_undefined__",U4=Object.prototype,j4=U4.hasOwnProperty;function Y4(s){var t=this.__data__;if(B4){var e=t[s];return e===H4?void 0:e}return j4.call(t,s)?t[s]:void 0}var V4=Y4,W4=Jm,q4=Object.prototype,z4=q4.hasOwnProperty;function G4(s){var t=this.__data__;return W4?t[s]!==void 0:z4.call(t,s)}var K4=G4,X4=Jm,J4="__lodash_hash_undefined__";function Q4(s,t){var e=this.__data__;return this.size+=this.has(s)?0:1,e[s]=X4&&t===void 0?J4:t,this}var Z4=Q4,tj=L4,ej=F4,sj=V4,nj=K4,ij=Z4;function Eu(s){var t=-1,e=s==null?0:s.length;for(this.clear();++t<e;){var n=s[t];this.set(n[0],n[1])}}Eu.prototype.clear=tj;Eu.prototype.delete=ej;Eu.prototype.get=sj;Eu.prototype.has=nj;Eu.prototype.set=ij;var rj=Eu;function aj(){this.__data__=[],this.size=0}var oj=aj;function lj(s,t){return s===t||s!==s&&t!==t}var xu=lj,cj=xu;function uj(s,t){for(var e=s.length;e--;)if(cj(s[e][0],t))return e;return-1}var Qm=uj,dj=Qm,hj=Array.prototype,fj=hj.splice;function pj(s){var t=this.__data__,e=dj(t,s);if(e<0)return!1;var n=t.length-1;return e==n?t.pop():fj.call(t,e,1),--this.size,!0}var mj=pj,gj=Qm;function vj(s){var t=this.__data__,e=gj(t,s);return e<0?void 0:t[e][1]}var bj=vj,yj=Qm;function wj(s){return yj(this.__data__,s)>-1}var _j=wj,Aj=Qm;function Sj(s,t){var e=this.__data__,n=Aj(e,s);return n<0?(++this.size,e.push([s,t])):e[n][1]=t,this}var Ej=Sj,xj=oj,Cj=mj,Tj=bj,Dj=_j,kj=Ej;function Cu(s){var t=-1,e=s==null?0:s.length;for(this.clear();++t<e;){var n=s[t];this.set(n[0],n[1])}}Cu.prototype.clear=xj;Cu.prototype.delete=Cj;Cu.prototype.get=Tj;Cu.prototype.has=Dj;Cu.prototype.set=kj;var Zm=Cu,Pj=Ml,Mj=tr,Rj=Pj(Mj,"Map"),My=Rj,i_=rj,Oj=Zm,Ij=My;function $j(){this.size=0,this.__data__={hash:new i_,map:new(Ij||Oj),string:new i_}}var Lj=$j;function Nj(s){var t=typeof s;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?s!=="__proto__":s===null}var Fj=Nj,Bj=Fj;function Hj(s,t){var e=s.__data__;return Bj(t)?e[typeof t=="string"?"string":"hash"]:e.map}var tg=Hj,Uj=tg;function jj(s){var t=Uj(this,s).delete(s);return this.size-=t?1:0,t}var Yj=jj,Vj=tg;function Wj(s){return Vj(this,s).get(s)}var qj=Wj,zj=tg;function Gj(s){return zj(this,s).has(s)}var Kj=Gj,Xj=tg;function Jj(s,t){var e=Xj(this,s),n=e.size;return e.set(s,t),this.size+=e.size==n?0:1,this}var Qj=Jj,Zj=Lj,tY=Yj,eY=qj,sY=Kj,nY=Qj;function Tu(s){var t=-1,e=s==null?0:s.length;for(this.clear();++t<e;){var n=s[t];this.set(n[0],n[1])}}Tu.prototype.clear=Zj;Tu.prototype.delete=tY;Tu.prototype.get=eY;Tu.prototype.has=sY;Tu.prototype.set=nY;var Ry=Tu,kx=Ry,iY="Expected a function";function Oy(s,t){if(typeof s!="function"||t!=null&&typeof t!="function")throw new TypeError(iY);var e=function(){var n=arguments,i=t?t.apply(this,n):n[0],r=e.cache;if(r.has(i))return r.get(i);var a=s.apply(this,n);return e.cache=r.set(i,a)||r,a};return e.cache=new(Oy.Cache||kx),e}Oy.Cache=kx;var rY=Oy,aY=rY,oY=500;function lY(s){var t=aY(s,function(n){return e.size===oY&&e.clear(),n}),e=t.cache;return t}var cY=lY,uY=cY,dY=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hY=/\\(\\)?/g,fY=uY(function(s){var t=[];return s.charCodeAt(0)===46&&t.push(""),s.replace(dY,function(e,n,i,r){t.push(i?r.replace(hY,"$1"):n||e)}),t}),pY=fY;function mY(s,t){for(var e=-1,n=s==null?0:s.length,i=Array(n);++e<n;)i[e]=t(s[e],e,s);return i}var gY=mY,r_=Xm,vY=gY,bY=yi,yY=ky,wY=1/0,a_=r_?r_.prototype:void 0,o_=a_?a_.toString:void 0;function Px(s){if(typeof s=="string")return s;if(bY(s))return vY(s,Px)+"";if(yY(s))return o_?o_.call(s):"";var t=s+"";return t=="0"&&1/s==-wY?"-0":t}var _Y=Px,AY=_Y;function SY(s){return s==null?"":AY(s)}var EY=SY,xY=yi,CY=Py,TY=pY,DY=EY;function kY(s,t){return xY(s)?s:CY(s,t)?[s]:TY(DY(s))}var Mx=kY,PY=er,MY=wi,RY="[object Arguments]";function OY(s){return MY(s)&&PY(s)==RY}var IY=OY,l_=IY,$Y=wi,Rx=Object.prototype,LY=Rx.hasOwnProperty,NY=Rx.propertyIsEnumerable,FY=l_(function(){return arguments}())?l_:function(s){return $Y(s)&&LY.call(s,"callee")&&!NY.call(s,"callee")},Iy=FY,BY=9007199254740991,HY=/^(?:0|[1-9]\d*)$/;function UY(s,t){var e=typeof s;return t=t??BY,!!t&&(e=="number"||e!="symbol"&&HY.test(s))&&s>-1&&s%1==0&&s<t}var $y=UY,jY=9007199254740991;function YY(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=jY}var Ly=YY,VY=ky,WY=1/0;function qY(s){if(typeof s=="string"||VY(s))return s;var t=s+"";return t=="0"&&1/s==-WY?"-0":t}var eg=qY,zY=Mx,GY=Iy,KY=yi,XY=$y,JY=Ly,QY=eg;function ZY(s,t,e){t=zY(t,s);for(var n=-1,i=t.length,r=!1;++n<i;){var a=QY(t[n]);if(!(r=s!=null&&e(s,a)))break;s=s[a]}return r||++n!=i?r:(i=s==null?0:s.length,!!i&&JY(i)&&XY(a,i)&&(KY(s)||GY(s)))}var Ox=ZY,t6=AU,e6=Ox;function s6(s,t){return s!=null&&e6(s,t,t6)}var Ix=s6,n6=er,i6=wi,r6="[object Date]";function a6(s){return i6(s)&&n6(s)==r6}var o6=a6;function l6(s){return function(t){return s(t)}}var $x=l6,Bd={},c6={get exports(){return Bd},set exports(s){Bd=s}};(function(s,t){var e=Cx,n=t&&!t.nodeType&&t,i=n&&!0&&s&&!s.nodeType&&s,r=i&&i.exports===n,a=r&&e.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();s.exports=o})(c6,Bd);var u6=o6,d6=$x,c_=Bd,u_=c_&&c_.isDate,h6=u_?d6(u_):u6,f6=h6,p6=er,m6=yi,g6=wi,v6="[object String]";function b6(s){return typeof s=="string"||!m6(s)&&g6(s)&&p6(s)==v6}var qi=b6;function y6(s,t){for(var e=-1,n=s==null?0:s.length;++e<n;)if(t(s[e],e,s))return!0;return!1}var Lx=y6,w6=Zm;function _6(){this.__data__=new w6,this.size=0}var A6=_6;function S6(s){var t=this.__data__,e=t.delete(s);return this.size=t.size,e}var E6=S6;function x6(s){return this.__data__.get(s)}var C6=x6;function T6(s){return this.__data__.has(s)}var D6=T6,k6=Zm,P6=My,M6=Ry,R6=200;function O6(s,t){var e=this.__data__;if(e instanceof k6){var n=e.__data__;if(!P6||n.length<R6-1)return n.push([s,t]),this.size=++e.size,this;e=this.__data__=new M6(n)}return e.set(s,t),this.size=e.size,this}var I6=O6,$6=Zm,L6=A6,N6=E6,F6=C6,B6=D6,H6=I6;function Du(s){var t=this.__data__=new $6(s);this.size=t.size}Du.prototype.clear=L6;Du.prototype.delete=N6;Du.prototype.get=F6;Du.prototype.has=B6;Du.prototype.set=H6;var Ny=Du,U6="__lodash_hash_undefined__";function j6(s){return this.__data__.set(s,U6),this}var Y6=j6;function V6(s){return this.__data__.has(s)}var W6=V6,q6=Ry,z6=Y6,G6=W6;function Wp(s){var t=-1,e=s==null?0:s.length;for(this.__data__=new q6;++t<e;)this.add(s[t])}Wp.prototype.add=Wp.prototype.push=z6;Wp.prototype.has=G6;var K6=Wp;function X6(s,t){return s.has(t)}var J6=X6,Q6=K6,Z6=Lx,t5=J6,e5=1,s5=2;function n5(s,t,e,n,i,r){var a=e&e5,o=s.length,l=t.length;if(o!=l&&!(a&&l>o))return!1;var c=r.get(s),d=r.get(t);if(c&&d)return c==t&&d==s;var h=-1,f=!0,p=e&s5?new Q6:void 0;for(r.set(s,t),r.set(t,s);++h<o;){var m=s[h],v=t[h];if(n)var b=a?n(v,m,h,t,s,r):n(m,v,h,s,t,r);if(b!==void 0){if(b)continue;f=!1;break}if(p){if(!Z6(t,function(y,E){if(!t5(p,E)&&(m===y||i(m,y,e,n,r)))return p.push(E)})){f=!1;break}}else if(!(m===v||i(m,v,e,n,r))){f=!1;break}}return r.delete(s),r.delete(t),f}var Nx=n5,i5=tr,r5=i5.Uint8Array,Fx=r5;function a5(s){var t=-1,e=Array(s.size);return s.forEach(function(n,i){e[++t]=[i,n]}),e}var o5=a5;function l5(s){var t=-1,e=Array(s.size);return s.forEach(function(n){e[++t]=n}),e}var c5=l5,d_=Xm,h_=Fx,u5=xu,d5=Nx,h5=o5,f5=c5,p5=1,m5=2,g5="[object Boolean]",v5="[object Date]",b5="[object Error]",y5="[object Map]",w5="[object Number]",_5="[object RegExp]",A5="[object Set]",S5="[object String]",E5="[object Symbol]",x5="[object ArrayBuffer]",C5="[object DataView]",f_=d_?d_.prototype:void 0,Lg=f_?f_.valueOf:void 0;function T5(s,t,e,n,i,r,a){switch(e){case C5:if(s.byteLength!=t.byteLength||s.byteOffset!=t.byteOffset)return!1;s=s.buffer,t=t.buffer;case x5:return!(s.byteLength!=t.byteLength||!r(new h_(s),new h_(t)));case g5:case v5:case w5:return u5(+s,+t);case b5:return s.name==t.name&&s.message==t.message;case _5:case S5:return s==t+"";case y5:var o=h5;case A5:var l=n&p5;if(o||(o=f5),s.size!=t.size&&!l)return!1;var c=a.get(s);if(c)return c==t;n|=m5,a.set(s,t);var d=d5(o(s),o(t),n,i,r,a);return a.delete(s),d;case E5:if(Lg)return Lg.call(s)==Lg.call(t)}return!1}var D5=T5;function k5(s,t){for(var e=-1,n=t.length,i=s.length;++e<n;)s[i+e]=t[e];return s}var P5=k5,M5=P5,R5=yi;function O5(s,t,e){var n=t(s);return R5(s)?n:M5(n,e(s))}var I5=O5;function $5(s,t){for(var e=-1,n=s==null?0:s.length,i=0,r=[];++e<n;){var a=s[e];t(a,e,s)&&(r[i++]=a)}return r}var L5=$5;function N5(){return[]}var F5=N5,B5=L5,H5=F5,U5=Object.prototype,j5=U5.propertyIsEnumerable,p_=Object.getOwnPropertySymbols,Y5=p_?function(s){return s==null?[]:(s=Object(s),B5(p_(s),function(t){return j5.call(s,t)}))}:H5,V5=Y5;function W5(s,t){for(var e=-1,n=Array(s);++e<s;)n[e]=t(e);return n}var q5=W5,bu={},z5={get exports(){return bu},set exports(s){bu=s}};function G5(){return!1}var K5=G5;(function(s,t){var e=tr,n=K5,i=t&&!t.nodeType&&t,r=i&&!0&&s&&!s.nodeType&&s,a=r&&r.exports===i,o=a?e.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;s.exports=c})(z5,bu);var X5=er,J5=Ly,Q5=wi,Z5="[object Arguments]",tV="[object Array]",eV="[object Boolean]",sV="[object Date]",nV="[object Error]",iV="[object Function]",rV="[object Map]",aV="[object Number]",oV="[object Object]",lV="[object RegExp]",cV="[object Set]",uV="[object String]",dV="[object WeakMap]",hV="[object ArrayBuffer]",fV="[object DataView]",pV="[object Float32Array]",mV="[object Float64Array]",gV="[object Int8Array]",vV="[object Int16Array]",bV="[object Int32Array]",yV="[object Uint8Array]",wV="[object Uint8ClampedArray]",_V="[object Uint16Array]",AV="[object Uint32Array]",Se={};Se[pV]=Se[mV]=Se[gV]=Se[vV]=Se[bV]=Se[yV]=Se[wV]=Se[_V]=Se[AV]=!0;Se[Z5]=Se[tV]=Se[hV]=Se[eV]=Se[fV]=Se[sV]=Se[nV]=Se[iV]=Se[rV]=Se[aV]=Se[oV]=Se[lV]=Se[cV]=Se[uV]=Se[dV]=!1;function SV(s){return Q5(s)&&J5(s.length)&&!!Se[X5(s)]}var EV=SV,xV=EV,CV=$x,m_=Bd,g_=m_&&m_.isTypedArray,TV=g_?CV(g_):xV,Fy=TV,DV=q5,kV=Iy,PV=yi,MV=bu,RV=$y,OV=Fy,IV=Object.prototype,$V=IV.hasOwnProperty;function LV(s,t){var e=PV(s),n=!e&&kV(s),i=!e&&!n&&MV(s),r=!e&&!n&&!i&&OV(s),a=e||n||i||r,o=a?DV(s.length,String):[],l=o.length;for(var c in s)(t||$V.call(s,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||RV(c,l)))&&o.push(c);return o}var Bx=LV,NV=Object.prototype;function FV(s){var t=s&&s.constructor,e=typeof t=="function"&&t.prototype||NV;return s===e}var By=FV;function BV(s,t){return function(e){return s(t(e))}}var Hx=BV,HV=Hx,UV=HV(Object.keys,Object),jV=UV,YV=By,VV=jV,WV=Object.prototype,qV=WV.hasOwnProperty;function zV(s){if(!YV(s))return VV(s);var t=[];for(var e in Object(s))qV.call(s,e)&&e!="constructor"&&t.push(e);return t}var GV=zV,KV=Pl,XV=Ly;function JV(s){return s!=null&&XV(s.length)&&!KV(s)}var wf=JV,QV=Bx,ZV=GV,tW=wf;function eW(s){return tW(s)?QV(s):ZV(s)}var Hy=eW,sW=I5,nW=V5,iW=Hy;function rW(s){return sW(s,iW,nW)}var aW=rW,v_=aW,oW=1,lW=Object.prototype,cW=lW.hasOwnProperty;function uW(s,t,e,n,i,r){var a=e&oW,o=v_(s),l=o.length,c=v_(t),d=c.length;if(l!=d&&!a)return!1;for(var h=l;h--;){var f=o[h];if(!(a?f in t:cW.call(t,f)))return!1}var p=r.get(s),m=r.get(t);if(p&&m)return p==t&&m==s;var v=!0;r.set(s,t),r.set(t,s);for(var b=a;++h<l;){f=o[h];var y=s[f],E=t[f];if(n)var C=a?n(E,y,f,t,s,r):n(y,E,f,s,t,r);if(!(C===void 0?y===E||i(y,E,e,n,r):C)){v=!1;break}b||(b=f=="constructor")}if(v&&!b){var x=s.constructor,D=t.constructor;x!=D&&"constructor"in s&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof D=="function"&&D instanceof D)&&(v=!1)}return r.delete(s),r.delete(t),v}var dW=uW,hW=Ml,fW=tr,pW=hW(fW,"DataView"),mW=pW,gW=Ml,vW=tr,bW=gW(vW,"Promise"),yW=bW,wW=Ml,_W=tr,AW=wW(_W,"Set"),SW=AW,EW=Ml,xW=tr,CW=EW(xW,"WeakMap"),TW=CW,Db=mW,kb=My,Pb=yW,Mb=SW,Rb=TW,Ux=er,ku=Dx,b_="[object Map]",DW="[object Object]",y_="[object Promise]",w_="[object Set]",__="[object WeakMap]",A_="[object DataView]",kW=ku(Db),PW=ku(kb),MW=ku(Pb),RW=ku(Mb),OW=ku(Rb),uo=Ux;(Db&&uo(new Db(new ArrayBuffer(1)))!=A_||kb&&uo(new kb)!=b_||Pb&&uo(Pb.resolve())!=y_||Mb&&uo(new Mb)!=w_||Rb&&uo(new Rb)!=__)&&(uo=function(s){var t=Ux(s),e=t==DW?s.constructor:void 0,n=e?ku(e):"";if(n)switch(n){case kW:return A_;case PW:return b_;case MW:return y_;case RW:return w_;case OW:return __}return t});var IW=uo,Ng=Ny,$W=Nx,LW=D5,NW=dW,S_=IW,E_=yi,x_=bu,FW=Fy,BW=1,C_="[object Arguments]",T_="[object Array]",If="[object Object]",HW=Object.prototype,D_=HW.hasOwnProperty;function UW(s,t,e,n,i,r){var a=E_(s),o=E_(t),l=a?T_:S_(s),c=o?T_:S_(t);l=l==C_?If:l,c=c==C_?If:c;var d=l==If,h=c==If,f=l==c;if(f&&x_(s)){if(!x_(t))return!1;a=!0,d=!1}if(f&&!d)return r||(r=new Ng),a||FW(s)?$W(s,t,e,n,i,r):LW(s,t,l,e,n,i,r);if(!(e&BW)){var p=d&&D_.call(s,"__wrapped__"),m=h&&D_.call(t,"__wrapped__");if(p||m){var v=p?s.value():s,b=m?t.value():t;return r||(r=new Ng),i(v,b,e,n,r)}}return f?(r||(r=new Ng),NW(s,t,e,n,i,r)):!1}var jW=UW,YW=jW,k_=wi;function jx(s,t,e,n,i){return s===t?!0:s==null||t==null||!k_(s)&&!k_(t)?s!==s&&t!==t:YW(s,t,e,n,jx,i)}var Yx=jx,VW=Ny,WW=Yx,qW=1,zW=2;function GW(s,t,e,n){var i=e.length,r=i,a=!n;if(s==null)return!r;for(s=Object(s);i--;){var o=e[i];if(a&&o[2]?o[1]!==s[o[0]]:!(o[0]in s))return!1}for(;++i<r;){o=e[i];var l=o[0],c=s[l],d=o[1];if(a&&o[2]){if(c===void 0&&!(l in s))return!1}else{var h=new VW;if(n)var f=n(c,d,l,s,t,h);if(!(f===void 0?WW(d,c,qW|zW,n,h):f))return!1}}return!0}var KW=GW,XW=Kr;function JW(s){return s===s&&!XW(s)}var Vx=JW,QW=Vx,ZW=Hy;function t8(s){for(var t=ZW(s),e=t.length;e--;){var n=t[e],i=s[n];t[e]=[n,i,QW(i)]}return t}var e8=t8;function s8(s,t){return function(e){return e==null?!1:e[s]===t&&(t!==void 0||s in Object(e))}}var Wx=s8,n8=KW,i8=e8,r8=Wx;function a8(s){var t=i8(s);return t.length==1&&t[0][2]?r8(t[0][0],t[0][1]):function(e){return e===s||n8(e,s,t)}}var o8=a8,l8=Mx,c8=eg;function u8(s,t){t=l8(t,s);for(var e=0,n=t.length;s!=null&&e<n;)s=s[c8(t[e++])];return e&&e==n?s:void 0}var qx=u8,d8=qx;function h8(s,t,e){var n=s==null?void 0:d8(s,t);return n===void 0?e:n}var go=h8;function f8(s,t){return s!=null&&t in Object(s)}var p8=f8,m8=p8,g8=Ox;function v8(s,t){return s!=null&&g8(s,t,m8)}var b8=v8,y8=Yx,w8=go,_8=b8,A8=Py,S8=Vx,E8=Wx,x8=eg,C8=1,T8=2;function D8(s,t){return A8(s)&&S8(t)?E8(x8(s),t):function(e){var n=w8(e,s);return n===void 0&&n===t?_8(e,s):y8(t,n,C8|T8)}}var k8=D8;function P8(s){return s}var Uy=P8;function M8(s){return function(t){return t==null?void 0:t[s]}}var R8=M8,O8=qx;function I8(s){return function(t){return O8(t,s)}}var $8=I8,L8=R8,N8=$8,F8=Py,B8=eg;function H8(s){return F8(s)?L8(B8(s)):N8(s)}var U8=H8,j8=o8,Y8=k8,V8=Uy,W8=yi,q8=U8;function z8(s){return typeof s=="function"?s:s==null?V8:typeof s=="object"?W8(s)?Y8(s[0],s[1]):j8(s):q8(s)}var zx=z8;function G8(s){return function(t,e,n){for(var i=-1,r=Object(t),a=n(t),o=a.length;o--;){var l=a[s?o:++i];if(e(r[l],l,r)===!1)break}return t}}var K8=G8,X8=K8,J8=X8(),Gx=J8,Q8=Gx,Z8=Hy;function tq(s,t){return s&&Q8(s,t,Z8)}var Kx=tq,eq=wf;function sq(s,t){return function(e,n){if(e==null)return e;if(!eq(e))return s(e,n);for(var i=e.length,r=t?i:-1,a=Object(e);(t?r--:++r<i)&&n(a[r],r,a)!==!1;);return e}}var nq=sq,iq=Kx,rq=nq,aq=rq(iq),oq=aq,lq=oq;function cq(s,t){var e;return lq(s,function(n,i,r){return e=t(n,i,r),!e}),!!e}var uq=cq,dq=xu,hq=wf,fq=$y,pq=Kr;function mq(s,t,e){if(!pq(e))return!1;var n=typeof t;return(n=="number"?hq(e)&&fq(t,e.length):n=="string"&&t in e)?dq(e[t],s):!1}var jy=mq,gq=Lx,vq=zx,bq=uq,yq=yi,wq=jy;function _q(s,t,e){var n=yq(s)?gq:bq;return e&&wq(s,t,e)&&(t=void 0),n(s,vq(t))}var Aq=_q,Sq=er,Eq=wi,xq="[object Boolean]";function Cq(s){return s===!0||s===!1||Eq(s)&&Sq(s)==xq}var Tq=Cq,Dq=er,kq=wi,Pq="[object Number]";function Mq(s){return typeof s=="number"||kq(s)&&Dq(s)==Pq}var vi=Mq,Rq=Ml,Oq=function(){try{var s=Rq(Object,"defineProperty");return s({},"",{}),s}catch{}}(),Xx=Oq,P_=Xx;function Iq(s,t,e){t=="__proto__"&&P_?P_(s,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):s[t]=e}var sg=Iq,$q=sg,Lq=xu,Nq=Object.prototype,Fq=Nq.hasOwnProperty;function Bq(s,t,e){var n=s[t];(!(Fq.call(s,t)&&Lq(n,e))||e===void 0&&!(t in s))&&$q(s,t,e)}var Hq=Bq,Uq=sg,jq=Kx,Yq=zx;function Vq(s,t){var e={};return t=Yq(t),jq(s,function(n,i,r){Uq(e,i,t(n,i,r))}),e}var Wq=Vq;function qq(s,t,e){switch(e.length){case 0:return s.call(t);case 1:return s.call(t,e[0]);case 2:return s.call(t,e[0],e[1]);case 3:return s.call(t,e[0],e[1],e[2])}return s.apply(t,e)}var Jx=qq,zq=Jx,M_=Math.max;function Gq(s,t,e){return t=M_(t===void 0?s.length-1:t,0),function(){for(var n=arguments,i=-1,r=M_(n.length-t,0),a=Array(r);++i<r;)a[i]=n[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=n[i];return o[t]=e(a),zq(s,this,o)}}var Kq=Gq;function Xq(s){return function(){return s}}var Jq=Xq,Qq=Jq,R_=Xx,Zq=Uy,tz=R_?function(s,t){return R_(s,"toString",{configurable:!0,enumerable:!1,value:Qq(t),writable:!0})}:Zq,ez=tz,sz=800,nz=16,iz=Date.now;function rz(s){var t=0,e=0;return function(){var n=iz(),i=nz-(n-e);if(e=n,i>0){if(++t>=sz)return arguments[0]}else t=0;return s.apply(void 0,arguments)}}var az=rz,oz=ez,lz=az,cz=lz(oz),uz=cz,dz=Uy,hz=Kq,fz=uz;function pz(s,t){return fz(hz(s,t,dz),s+"")}var Yy=pz;function mz(s){var t=[];if(s!=null)for(var e in Object(s))t.push(e);return t}var gz=mz,vz=Kr,bz=By,yz=gz,wz=Object.prototype,_z=wz.hasOwnProperty;function Az(s){if(!vz(s))return yz(s);var t=bz(s),e=[];for(var n in s)n=="constructor"&&(t||!_z.call(s,n))||e.push(n);return e}var Sz=Az,Ez=Bx,xz=Sz,Cz=wf;function Tz(s){return Cz(s)?Ez(s,!0):xz(s)}var Vy=Tz,Dz=Yy,kz=xu,Pz=jy,Mz=Vy,Qx=Object.prototype,Rz=Qx.hasOwnProperty,Oz=Dz(function(s,t){s=Object(s);var e=-1,n=t.length,i=n>2?t[2]:void 0;for(i&&Pz(t[0],t[1],i)&&(n=1);++e<n;)for(var r=t[e],a=Mz(r),o=-1,l=a.length;++o<l;){var c=a[o],d=s[c];(d===void 0||kz(d,Qx[c])&&!Rz.call(s,c))&&(s[c]=r[c])}return s}),O_=Oz,Iz=sg,$z=xu;function Lz(s,t,e){(e!==void 0&&!$z(s[t],e)||e===void 0&&!(t in s))&&Iz(s,t,e)}var Zx=Lz,qp={},Nz={get exports(){return qp},set exports(s){qp=s}};(function(s,t){var e=tr,n=t&&!t.nodeType&&t,i=n&&!0&&s&&!s.nodeType&&s,r=i&&i.exports===n,a=r?e.Buffer:void 0,o=a?a.allocUnsafe:void 0;function l(c,d){if(d)return c.slice();var h=c.length,f=o?o(h):new c.constructor(h);return c.copy(f),f}s.exports=l})(Nz,qp);var I_=Fx;function Fz(s){var t=new s.constructor(s.byteLength);return new I_(t).set(new I_(s)),t}var Bz=Fz,Hz=Bz;function Uz(s,t){var e=t?Hz(s.buffer):s.buffer;return new s.constructor(e,s.byteOffset,s.length)}var jz=Uz;function Yz(s,t){var e=-1,n=s.length;for(t||(t=Array(n));++e<n;)t[e]=s[e];return t}var Vz=Yz,Wz=Kr,$_=Object.create,qz=function(){function s(){}return function(t){if(!Wz(t))return{};if($_)return $_(t);s.prototype=t;var e=new s;return s.prototype=void 0,e}}(),zz=qz,Gz=Hx,Kz=Gz(Object.getPrototypeOf,Object),tC=Kz,Xz=zz,Jz=tC,Qz=By;function Zz(s){return typeof s.constructor=="function"&&!Qz(s)?Xz(Jz(s)):{}}var tG=Zz,eG=wf,sG=wi;function nG(s){return sG(s)&&eG(s)}var iG=nG,rG=er,aG=tC,oG=wi,lG="[object Object]",cG=Function.prototype,uG=Object.prototype,eC=cG.toString,dG=uG.hasOwnProperty,hG=eC.call(Object);function fG(s){if(!oG(s)||rG(s)!=lG)return!1;var t=aG(s);if(t===null)return!0;var e=dG.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&eC.call(e)==hG}var pG=fG;function mG(s,t){if(!(t==="constructor"&&typeof s[t]=="function")&&t!="__proto__")return s[t]}var sC=mG,gG=Hq,vG=sg;function bG(s,t,e,n){var i=!e;e||(e={});for(var r=-1,a=t.length;++r<a;){var o=t[r],l=n?n(e[o],s[o],o,e,s):void 0;l===void 0&&(l=s[o]),i?vG(e,o,l):gG(e,o,l)}return e}var yG=bG,wG=yG,_G=Vy;function AG(s){return wG(s,_G(s))}var SG=AG,L_=Zx,EG=qp,xG=jz,CG=Vz,TG=tG,N_=Iy,F_=yi,DG=iG,kG=bu,PG=Pl,MG=Kr,RG=pG,OG=Fy,B_=sC,IG=SG;function $G(s,t,e,n,i,r,a){var o=B_(s,e),l=B_(t,e),c=a.get(l);if(c){L_(s,e,c);return}var d=r?r(o,l,e+"",s,t,a):void 0,h=d===void 0;if(h){var f=F_(l),p=!f&&kG(l),m=!f&&!p&&OG(l);d=l,f||p||m?F_(o)?d=o:DG(o)?d=CG(o):p?(h=!1,d=EG(l,!0)):m?(h=!1,d=xG(l,!0)):d=[]:RG(l)||N_(l)?(d=o,N_(o)?d=IG(o):(!MG(o)||PG(o))&&(d=TG(l))):h=!1}h&&(a.set(l,d),i(d,l,n,r,a),a.delete(l)),L_(s,e,d)}var LG=$G,NG=Ny,FG=Zx,BG=Gx,HG=LG,UG=Kr,jG=Vy,YG=sC;function nC(s,t,e,n,i){s!==t&&BG(t,function(r,a){if(i||(i=new NG),UG(r))HG(s,t,a,e,nC,n,i);else{var o=n?n(YG(s,a),r,a+"",s,t,i):void 0;o===void 0&&(o=r),FG(s,a,o)}},jG)}var iC=nC,VG=iC,H_=Kr;function rC(s,t,e,n,i,r){return H_(s)&&H_(t)&&(r.set(t,s),VG(s,t,void 0,rC,r),r.delete(t)),s}var WG=rC,qG=Yy,zG=jy;function GG(s){return qG(function(t,e){var n=-1,i=e.length,r=i>1?e[i-1]:void 0,a=i>2?e[2]:void 0;for(r=s.length>3&&typeof r=="function"?(i--,r):void 0,a&&zG(e[0],e[1],a)&&(r=i<3?void 0:r,i=1),t=Object(t);++n<i;){var o=e[n];o&&s(t,o,n,r)}return t})}var KG=GG,XG=iC,JG=KG,QG=JG(function(s,t,e,n){XG(s,t,e,n)}),ZG=QG,t7=Jx,e7=Yy,s7=WG,n7=ZG,i7=e7(function(s){return s.push(void 0,s7),t7(n7,void 0,s)}),yu=i7;function r7(s){return s&&s.length?s[0]:void 0}var aC=r7;function a7(s){var t=s==null?0:s.length;return t?s[t-1]:void 0}var zl=a7;const o7=s=>Object.prototype.toString.call(s).slice(8,-1),ic=s=>f6(s)&&!isNaN(s.getTime()),Yr=s=>o7(s)==="Object",oC=Ix,U_=(s,t)=>Aq(t,e=>Ix(s,e)),fe=(s,t,e="0")=>{for(s=s!=null?String(s):"",t=t||2;s.length<t;)s=`${e}${s}`;return s},jn=s=>Array.isArray(s),Br=s=>jn(s)&&s.length>0,zp=s=>s==null?null:document&&qi(s)?document.querySelector(s):s.$el??s,oa=(s,t,e,n=void 0)=>{s.removeEventListener(t,e,n)},la=(s,t,e,n=void 0)=>(s.addEventListener(t,e,n),()=>oa(s,t,e,n)),wp=(s,t)=>!!s&&!!t&&(s===t||s.contains(t)),$f=(s,t)=>{(s.key===" "||s.key==="Enter")&&(t(s),s.preventDefault())},lC=(s,...t)=>{const e={};let n;for(n in s)t.includes(n)||(e[n]=s[n]);return e},cC=(s,t)=>{const e={};return t.forEach(n=>{n in s&&(e[n]=s[n])}),e};function l7(s,t,e){return Math.min(Math.max(s,t),e)}var Gp={},c7={get exports(){return Gp},set exports(s){Gp=s}};(function(s,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=e;function e(n){if(n===null||n===!0||n===!1)return NaN;var i=Number(n);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}s.exports=t.default})(c7,Gp);const u7=xx(Gp);var Kp={},d7={get exports(){return Kp},set exports(s){Kp=s}};(function(s,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=e;function e(n){var i=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return i.setUTCFullYear(n.getFullYear()),n.getTime()-i.getTime()}s.exports=t.default})(d7,Kp);const j_=xx(Kp);function h7(s,t){var e=g7(t);return e.formatToParts?p7(e,s):m7(e,s)}var f7={year:0,month:1,day:2,hour:3,minute:4,second:5};function p7(s,t){try{for(var e=s.formatToParts(t),n=[],i=0;i<e.length;i++){var r=f7[e[i].type];r>=0&&(n[r]=parseInt(e[i].value,10))}return n}catch(a){if(a instanceof RangeError)return[NaN];throw a}}function m7(s,t){var e=s.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(e);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var Fg={};function g7(s){if(!Fg[s]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),e=t==="06/25/2014, 00:00:00"||t==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";Fg[s]=e?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:s,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:s,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Fg[s]}function uC(s,t,e,n,i,r,a){var o=new Date(0);return o.setUTCFullYear(s,t,e),o.setUTCHours(n,i,r,a),o}var Y_=36e5,v7=6e4,Bg={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function b7(s,t,e){var n,i;if(!s||(n=Bg.timezoneZ.exec(s),n))return 0;var r;if(n=Bg.timezoneHH.exec(s),n)return r=parseInt(n[1],10),V_(r)?-(r*Y_):NaN;if(n=Bg.timezoneHHMM.exec(s),n){r=parseInt(n[1],10);var a=parseInt(n[2],10);return V_(r,a)?(i=Math.abs(r)*Y_+a*v7,r>0?-i:i):NaN}if(_7(s)){t=new Date(t||Date.now());var o=y7(t),l=Ob(o,s),c=w7(t,l,s);return-c}return NaN}function y7(s){return uC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds())}function Ob(s,t){var e=h7(s,t),n=uC(e[0],e[1]-1,e[2],e[3]%24,e[4],e[5],0).getTime(),i=s.getTime(),r=i%1e3;return i-=r>=0?r:1e3+r,n-i}function w7(s,t,e){var n=s.getTime(),i=n-t,r=Ob(new Date(i),e);if(t===r)return t;i-=r-t;var a=Ob(new Date(i),e);return r===a?r:Math.max(r,a)}function V_(s,t){return-23<=s&&s<=23&&(t==null||0<=t&&t<=59)}var W_={};function _7(s){if(W_[s])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:s}),W_[s]=!0,!0}catch{return!1}}var A7=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const S7=A7;var Hg=36e5,q_=6e4,E7=2,js={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:S7};function x7(s,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(s===null)return new Date(NaN);var e=t||{},n=e.additionalDigits==null?E7:u7(e.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]")return new Date(s.getTime());if(typeof s=="number"||Object.prototype.toString.call(s)==="[object Number]")return new Date(s);if(!(typeof s=="string"||Object.prototype.toString.call(s)==="[object String]"))return new Date(NaN);var i=C7(s),r=T7(i.date,n),a=r.year,o=r.restDateString,l=D7(o,a);if(isNaN(l))return new Date(NaN);if(l){var c=l.getTime(),d=0,h;if(i.time&&(d=k7(i.time),isNaN(d)))return new Date(NaN);if(i.timeZone||e.timeZone){if(h=b7(i.timeZone||e.timeZone,new Date(c+d)),isNaN(h))return new Date(NaN)}else h=j_(new Date(c+d)),h=j_(new Date(c+d+h));return new Date(c+d+h)}else return new Date(NaN)}function C7(s){var t={},e=js.dateTimePattern.exec(s),n;if(e?(t.date=e[1],n=e[3]):(e=js.datePattern.exec(s),e?(t.date=e[1],n=e[2]):(t.date=null,n=s)),n){var i=js.timeZone.exec(n);i?(t.time=n.replace(i[1],""),t.timeZone=i[1].trim()):t.time=n}return t}function T7(s,t){var e=js.YYY[t],n=js.YYYYY[t],i;if(i=js.YYYY.exec(s)||n.exec(s),i){var r=i[1];return{year:parseInt(r,10),restDateString:s.slice(r.length)}}if(i=js.YY.exec(s)||e.exec(s),i){var a=i[1];return{year:parseInt(a,10)*100,restDateString:s.slice(a.length)}}return{year:null}}function D7(s,t){if(t===null)return null;var e,n,i,r;if(s.length===0)return n=new Date(0),n.setUTCFullYear(t),n;if(e=js.MM.exec(s),e)return n=new Date(0),i=parseInt(e[1],10)-1,G_(t,i)?(n.setUTCFullYear(t,i),n):new Date(NaN);if(e=js.DDD.exec(s),e){n=new Date(0);var a=parseInt(e[1],10);return R7(t,a)?(n.setUTCFullYear(t,0,a),n):new Date(NaN)}if(e=js.MMDD.exec(s),e){n=new Date(0),i=parseInt(e[1],10)-1;var o=parseInt(e[2],10);return G_(t,i,o)?(n.setUTCFullYear(t,i,o),n):new Date(NaN)}if(e=js.Www.exec(s),e)return r=parseInt(e[1],10)-1,K_(t,r)?z_(t,r):new Date(NaN);if(e=js.WwwD.exec(s),e){r=parseInt(e[1],10)-1;var l=parseInt(e[2],10)-1;return K_(t,r,l)?z_(t,r,l):new Date(NaN)}return null}function k7(s){var t,e,n;if(t=js.HH.exec(s),t)return e=parseFloat(t[1].replace(",",".")),Ug(e)?e%24*Hg:NaN;if(t=js.HHMM.exec(s),t)return e=parseInt(t[1],10),n=parseFloat(t[2].replace(",",".")),Ug(e,n)?e%24*Hg+n*q_:NaN;if(t=js.HHMMSS.exec(s),t){e=parseInt(t[1],10),n=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return Ug(e,n,i)?e%24*Hg+n*q_+i*1e3:NaN}return null}function z_(s,t,e){t=t||0,e=e||0;var n=new Date(0);n.setUTCFullYear(s,0,4);var i=n.getUTCDay()||7,r=t*7+e+1-i;return n.setUTCDate(n.getUTCDate()+r),n}var P7=[31,28,31,30,31,30,31,31,30,31,30,31],M7=[31,29,31,30,31,30,31,31,30,31,30,31];function dC(s){return s%400===0||s%4===0&&s%100!==0}function G_(s,t,e){if(t<0||t>11)return!1;if(e!=null){if(e<1)return!1;var n=dC(s);if(n&&e>M7[t]||!n&&e>P7[t])return!1}return!0}function R7(s,t){if(t<1)return!1;var e=dC(s);return!(e&&t>366||!e&&t>365)}function K_(s,t,e){return!(t<0||t>52||e!=null&&(e<0||e>6))}function Ug(s,t,e){return!(s!=null&&(s<0||s>=25)||t!=null&&(t<0||t>=60)||e!=null&&(e<0||e>=60))}function Ps(s,t){if(t.length<s)throw new TypeError(s+" argument"+(s>1?"s":"")+" required, but only "+t.length+" present")}function _p(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_p=function(e){return typeof e}:_p=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(s)}function Xr(s){Ps(1,arguments);var t=Object.prototype.toString.call(s);return s instanceof Date||_p(s)==="object"&&t==="[object Date]"?new Date(s.getTime()):typeof s=="number"||t==="[object Number]"?new Date(s):((typeof s=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Pu(s){if(s===null||s===!0||s===!1)return NaN;var t=Number(s);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}var O7={};function Wy(){return O7}function xl(s,t){var e,n,i,r,a,o,l,c;Ps(1,arguments);var d=Wy(),h=Pu((e=(n=(i=(r=t==null?void 0:t.weekStartsOn)!==null&&r!==void 0?r:t==null||(a=t.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&e!==void 0?e:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Xr(s),p=f.getDay(),m=(p<h?7:0)+p-h;return f.setDate(f.getDate()-m),f.setHours(0,0,0,0),f}function X_(s){var t=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return t.setUTCFullYear(s.getFullYear()),s.getTime()-t.getTime()}var I7=6048e5;function $7(s,t,e){Ps(2,arguments);var n=xl(s,e),i=xl(t,e),r=n.getTime()-X_(n),a=i.getTime()-X_(i);return Math.round((r-a)/I7)}function L7(s){Ps(1,arguments);var t=Xr(s),e=t.getMonth();return t.setFullYear(t.getFullYear(),e+1,0),t.setHours(0,0,0,0),t}function N7(s){Ps(1,arguments);var t=Xr(s);return t.setDate(1),t.setHours(0,0,0,0),t}function F7(s,t){return Ps(1,arguments),$7(L7(s),N7(s),t)+1}function B7(s,t){var e,n,i,r,a,o,l,c;Ps(1,arguments);var d=Xr(s),h=d.getFullYear(),f=Wy(),p=Pu((e=(n=(i=(r=t==null?void 0:t.firstWeekContainsDate)!==null&&r!==void 0?r:t==null||(a=t.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&i!==void 0?i:f.firstWeekContainsDate)!==null&&n!==void 0?n:(l=f.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&e!==void 0?e:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setFullYear(h+1,0,p),m.setHours(0,0,0,0);var v=xl(m,t),b=new Date(0);b.setFullYear(h,0,p),b.setHours(0,0,0,0);var y=xl(b,t);return d.getTime()>=v.getTime()?h+1:d.getTime()>=y.getTime()?h:h-1}function H7(s,t){var e,n,i,r,a,o,l,c;Ps(1,arguments);var d=Wy(),h=Pu((e=(n=(i=(r=t==null?void 0:t.firstWeekContainsDate)!==null&&r!==void 0?r:t==null||(a=t.locale)===null||a===void 0||(o=a.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&e!==void 0?e:1),f=B7(s,t),p=new Date(0);p.setFullYear(f,0,h),p.setHours(0,0,0,0);var m=xl(p,t);return m}var U7=6048e5;function j7(s,t){Ps(1,arguments);var e=Xr(s),n=xl(e,t).getTime()-H7(e,t).getTime();return Math.round(n/U7)+1}function Xp(s){return Ps(1,arguments),xl(s,{weekStartsOn:1})}function Y7(s){Ps(1,arguments);var t=Xr(s),e=t.getFullYear(),n=new Date(0);n.setFullYear(e+1,0,4),n.setHours(0,0,0,0);var i=Xp(n),r=new Date(0);r.setFullYear(e,0,4),r.setHours(0,0,0,0);var a=Xp(r);return t.getTime()>=i.getTime()?e+1:t.getTime()>=a.getTime()?e:e-1}function V7(s){Ps(1,arguments);var t=Y7(s),e=new Date(0);e.setFullYear(t,0,4),e.setHours(0,0,0,0);var n=Xp(e);return n}var W7=6048e5;function q7(s){Ps(1,arguments);var t=Xr(s),e=Xp(t).getTime()-V7(t).getTime();return Math.round(e/W7)+1}function Bs(s,t){Ps(2,arguments);var e=Xr(s),n=Pu(t);return isNaN(n)?new Date(NaN):(n&&e.setDate(e.getDate()+n),e)}function Jp(s,t){Ps(2,arguments);var e=Xr(s),n=Pu(t);if(isNaN(n))return new Date(NaN);if(!n)return e;var i=e.getDate(),r=new Date(e.getTime());r.setMonth(e.getMonth()+n+1,0);var a=r.getDate();return i>=a?r:(e.setFullYear(r.getFullYear(),r.getMonth(),i),e)}function J_(s,t){Ps(2,arguments);var e=Pu(t);return Jp(s,e*12)}const z7={daily:["year","month","day"],weekly:["year","month","week"],monthly:["year","month"]};function G7({monthComps:s,prevMonthComps:t,nextMonthComps:e},n){const i=[],{firstDayOfWeek:r,firstWeekday:a,isoWeeknumbers:o,weeknumbers:l,numDays:c,numWeeks:d}=s,h=a+(a<r?xs:0)-r;let f=!0,p=!1,m=!1,v=0;const b=new Intl.DateTimeFormat(n.id,{weekday:"long",year:"numeric",month:"short",day:"numeric"});let y=t.numDays-h+1,E=t.numDays-y+1,C=Math.floor((y-1)/xs+1),x=1,D=t.numWeeks,M=1,P=t.month,H=t.year;const F=new Date,Z=F.getDate(),Y=F.getMonth()+1,L=F.getFullYear();for(let K=1;K<=U9;K++){for(let lt=1,dt=r;lt<=xs;lt++,dt+=dt===xs?1-xs:1){f&&dt===a&&(y=1,E=s.numDays,C=Math.floor((y-1)/xs+1),x=Math.floor((c-y)/xs+1),D=1,M=d,P=s.month,H=s.year,f=!1,p=!0);const ut=n.getDateFromParams(H,P,y,0,0,0,0),X=n.getDateFromParams(H,P,y,12,0,0,0),nt=n.getDateFromParams(H,P,y,23,59,59,999),pt=ut,W=`${fe(H,4)}-${fe(P,2)}-${fe(y,2)}`,At=lt,ct=xs-lt,Mt=l[K-1],It=o[K-1],Qt=y===Z&&P===Y&&H===L,Rt=p&&y===1,N=p&&y===c,rt=K===1,ot=K===d,gt=lt===1,Nt=lt===xs,V=SC(H,P,y);i.push({locale:n,id:W,position:++v,label:y.toString(),ariaLabel:b.format(new Date(H,P-1,y)),day:y,dayFromEnd:E,weekday:dt,weekdayPosition:At,weekdayPositionFromEnd:ct,weekdayOrdinal:C,weekdayOrdinalFromEnd:x,week:D,weekFromEnd:M,weekPosition:K,weeknumber:Mt,isoWeeknumber:It,month:P,year:H,date:pt,startDate:ut,endDate:nt,noonDate:X,dayIndex:V,isToday:Qt,isFirstDay:Rt,isLastDay:N,isDisabled:!p,isFocusable:!p,isFocused:!1,inMonth:p,inPrevMonth:f,inNextMonth:m,onTop:rt,onBottom:ot,onLeft:gt,onRight:Nt,classes:[`id-${W}`,`day-${y}`,`day-from-end-${E}`,`weekday-${dt}`,`weekday-position-${At}`,`weekday-ordinal-${C}`,`weekday-ordinal-from-end-${x}`,`week-${D}`,`week-from-end-${M}`,{"is-today":Qt,"is-first-day":Rt,"is-last-day":N,"in-month":p,"in-prev-month":f,"in-next-month":m,"on-top":rt,"on-bottom":ot,"on-left":gt,"on-right":Nt}]}),p&&N?(p=!1,m=!0,y=1,E=c,C=1,x=Math.floor((c-y)/xs+1),D=1,M=e.numWeeks,P=e.month,H=e.year):(y++,E--,C=Math.floor((y-1)/xs+1),x=Math.floor((c-y)/xs+1))}D++,M--}return i}function K7(s,t,e,n){const i=s.reduce((r,a,o)=>{const l=Math.floor(o/7);let c=r[l];return c||(c={id:`week-${l+1}`,title:"",week:a.week,weekPosition:a.weekPosition,weeknumber:a.weeknumber,isoWeeknumber:a.isoWeeknumber,weeknumberDisplay:t?a.weeknumber:e?a.isoWeeknumber:void 0,days:[]},r[l]=c),c.days.push(a),r},Array(s.length/xs));return i.forEach(r=>{const a=r.days[0],o=r.days[r.days.length-1];a.month===o.month?r.title=`${n.formatDate(a.date,"MMMM YYYY")}`:a.year===o.year?r.title=`${n.formatDate(a.date,"MMM")} - ${n.formatDate(o.date,"MMM YYYY")}`:r.title=`${n.formatDate(a.date,"MMM YYYY")} - ${n.formatDate(o.date,"MMM YYYY")}`}),i}function X7(s,t){return s.days.map(e=>({label:t.formatDate(e.date,t.masks.weekdays),weekday:e.weekday}))}function J7(s,t){return`${t}.${fe(s,2)}`}function hC(s,t,e){return cC(e.getDateParts(e.toDate(s)),z7[t])}function fC({day:s,week:t,month:e,year:n},i,r,a){if(r==="daily"&&s){const o=new Date(n,e-1,s),l=Bs(o,i);return{day:l.getDate(),month:l.getMonth()+1,year:l.getFullYear()}}else if(r==="weekly"&&t){const l=a.getMonthParts(e,n).firstDayOfMonth,c=Bs(l,(t-1+i)*7),d=a.getDateParts(c);return{week:d.week,month:d.month,year:d.year}}else{const o=new Date(n,e-1,1),l=Jp(o,i);return{month:l.getMonth()+1,year:l.getFullYear()}}}function zi(s){return s!=null&&s.month!=null&&s.year!=null}function Ib(s,t){return!zi(s)||!zi(t)?!1:(s=s,t=t,s.year!==t.year?s.year<t.year:s.month&&t.month&&s.month!==t.month?s.month<t.month:s.week&&t.week&&s.week!==t.week?s.week<t.week:s.day&&t.day&&s.day!==t.day?s.day<t.day:!1)}function Qp(s,t){return!zi(s)||!zi(t)?!1:(s=s,t=t,s.year!==t.year?s.year>t.year:s.month&&t.month&&s.month!==t.month?s.month>t.month:s.week&&t.week&&s.week!==t.week?s.week>t.week:s.day&&t.day&&s.day!==t.day?s.day>t.day:!1)}function Q7(s,t,e){return(s||!1)&&!Ib(s,t)&&!Qp(s,e)}function Z7(s,t){return!s&&t||s&&!t?!1:!s&&!t?!0:(s=s,t=t,s.year===t.year&&s.month===t.month&&s.week===t.week&&s.day===t.day)}function t9(s,t,e,n){if(!zi(s)||!zi(t))return[];const i=[];for(;!Qp(s,t);)i.push(s),s=fC(s,1,e,n);return i}function pC(s){const{day:t,week:e,month:n,year:i}=s;let r=`${i}-${fe(n,2)}`;return e&&(r=`${r}-w${e}`),t&&(r=`${r}-${fe(t,2)}`),r}function e9(s,t){const{month:e,year:n,showWeeknumbers:i,showIsoWeeknumbers:r}=s,a=new Date(n,e-1,15),o=t.getMonthParts(e,n),l=t.getPrevMonthParts(e,n),c=t.getNextMonthParts(e,n),d=G7({monthComps:o,prevMonthComps:l,nextMonthComps:c},t),h=K7(d,i,r,t),f=X7(h[0],t);return{id:pC(s),month:e,year:n,monthTitle:t.formatDate(a,t.masks.title),shortMonthLabel:t.formatDate(a,"MMM"),monthLabel:t.formatDate(a,"MMMM"),shortYearLabel:n.toString().substring(2),yearLabel:n.toString(),monthComps:o,prevMonthComps:l,nextMonthComps:c,days:d,weeks:h,weekdays:f}}function s9(s,t){const{day:e,week:n,view:i,trimWeeks:r}=s,a={...t,...s,title:"",viewDays:[],viewWeeks:[]};switch(i){case"daily":{let o=a.days.find(c=>c.inMonth);e?o=a.days.find(c=>c.day===e&&c.inMonth)||o:n&&(o=a.days.find(c=>c.week===n&&c.inMonth));const l=a.weeks[o.week-1];a.viewWeeks=[l],a.viewDays=[o],a.week=o.week,a.weekTitle=l.title,a.day=o.day,a.dayTitle=o.ariaLabel,a.title=a.dayTitle;break}case"weekly":{a.week=n||1;const o=a.weeks[a.week-1];a.viewWeeks=[o],a.viewDays=o.days,a.weekTitle=o.title,a.title=a.weekTitle;break}default:{a.title=a.monthTitle,a.viewWeeks=a.weeks.slice(0,r?a.monthComps.numWeeks:void 0),a.viewDays=a.days;break}}return a}class Q_{constructor(t,e,n){Ct(this,"keys",[]),Ct(this,"store",{}),this.size=t,this.createKey=e,this.createItem=n}get(...t){const e=this.createKey(...t);return this.store[e]}getOrSet(...t){const e=this.createKey(...t);if(this.store[e])return this.store[e];const n=this.createItem(...t);if(this.keys.length>=this.size){const i=this.keys.shift();i!=null&&delete this.store[i]}return this.keys.push(e),this.store[e]=n,n}}class rc{constructor(t,e=new Zp){Ct(this,"order"),Ct(this,"locale"),Ct(this,"start",null),Ct(this,"end",null),Ct(this,"repeat",null);var n;this.locale=e;const{start:i,end:r,span:a,order:o,repeat:l}=t;ic(i)&&(this.start=e.getDateParts(i)),ic(r)?this.end=e.getDateParts(r):this.start!=null&&a&&(this.end=e.getDateParts(Bs(this.start.date,a-1))),this.order=o??0,l&&(this.repeat=new tm({from:(n=this.start)==null?void 0:n.date,...l},{locale:this.locale}))}static fromMany(t,e){return(jn(t)?t:[t]).filter(n=>n).map(n=>rc.from(n,e))}static from(t,e){if(t instanceof rc)return t;const n={start:null,end:null};return t!=null&&(jn(t)?(n.start=t[0]??null,n.end=t[1]??null):Yr(t)?Object.assign(n,t):(n.start=t,n.end=t)),n.start!=null&&(n.start=new Date(n.start)),n.end!=null&&(n.end=new Date(n.end)),new rc(n,e)}get opts(){const{order:t,locale:e}=this;return{order:t,locale:e}}get hasRepeat(){return!!this.repeat}get isSingleDay(){const{start:t,end:e}=this;return t&&e&&t.year===e.year&&t.month===e.month&&t.day===e.day}get isMultiDay(){return!this.isSingleDay}get daySpan(){return this.start==null||this.end==null?this.hasRepeat?1:1/0:this.end.dayIndex-this.start.dayIndex}startsOnDay(t){var e,n;return((e=this.start)==null?void 0:e.dayIndex)===t.dayIndex||!!((n=this.repeat)!=null&&n.passes(t))}intersectsDay(t){return this.intersectsDayRange(t,t)}intersectsRange(t){var e,n;return this.intersectsDayRange(((e=t.start)==null?void 0:e.dayIndex)??-1/0,((n=t.end)==null?void 0:n.dayIndex)??1/0)}intersectsDayRange(t,e){return!(this.start&&this.start.dayIndex>e||this.end&&this.end.dayIndex<t)}}class n9{constructor(){Ct(this,"records",{})}render(t,e,n){var i,r,a,o;let l=null;const c=n[0].dayIndex,d=n[n.length-1].dayIndex;return e.hasRepeat?n.forEach(h=>{var f,p;if(e.startsOnDay(h)){const m=e.daySpan<1/0?e.daySpan:1;l={startDay:h.dayIndex,startTime:((f=e.start)==null?void 0:f.time)??0,endDay:h.dayIndex+m-1,endTime:((p=e.end)==null?void 0:p.time)??Ap},this.getRangeRecords(t).push(l)}}):e.intersectsDayRange(c,d)&&(l={startDay:((i=e.start)==null?void 0:i.dayIndex)??-1/0,startTime:((r=e.start)==null?void 0:r.time)??-1/0,endDay:((a=e.end)==null?void 0:a.dayIndex)??1/0,endTime:((o=e.end)==null?void 0:o.time)??1/0},this.getRangeRecords(t).push(l)),l}getRangeRecords(t){let e=this.records[t.key];return e||(e={ranges:[],data:t},this.records[t.key]=e),e.ranges}getCell(t,e){return this.getCells(e).find(r=>r.data.key===t)}cellExists(t,e){const n=this.records[t];return n==null?!1:n.ranges.some(i=>i.startDay<=e&&i.endDay>=e)}getCells(t){const e=Object.values(this.records),n=[],{dayIndex:i}=t;return e.forEach(({data:r,ranges:a})=>{a.filter(o=>o.startDay<=i&&o.endDay>=i).forEach(o=>{const l=i===o.startDay,c=i===o.endDay,d=l?o.startTime:0,h=new Date(t.startDate.getTime()+d),f=c?o.endTime:Ap,p=new Date(t.endDate.getTime()+f),m=d===0&&f===Ap,v=r.order||0;n.push({...o,data:r,onStart:l,onEnd:c,startTime:d,startDate:h,endTime:f,endDate:p,allDay:m,order:v})})}),n.sort((r,a)=>r.order-a.order),n}}const Vr={ar:{dow:7,L:"D/‏M/‏YYYY"},bg:{dow:2,L:"D.MM.YYYY"},ca:{dow:2,L:"DD/MM/YYYY"},"zh-CN":{dow:2,L:"YYYY/MM/DD"},"zh-TW":{dow:1,L:"YYYY/MM/DD"},hr:{dow:2,L:"DD.MM.YYYY"},cs:{dow:2,L:"DD.MM.YYYY"},da:{dow:2,L:"DD.MM.YYYY"},nl:{dow:2,L:"DD-MM-YYYY"},"en-US":{dow:1,L:"MM/DD/YYYY"},"en-AU":{dow:2,L:"DD/MM/YYYY"},"en-CA":{dow:1,L:"YYYY-MM-DD"},"en-GB":{dow:2,L:"DD/MM/YYYY"},"en-IE":{dow:2,L:"DD-MM-YYYY"},"en-NZ":{dow:2,L:"DD/MM/YYYY"},"en-ZA":{dow:1,L:"YYYY/MM/DD"},eo:{dow:2,L:"YYYY-MM-DD"},et:{dow:2,L:"DD.MM.YYYY"},fi:{dow:2,L:"DD.MM.YYYY"},fr:{dow:2,L:"DD/MM/YYYY"},"fr-CA":{dow:1,L:"YYYY-MM-DD"},"fr-CH":{dow:2,L:"DD.MM.YYYY"},de:{dow:2,L:"DD.MM.YYYY"},he:{dow:1,L:"DD.MM.YYYY"},id:{dow:2,L:"DD/MM/YYYY"},it:{dow:2,L:"DD/MM/YYYY"},ja:{dow:1,L:"YYYY年M月D日"},ko:{dow:1,L:"YYYY.MM.DD"},lv:{dow:2,L:"DD.MM.YYYY"},lt:{dow:2,L:"DD.MM.YYYY"},mk:{dow:2,L:"D.MM.YYYY"},nb:{dow:2,L:"D. MMMM YYYY"},nn:{dow:2,L:"D. MMMM YYYY"},pl:{dow:2,L:"DD.MM.YYYY"},pt:{dow:2,L:"DD/MM/YYYY"},ro:{dow:2,L:"DD.MM.YYYY"},ru:{dow:2,L:"DD.MM.YYYY"},sk:{dow:2,L:"DD.MM.YYYY"},"es-ES":{dow:2,L:"DD/MM/YYYY"},"es-MX":{dow:2,L:"DD/MM/YYYY"},sv:{dow:2,L:"YYYY-MM-DD"},th:{dow:1,L:"DD/MM/YYYY"},tr:{dow:2,L:"DD.MM.YYYY"},uk:{dow:2,L:"DD.MM.YYYY"},vi:{dow:2,L:"DD/MM/YYYY"}};Vr.en=Vr["en-US"];Vr.es=Vr["es-ES"];Vr.no=Vr.nb;Vr.zh=Vr["zh-CN"];const i9=Object.entries(Vr).reduce((s,[t,{dow:e,L:n}])=>(s[t]={id:t,firstDayOfWeek:e,masks:{L:n}},s),{}),r9="MMMM YYYY",a9="W",o9="MMM",l9="h A",c9=["L","YYYY-MM-DD","YYYY/MM/DD"],u9=["L h:mm A","YYYY-MM-DD h:mm A","YYYY/MM/DD h:mm A"],d9=["L HH:mm","YYYY-MM-DD HH:mm","YYYY/MM/DD HH:mm"],h9=["h:mm A"],f9=["HH:mm"],p9="WWW, MMM D, YYYY",m9=["L","YYYY-MM-DD","YYYY/MM/DD"],g9="iso",v9="YYYY-MM-DDTHH:mm:ss.SSSZ",b9={title:r9,weekdays:a9,navMonths:o9,hours:l9,input:c9,inputDateTime:u9,inputDateTime24hr:d9,inputTime:h9,inputTime24hr:f9,dayPopover:p9,data:m9,model:g9,iso:v9},y9=300,w9=60,_9=80,A9={maxSwipeTime:y9,minHorizontalSwipeDistance:w9,maxVerticalSwipeDistance:_9},S9={componentPrefix:"V",color:"blue",isDark:!1,navVisibility:"click",titlePosition:"center",transition:"slide-h",touch:A9,masks:b9,locales:i9,datePicker:{updateOnInput:!0,inputDebounce:1e3,popover:{visibility:"hover-focus",placement:"bottom-start",isInteractive:!0}}},ac=Je(S9),E9=B(()=>Wq(ac.locales,s=>(s.masks=yu(s.masks,ac.masks),s))),Ya=s=>typeof window<"u"&&oC(window.__vcalendar__,s)?go(window.__vcalendar__,s):go(ac,s),x9=(s,t)=>(s.config.globalProperties.$VCalendar=ac,Object.assign(ac,yu(t,ac))),C9=12,T9=5;function D9(s,t){const e=new Intl.DateTimeFormat().resolvedOptions().locale;let n;qi(s)?n=s:oC(s,"id")&&(n=s.id),n=(n||e).toLowerCase();const i=Object.keys(t),r=l=>i.find(c=>c.toLowerCase()===l);n=r(n)||r(n.substring(0,2))||e;const a={...t["en-IE"],...t[n],id:n,monthCacheSize:C9,pageCacheSize:T9};return Yr(s)?yu(s,a):a}class Zp{constructor(t=void 0,e){Ct(this,"id"),Ct(this,"daysInWeek"),Ct(this,"firstDayOfWeek"),Ct(this,"masks"),Ct(this,"timezone"),Ct(this,"hourLabels"),Ct(this,"dayNames"),Ct(this,"dayNamesShort"),Ct(this,"dayNamesShorter"),Ct(this,"dayNamesNarrow"),Ct(this,"monthNames"),Ct(this,"monthNamesShort"),Ct(this,"relativeTimeNames"),Ct(this,"amPm",["am","pm"]),Ct(this,"monthCache"),Ct(this,"pageCache");const{id:n,firstDayOfWeek:i,masks:r,monthCacheSize:a,pageCacheSize:o}=D9(t,E9.value);this.monthCache=new Q_(a,X9,J9),this.pageCache=new Q_(o,pC,e9),this.id=n,this.daysInWeek=xs,this.firstDayOfWeek=l7(i,1,xs),this.masks=r,this.timezone=e||void 0,this.hourLabels=this.getHourLabels(),this.dayNames=jg("long",this.id),this.dayNamesShort=jg("short",this.id),this.dayNamesShorter=this.dayNamesShort.map(l=>l.substring(0,2)),this.dayNamesNarrow=jg("narrow",this.id),this.monthNames=i1("long",this.id),this.monthNamesShort=i1("short",this.id),this.relativeTimeNames=tK(this.id)}formatDate(t,e){return rK(t,e,this)}parseDate(t,e){return r1(t,e,this)}toDate(t,e={}){const n=new Date(NaN);let i=n;const{fillDate:r,mask:a,patch:o,rules:l}=e;if(vi(t)?(e.type="number",i=new Date(+t)):qi(t)?(e.type="string",i=t?r1(t,a||"iso",this):n):ic(t)?(e.type="date",i=new Date(t.getTime())):qy(t)&&(e.type="object",i=this.getDateFromParts(t)),i&&(o||l)){let c=this.getDateParts(i);if(o&&r!=null){const d=this.getDateParts(this.toDate(r));c=this.getDateParts(this.toDate({...d,...cC(c,H9[o])}))}l&&(c=iK(c,l)),i=this.getDateFromParts(c)}return i||n}toDateOrNull(t,e={}){const n=this.toDate(t,e);return isNaN(n.getTime())?null:n}fromDate(t,{type:e,mask:n}={}){switch(e){case"number":return t?t.getTime():NaN;case"string":return t?this.formatDate(t,n||"iso"):"";case"object":return t?this.getDateParts(t):null;default:return t?new Date(t):null}}range(t){return rc.from(t,this)}ranges(t){return rc.fromMany(t,this)}getDateParts(t){return K9(t,this)}getDateFromParts(t){return xC(t,this.timezone)}getDateFromParams(t,e,n,i,r,a,o){return this.getDateFromParts({year:t,month:e,day:n,hours:i,minutes:r,seconds:a,milliseconds:o})}getPage(t){const e=this.pageCache.getOrSet(t,this);return s9(t,e)}getMonthParts(t,e){const{firstDayOfWeek:n}=this;return this.monthCache.getOrSet(t,e,n)}getThisMonthParts(){const t=new Date;return this.getMonthParts(t.getMonth()+1,t.getFullYear())}getPrevMonthParts(t,e){return t===1?this.getMonthParts(12,e-1):this.getMonthParts(t-1,e)}getNextMonthParts(t,e){return t===12?this.getMonthParts(1,e+1):this.getMonthParts(t+1,e)}getHourLabels(){return Z9().map(t=>this.formatDate(t,this.masks.hours))}getDayId(t){return this.formatDate(t,"YYYY-MM-DD")}}var ql=(s=>(s.Any="any",s.All="all",s))(ql||{}),mC=(s=>(s.Days="days",s.Weeks="weeks",s.Months="months",s.Years="years",s))(mC||{}),gC=(s=>(s.Days="days",s.Weekdays="weekdays",s.Weeks="weeks",s.Months="months",s.Years="years",s))(gC||{}),vC=(s=>(s.OrdinalWeekdays="ordinalWeekdays",s))(vC||{});class k9{constructor(t,e,n){Ct(this,"validated",!0),this.type=t,this.interval=e,this.from=n,this.from||(console.error('A valid "from" date is required for date interval rule. This rule will be skipped.'),this.validated=!1)}passes(t){if(!this.validated)return!0;const{date:e}=t;switch(this.type){case"days":return zy(this.from.date,e)%this.interval===0;case"weeks":return z9(this.from.date,e)%this.interval===0;case"months":return G9(this.from.date,e)%this.interval===0;case"years":return EC(this.from.date,e)%this.interval===0;default:return!1}}}class Mu{constructor(t,e,n,i){Ct(this,"components",[]),this.type=t,this.validator=n,this.getter=i,this.components=this.normalizeComponents(e)}static create(t,e){switch(t){case"days":return new P9(e);case"weekdays":return new M9(e);case"weeks":return new R9(e);case"months":return new O9(e);case"years":return new I9(e)}}normalizeComponents(t){if(this.validator(t))return[t];if(!jn(t))return[];const e=[];return t.forEach(n=>{if(!this.validator(n)){console.error(`Component value ${n} in invalid for "${this.type}" rule. This rule will be skipped.`);return}e.push(n)}),e}passes(t){return this.getter(t).some(i=>this.components.includes(i))}}class P9 extends Mu{constructor(t){super("days",t,N9,({day:e,dayFromEnd:n})=>[e,-n])}}class M9 extends Mu{constructor(t){super("weekdays",t,$b,({weekday:e})=>[e])}}class R9 extends Mu{constructor(t){super("weeks",t,F9,({week:e,weekFromEnd:n})=>[e,-n])}}class O9 extends Mu{constructor(t){super("months",t,B9,({month:e})=>[e])}}class I9 extends Mu{constructor(t){super("years",t,vi,({year:e})=>[e])}}class $9{constructor(t,e){Ct(this,"components"),this.type=t,this.components=this.normalizeComponents(e)}normalizeArrayConfig(t){const e=[];return t.forEach((n,i)=>{if(vi(n)){if(i===0)return;if(!Z_(t[0])){console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);return}if(!$b(n)){console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);return}e.push([t[0],n])}else jn(n)&&e.push(...this.normalizeArrayConfig(n))}),e}normalizeComponents(t){const e=[];return t.forEach((n,i)=>{if(vi(n)){if(i===0)return;if(!Z_(t[0])){console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);return}if(!$b(n)){console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);return}e.push([t[0],n])}else jn(n)&&e.push(...this.normalizeArrayConfig(n))}),e}passes(t){const{weekday:e,weekdayOrdinal:n,weekdayOrdinalFromEnd:i}=t;return this.components.some(([r,a])=>(r===n||r===-i)&&e===a)}}class L9{constructor(t){Ct(this,"type","function"),Ct(this,"validated",!0),this.fn=t,Pl(t)||(console.error("The function rule requires a valid function. This rule will be skipped."),this.validated=!1)}passes(t){return this.validated?this.fn(t):!0}}class tm{constructor(t,e={},n){Ct(this,"validated",!0),Ct(this,"config"),Ct(this,"type",ql.Any),Ct(this,"from"),Ct(this,"until"),Ct(this,"rules",[]),Ct(this,"locale",new Zp),this.parent=n,e.locale&&(this.locale=e.locale),this.config=t,Pl(t)?(this.type=ql.All,this.rules=[new L9(t)]):jn(t)?(this.type=ql.Any,this.rules=t.map(i=>new tm(i,e,this))):Yr(t)?(this.type=ql.All,this.from=t.from?this.locale.getDateParts(t.from):n==null?void 0:n.from,this.until=t.until?this.locale.getDateParts(t.until):n==null?void 0:n.until,this.rules=this.getObjectRules(t)):(console.error("Rule group configuration must be an object or an array."),this.validated=!1)}getObjectRules(t){const e=[];if(t.every&&(qi(t.every)&&(t.every=[1,`${t.every}s`]),jn(t.every))){const[n=1,i=mC.Days]=t.every;e.push(new k9(i,n,this.from))}return Object.values(gC).forEach(n=>{n in t&&e.push(Mu.create(n,t[n]))}),Object.values(vC).forEach(n=>{n in t&&e.push(new $9(n,t[n]))}),t.on!=null&&(jn(t.on)||(t.on=[t.on]),e.push(new tm(t.on,{locale:this.locale},this.parent))),e}passes(t){return this.validated?this.from&&t.dayIndex<=this.from.dayIndex||this.until&&t.dayIndex>=this.until.dayIndex?!1:this.type===ql.Any?this.rules.some(e=>e.passes(t)):this.rules.every(e=>e.passes(t)):!0}}function N9(s){return vi(s)?s>=1&&s<=31:!1}function $b(s){return vi(s)?s>=1&&s<=7:!1}function F9(s){return vi(s)?s>=-6&&s<=-1||s>=1&&s<=6:!1}function B9(s){return vi(s)?s>=1&&s<=12:!1}function Z_(s){return!(!vi(s)||s<-5||s>5||s===0)}const H9={dateTime:["year","month","day","hours","minutes","seconds","milliseconds"],date:["year","month","day"],time:["hours","minutes","seconds","milliseconds"]},xs=7,U9=6,bC=1e3,yC=bC*60,wC=yC*60,Ap=wC*24,j9=[31,28,31,30,31,30,31,31,30,31,30,31],Y9=["L","iso"],ud={milliseconds:[0,999,3],seconds:[0,59,2],minutes:[0,59,2],hours:[0,23,2]},_C=/d{1,2}|W{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|Z{1,4}|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,V9=/\[([^]*?)\]/gm,t1={D(s){return s.day},DD(s){return fe(s.day,2)},d(s){return s.weekday-1},dd(s){return fe(s.weekday-1,2)},W(s,t){return t.dayNamesNarrow[s.weekday-1]},WW(s,t){return t.dayNamesShorter[s.weekday-1]},WWW(s,t){return t.dayNamesShort[s.weekday-1]},WWWW(s,t){return t.dayNames[s.weekday-1]},M(s){return s.month},MM(s){return fe(s.month,2)},MMM(s,t){return t.monthNamesShort[s.month-1]},MMMM(s,t){return t.monthNames[s.month-1]},YY(s){return String(s.year).substr(2)},YYYY(s){return fe(s.year,4)},h(s){return s.hours%12||12},hh(s){return fe(s.hours%12||12,2)},H(s){return s.hours},HH(s){return fe(s.hours,2)},m(s){return s.minutes},mm(s){return fe(s.minutes,2)},s(s){return s.seconds},ss(s){return fe(s.seconds,2)},S(s){return Math.round(s.milliseconds/100)},SS(s){return fe(Math.round(s.milliseconds/10),2)},SSS(s){return fe(s.milliseconds,3)},a(s,t){return s.hours<12?t.amPm[0]:t.amPm[1]},A(s,t){return s.hours<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},Z(){return"Z"},ZZ(s){const t=s.timezoneOffset;return`${t>0?"-":"+"}${fe(Math.floor(Math.abs(t)/60),2)}`},ZZZ(s){const t=s.timezoneOffset;return`${t>0?"-":"+"}${fe(Math.floor(Math.abs(t)/60)*100+Math.abs(t)%60,4)}`},ZZZZ(s){const t=s.timezoneOffset;return`${t>0?"-":"+"}${fe(Math.floor(Math.abs(t)/60),2)}:${fe(Math.abs(t)%60,2)}`}},ta=/\d\d?/,W9=/\d{3}/,q9=/\d{4}/,Wu=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF/]+(\s*?[\u0600-\u06FF]+){1,2}/i,e1=()=>{},s1=s=>(t,e,n)=>{const i=n[s].indexOf(e.charAt(0).toUpperCase()+e.substr(1).toLowerCase());~i&&(t.month=i)},we={D:[ta,(s,t)=>{s.day=t}],Do:[new RegExp(ta.source+Wu.source),(s,t)=>{s.day=parseInt(t,10)}],d:[ta,e1],W:[Wu,e1],M:[ta,(s,t)=>{s.month=t-1}],MMM:[Wu,s1("monthNamesShort")],MMMM:[Wu,s1("monthNames")],YY:[ta,(s,t)=>{const n=+new Date().getFullYear().toString().substr(0,2);s.year=+`${t>68?n-1:n}${t}`}],YYYY:[q9,(s,t)=>{s.year=t}],S:[/\d/,(s,t)=>{s.milliseconds=t*100}],SS:[/\d{2}/,(s,t)=>{s.milliseconds=t*10}],SSS:[W9,(s,t)=>{s.milliseconds=t}],h:[ta,(s,t)=>{s.hours=t}],m:[ta,(s,t)=>{s.minutes=t}],s:[ta,(s,t)=>{s.seconds=t}],a:[Wu,(s,t,e)=>{const n=t.toLowerCase();n===e.amPm[0]?s.isPm=!1:n===e.amPm[1]&&(s.isPm=!0)}],Z:[/[^\s]*?[+-]\d\d:?\d\d|[^\s]*?Z?/,(s,t)=>{t==="Z"&&(t="+00:00");const e=`${t}`.match(/([+-]|\d\d)/gi);if(e){const n=+e[1]*60+parseInt(e[2],10);s.timezoneOffset=e[0]==="+"?n:-n}}]};we.DD=we.D;we.dd=we.d;we.WWWW=we.WWW=we.WW=we.W;we.MM=we.M;we.mm=we.m;we.hh=we.H=we.HH=we.h;we.ss=we.s;we.A=we.a;we.ZZZZ=we.ZZZ=we.ZZ=we.Z;function AC(s,t){return(Br(s)&&s||[qi(s)&&s||"YYYY-MM-DD"]).map(e=>Y9.reduce((n,i)=>n.replace(i,t.masks[i]||""),e))}function qy(s){return Yr(s)&&"year"in s&&"month"in s&&"day"in s}function n1(s,t=1){const e=s.getDay()+1,n=e>=t?t-e:-(7-(t-e));return Bs(s,n)}function SC(s,t,e){const n=Date.UTC(s,t-1,e);return zy(new Date(0),new Date(n))}function zy(s,t){return Math.round((t.getTime()-s.getTime())/Ap)}function z9(s,t){return Math.ceil(zy(n1(s),n1(t))/7)}function EC(s,t){return t.getUTCFullYear()-s.getUTCFullYear()}function G9(s,t){return EC(s,t)*12+(t.getMonth()-s.getMonth())}function xC(s,t=""){const e=new Date,{year:n=e.getFullYear(),month:i=e.getMonth()+1,day:r=e.getDate(),hours:a=0,minutes:o=0,seconds:l=0,milliseconds:c=0}=s;if(t){const d=`${fe(n,4)}-${fe(i,2)}-${fe(r,2)}T${fe(a,2)}:${fe(o,2)}:${fe(l,2)}.${fe(c,3)}`;return x7(d,{timeZone:t})}return new Date(n,i-1,r,a,o,l,c)}function K9(s,t){let e=new Date(s.getTime());t.timezone&&(e=new Date(s.toLocaleString("en-US",{timeZone:t.timezone})),e.setMilliseconds(s.getMilliseconds()));const n=e.getMilliseconds(),i=e.getSeconds(),r=e.getMinutes(),a=e.getHours(),o=n+i*bC+r*yC+a*wC,l=e.getMonth()+1,c=e.getFullYear(),d=t.getMonthParts(l,c),h=e.getDate(),f=d.numDays-h+1,p=e.getDay()+1,m=Math.floor((h-1)/7+1),v=Math.floor((d.numDays-h)/7+1),b=Math.ceil((h+Math.abs(d.firstWeekday-d.firstDayOfWeek))/7),y=d.numWeeks-b+1,E=d.weeknumbers[b],C=SC(c,l,h);return{milliseconds:n,seconds:i,minutes:r,hours:a,time:o,day:h,dayFromEnd:f,weekday:p,weekdayOrdinal:m,weekdayOrdinalFromEnd:v,week:b,weekFromEnd:y,weeknumber:E,month:l,year:c,date:e,dateTime:e.getTime(),dayIndex:C,timezoneOffset:0,isValid:!0}}function X9(s,t,e){return`${t}-${s}-${e}`}function J9(s,t,e){const n=t%4===0&&t%100!==0||t%400===0,i=new Date(t,s-1,1),r=i.getDay()+1,a=s===2&&n?29:j9[s-1],o=e-1,l=F7(i,{weekStartsOn:o}),c=[],d=[];for(let h=0;h<l;h++){const f=Bs(i,h*7);c.push(j7(f,{weekStartsOn:o})),d.push(q7(f))}return{firstDayOfWeek:e,firstDayOfMonth:i,inLeapYear:n,firstWeekday:r,numDays:a,numWeeks:l,month:s,year:t,weeknumbers:c,isoWeeknumbers:d}}function Q9(){const s=[];for(let i=0;i<xs;i++)s.push(xC({year:2020,month:1,day:5+i,hours:12}));return s}function jg(s,t=void 0){const e=new Intl.DateTimeFormat(t,{weekday:s});return Q9().map(n=>e.format(n))}function Z9(){const s=[];for(let t=0;t<=24;t++)s.push(new Date(2e3,0,1,t));return s}function tK(s=void 0){const t=["second","minute","hour","day","week","month","quarter","year"],e=new Intl.RelativeTimeFormat(s);return t.reduce((n,i)=>{const r=e.formatToParts(100,i);return n[i]=r[1].unit,n},{})}function CC(){const s=[];for(let t=0;t<12;t++)s.push(new Date(2e3,t,15));return s}function i1(s,t=void 0){const e=new Intl.DateTimeFormat(t,{month:s,timeZone:"UTC"});return CC().map(n=>e.format(n))}function eK(s,t,e){return vi(t)?t===s:jn(t)?t.includes(s):Pl(t)?t(s,e):!(t.min!=null&&t.min>s||t.max!=null&&t.max<s||t.interval!=null&&s%t.interval!==0)}function dd(s,t,e){const n=[],[i,r,a]=t;for(let o=i;o<=r;o++)(e==null||eK(o,e,s))&&n.push({value:o,label:fe(o,a)});return n}function sK(s,t){return{milliseconds:dd(s,ud.milliseconds,t.milliseconds),seconds:dd(s,ud.seconds,t.seconds),minutes:dd(s,ud.minutes,t.minutes),hours:dd(s,ud.hours,t.hours)}}function nK(s,t,e,n){const r=dd(s,t,n).reduce((a,o)=>{if(o.disabled)return a;if(isNaN(a))return o.value;const l=Math.abs(a-e);return Math.abs(o.value-e)<l?o.value:a},NaN);return isNaN(r)?e:r}function iK(s,t){const e={...s};return Object.entries(t).forEach(([n,i])=>{const r=ud[n],a=s[n];e[n]=nK(s,r,a,i)}),e}function r1(s,t,e){return AC(t,e).map(i=>{if(typeof i!="string")throw new Error("Invalid mask");let r=s;if(r.length>1e3)return!1;let a=!0;const o={};if(i.replace(_C,d=>{if(we[d]){const h=we[d],f=r.search(h[0]);~f?r.replace(h[0],p=>(h[1](o,p,e),r=r.substr(f+p.length),p)):a=!1}return we[d]?"":d.slice(1,d.length-1)}),!a)return!1;const l=new Date;o.hours!=null&&(o.isPm===!0&&+o.hours!=12?o.hours=+o.hours+12:o.isPm===!1&&+o.hours==12&&(o.hours=0));let c;return o.timezoneOffset!=null?(o.minutes=+(o.minutes||0)-+o.timezoneOffset,c=new Date(Date.UTC(o.year||l.getFullYear(),o.month||0,o.day||1,o.hours||0,o.minutes||0,o.seconds||0,o.milliseconds||0))):c=e.getDateFromParts({year:o.year||l.getFullYear(),month:(o.month||0)+1,day:o.day||1,hours:o.hours||0,minutes:o.minutes||0,seconds:o.seconds||0,milliseconds:o.milliseconds||0}),c}).find(i=>i)||new Date(s)}function rK(s,t,e){if(s==null)return"";let n=AC(t,e)[0];/Z$/.test(n)&&(e.timezone="utc");const i=[];n=n.replace(V9,(a,o)=>(i.push(o),"??"));const r=e.getDateParts(s);return n=n.replace(_C,a=>a in t1?t1[a](r,e):a.slice(1,a.length-1)),n.replace(/\?\?/g,()=>i.shift())}let aK=0;class TC{constructor(t,e,n){Ct(this,"key",""),Ct(this,"hashcode",""),Ct(this,"highlight",null),Ct(this,"content",null),Ct(this,"dot",null),Ct(this,"bar",null),Ct(this,"event",null),Ct(this,"popover",null),Ct(this,"customData",null),Ct(this,"ranges"),Ct(this,"hasRanges",!1),Ct(this,"order",0),Ct(this,"pinPage",!1),Ct(this,"maxRepeatSpan",0),Ct(this,"locale");const{dates:i}=Object.assign(this,{hashcode:"",order:0,pinPage:!1},t);this.key||(this.key=++aK),this.locale=n,e.normalizeGlyphs(this),this.ranges=n.ranges(i??[]),this.hasRanges=!!Br(this.ranges),this.maxRepeatSpan=this.ranges.filter(r=>r.hasRepeat).map(r=>r.daySpan).reduce((r,a)=>Math.max(r,a),0)}intersectsRange({start:t,end:e}){if(t==null||e==null)return!1;const n=this.ranges.filter(a=>!a.hasRepeat);for(const a of n)if(a.intersectsDayRange(t.dayIndex,e.dayIndex))return!0;const i=this.ranges.filter(a=>a.hasRepeat);if(!i.length)return!1;let r=t;for(this.maxRepeatSpan>1&&(r=this.locale.getDateParts(Bs(r.date,-this.maxRepeatSpan)));r.dayIndex<=e.dayIndex;){for(const a of i)if(a.startsOnDay(r))return!0;r=this.locale.getDateParts(Bs(r.date,1))}return!1}}function Lb(s){document&&document.dispatchEvent(new CustomEvent("show-popover",{detail:s}))}function Hd(s){document&&document.dispatchEvent(new CustomEvent("hide-popover",{detail:s}))}function DC(s){document&&document.dispatchEvent(new CustomEvent("toggle-popover",{detail:s}))}function kC(s){const{visibility:t}=s,e=t==="click",n=t==="hover",i=t==="hover-focus",r=t==="focus";s.autoHide=!e;let a=!1,o=!1;const l=m=>{e&&(DC({...s,target:s.target||m.currentTarget}),m.stopPropagation())},c=m=>{a||(a=!0,(n||i)&&Lb({...s,target:s.target||m.currentTarget}))},d=()=>{a&&(a=!1,(n||i&&!o)&&Hd(s))},h=m=>{o||(o=!0,(r||i)&&Lb({...s,target:s.target||m.currentTarget}))},f=m=>{o&&!wp(m.currentTarget,m.relatedTarget)&&(o=!1,(r||i&&!a)&&Hd(s))},p={};switch(s.visibility){case"click":p.click=l;break;case"hover":p.mousemove=c,p.mouseleave=d;break;case"focus":p.focusin=h,p.focusout=f;break;case"hover-focus":p.mousemove=c,p.mouseleave=d,p.focusin=h,p.focusout=f;break}return p}const a1=s=>{const t=zp(s);if(t==null)return;const e=t.popoverHandlers;!e||!e.length||(e.forEach(n=>n()),delete t.popoverHandlers)},o1=(s,t)=>{const e=zp(s);if(e==null)return;const n=[],i=kC(t);Object.entries(i).forEach(([r,a])=>{n.push(la(e,r,a))}),e.popoverHandlers=n},PC={mounted(s,t){const{value:e}=t;e&&o1(s,e)},updated(s,t){const{oldValue:e,value:n}=t,i=e==null?void 0:e.visibility,r=n==null?void 0:n.visibility;i!==r&&(i&&(a1(s),r||Hd(e)),r&&o1(s,n))},unmounted(s){a1(s)}},oK=(s,t,{maxSwipeTime:e,minHorizontalSwipeDistance:n,maxVerticalSwipeDistance:i})=>{if(!s||!s.addEventListener||!Pl(t))return null;let r=0,a=0,o=null,l=!1;function c(h){const f=h.changedTouches[0];r=f.screenX,a=f.screenY,o=new Date().getTime(),l=!0}function d(h){if(!l||!o)return;l=!1;const f=h.changedTouches[0],p=f.screenX-r,m=f.screenY-a;if(new Date().getTime()-o<e&&Math.abs(p)>=n&&Math.abs(m)<=i){const b={toLeft:!1,toRight:!1};p<0?b.toLeft=!0:b.toRight=!0,t(b)}}return la(s,"touchstart",c,{passive:!0}),la(s,"touchend",d,{passive:!0}),()=>{oa(s,"touchstart",c),oa(s,"touchend",d)}},Sp={},lK=(s,t=10)=>{Sp[s]=Date.now()+t},cK=(s,t)=>{if(s in Sp){const e=Sp[s];if(Date.now()<e)return;delete Sp[s]}t()};function MC(){return typeof window<"u"}function uK(s){return MC()&&s in window}function dK(s){const t=vt(!1),e=B(()=>t.value?"dark":"light");let n,i;function r(p){t.value=p.matches}function a(){uK("matchMedia")&&(n=window.matchMedia("(prefers-color-scheme: dark)"),n.addEventListener("change",r),t.value=n.matches)}function o(){const{selector:p=":root",darkClass:m="dark"}=s.value,v=document.querySelector(p);t.value=v.classList.contains(m)}function l(p){const{selector:m=":root",darkClass:v="dark"}=p;if(MC()&&m&&v){const b=document.querySelector(m);b&&(i=new MutationObserver(o),i.observe(b,{attributes:!0,attributeFilter:["class"]}),t.value=b.classList.contains(v))}}function c(){h();const p=typeof s.value;p==="string"&&s.value.toLowerCase()==="system"?a():p==="object"?l(s.value):t.value=!!s.value}const d=$e(()=>s.value,()=>c(),{immediate:!0});function h(){n&&(n.removeEventListener("change",r),n=void 0),i&&(i.disconnect(),i=void 0)}function f(){h(),d()}return Ka(()=>f()),{isDark:t,displayMode:e,cleanup:f}}const hK=["base","start","end","startEnd"],fK=["class","wrapperClass","contentClass","style","contentStyle","color","fillMode"],pK={base:{},start:{},end:{}};function Gy(s,t,e=pK){let n=s,i={};t===!0||qi(t)?(n=qi(t)?t:n,i={...e}):Yr(t)&&(U_(t,hK)?i={...t}:i={base:{...t},start:{...t},end:{...t}});const r=yu(i,{start:i.startEnd,end:i.startEnd},e);return Object.entries(r).forEach(([a,o])=>{let l=n;o===!0||qi(o)?(l=qi(o)?o:l,r[a]={color:l}):Yr(o)&&(U_(o,fK)?r[a]={...o}:r[a]={}),yu(r[a],{color:l})}),r}class mK{constructor(){Ct(this,"type","highlight")}normalizeConfig(t,e){return Gy(t,e,{base:{fillMode:"light"},start:{fillMode:"solid"},end:{fillMode:"solid"}})}prepareRender(t){t.highlights=[],t.content||(t.content=[])}render({data:t,onStart:e,onEnd:n},i){const{key:r,highlight:a}=t;if(!a)return;const{highlights:o}=i,{base:l,start:c,end:d}=a;e&&n?o.push({...c,key:r,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${c.color}`,class:[`vc-highlight vc-highlight-bg-${c.fillMode}`,c.class],contentClass:[`vc-attr vc-highlight-content-${c.fillMode} vc-${c.color}`,c.contentClass]}):e?(o.push({...l,key:`${r}-base`,wrapperClass:`vc-day-layer vc-day-box-right-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-start vc-highlight-bg-${l.fillMode}`,l.class]}),o.push({...c,key:r,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${c.color}`,class:[`vc-highlight vc-highlight-bg-${c.fillMode}`,c.class],contentClass:[`vc-attr vc-highlight-content-${c.fillMode} vc-${c.color}`,c.contentClass]})):n?(o.push({...l,key:`${r}-base`,wrapperClass:`vc-day-layer vc-day-box-left-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-end vc-highlight-bg-${l.fillMode}`,l.class]}),o.push({...d,key:r,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${d.color}`,class:[`vc-highlight vc-highlight-bg-${d.fillMode}`,d.class],contentClass:[`vc-attr vc-highlight-content-${d.fillMode} vc-${d.color}`,d.contentClass]})):o.push({...l,key:`${r}-middle`,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${l.color}`,class:[`vc-highlight vc-highlight-base-middle vc-highlight-bg-${l.fillMode}`,l.class],contentClass:[`vc-attr vc-highlight-content-${l.fillMode} vc-${l.color}`,l.contentClass]})}}class Ky{constructor(t,e){Ct(this,"type",""),Ct(this,"collectionType",""),this.type=t,this.collectionType=e}normalizeConfig(t,e){return Gy(t,e)}prepareRender(t){t[this.collectionType]=[]}render({data:t,onStart:e,onEnd:n},i){const{key:r}=t,a=t[this.type];if(!r||!a)return;const o=i[this.collectionType],{base:l,start:c,end:d}=a;e?o.push({...c,key:r,class:[`vc-${this.type} vc-${this.type}-start vc-${c.color} vc-attr`,c.class]}):n?o.push({...d,key:r,class:[`vc-${this.type} vc-${this.type}-end vc-${d.color} vc-attr`,d.class]}):o.push({...l,key:r,class:[`vc-${this.type} vc-${this.type}-base vc-${l.color} vc-attr`,l.class]})}}class gK extends Ky{constructor(){super("content","content")}normalizeConfig(t,e){return Gy("base",e)}}class vK extends Ky{constructor(){super("dot","dots")}}class bK extends Ky{constructor(){super("bar","bars")}}class yK{constructor(t){Ct(this,"color"),Ct(this,"renderers",[new gK,new mK,new vK,new bK]),this.color=t}normalizeGlyphs(t){this.renderers.forEach(e=>{const n=e.type;t[n]!=null&&(t[n]=e.normalizeConfig(this.color,t[n]))})}prepareRender(t={}){return this.renderers.forEach(e=>{e.prepareRender(t)}),t}render(t,e){this.renderers.forEach(n=>{n.render(t,e)})}}const RC=Symbol("__vc_base_context__"),OC={color:{type:String,default:()=>Ya("color")},isDark:{type:[Boolean,String,Object],default:()=>Ya("isDark")},firstDayOfWeek:Number,masks:Object,locale:[String,Object],timezone:String,minDate:null,maxDate:null,disabledDates:null};function IC(s){const t=B(()=>s.color??""),e=B(()=>s.isDark??!1),{displayMode:n}=dK(e),i=B(()=>new yK(t.value)),r=B(()=>{if(s.locale instanceof Zp)return s.locale;const f=Yr(s.locale)?s.locale:{id:s.locale,firstDayOfWeek:s.firstDayOfWeek,masks:s.masks};return new Zp(f,s.timezone)}),a=B(()=>r.value.masks),o=B(()=>s.minDate),l=B(()=>s.maxDate),c=B(()=>{const f=s.disabledDates?[...s.disabledDates]:[];return o.value!=null&&f.push({start:null,end:Bs(r.value.toDate(o.value),-1)}),l.value!=null&&f.push({start:Bs(r.value.toDate(l.value),1),end:null}),r.value.ranges(f)}),d=B(()=>new TC({key:"disabled",dates:c.value,order:100},i.value,r.value)),h={color:t,isDark:e,displayMode:n,theme:i,locale:r,masks:a,minDate:o,maxDate:l,disabledDates:c,disabledAttribute:d};return Ki(RC,h),h}function wK(s){return gs(RC,()=>IC(s),!0)}function $C(s){return`__vc_slot_${s}__`}function LC(s,t={}){Object.keys(s).forEach(e=>{Ki($C(t[e]??e),s[e])})}function NC(s){return gs($C(s),null)}const _K={...OC,view:{type:String,default:"monthly",validator(s){return["daily","weekly","monthly"].includes(s)}},rows:{type:Number,default:1},columns:{type:Number,default:1},step:Number,titlePosition:{type:String,default:()=>Ya("titlePosition")},navVisibility:{type:String,default:()=>Ya("navVisibility")},showWeeknumbers:[Boolean,String],showIsoWeeknumbers:[Boolean,String],expanded:Boolean,borderless:Boolean,transparent:Boolean,initialPage:Object,initialPagePosition:{type:Number,default:1},minPage:Object,maxPage:Object,transition:String,attributes:Array,trimWeeks:Boolean,disablePageSwipe:Boolean},AK=["dayclick","daymouseenter","daymouseleave","dayfocusin","dayfocusout","daykeydown","weeknumberclick","transition-start","transition-end","did-move","update:view","update:pages"],FC=Symbol("__vc_calendar_context__");function SK(s,{slots:t,emit:e}){const n=vt(null),i=vt(null),r=vt(new Date().getDate()),a=vt(!1),o=vt(Symbol()),l=vt(Symbol()),c=vt(s.view),d=vt([]),h=vt("");let f=null,p=null;LC(t);const{theme:m,color:v,displayMode:b,locale:y,masks:E,minDate:C,maxDate:x,disabledAttribute:D,disabledDates:M}=wK(s),P=B(()=>s.rows*s.columns),H=B(()=>s.step||P.value),F=B(()=>aC(d.value)??null),Z=B(()=>zl(d.value)??null),Y=B(()=>s.minPage||(C.value?ct(C.value):null)),L=B(()=>s.maxPage||(x.value?ct(x.value):null)),K=B(()=>s.navVisibility),lt=B(()=>!!s.showWeeknumbers),dt=B(()=>!!s.showIsoWeeknumbers),ut=B(()=>c.value==="monthly"),X=B(()=>c.value==="weekly"),nt=B(()=>c.value==="daily"),pt=()=>{a.value=!0,e("transition-start")},W=()=>{a.value=!1,e("transition-end"),f&&(f.resolve(!0),f=null)},At=(tt,k,et=c.value)=>fC(tt,k,et,y.value),ct=tt=>hC(tt,c.value,y.value),Mt=tt=>{!D.value||!ot.value||(tt.isDisabled=ot.value.cellExists(D.value.key,tt.dayIndex))},It=tt=>{tt.isFocusable=tt.inMonth&&tt.day===r.value},Qt=(tt,k)=>{for(const et of tt)for(const mt of et.days)if(k(mt)===!1)return},Rt=B(()=>d.value.reduce((tt,k)=>(tt.push(...k.viewDays),tt),[])),N=B(()=>{const tt=[];return(s.attributes||[]).forEach((k,et)=>{!k||!k.dates||tt.push(new TC({...k,order:k.order||0},m.value,y.value))}),D.value&&tt.push(D.value),tt}),rt=B(()=>Br(N.value)),ot=B(()=>{const tt=new n9;return N.value.forEach(k=>{k.ranges.forEach(et=>{tt.render(k,et,Rt.value)})}),tt}),gt=B(()=>Rt.value.reduce((tt,k)=>(tt[k.dayIndex]={day:k,cells:[]},tt[k.dayIndex].cells.push(...ot.value.getCells(k)),tt),{})),Nt=(tt,k)=>{const et=s.showWeeknumbers||s.showIsoWeeknumbers;return et==null?"":Tq(et)?et?"left":"":et.startsWith("right")?k>1?"right":et:tt>1?"left":et},V=()=>{var tt,k;if(!rt.value)return null;const et=N.value.find(Te=>Te.pinPage)||N.value[0];if(!et||!et.hasRanges)return null;const[mt]=et.ranges,Ut=((tt=mt.start)==null?void 0:tt.date)||((k=mt.end)==null?void 0:k.date);return Ut?ct(Ut):null},_=()=>{if(zi(F.value))return F.value;const tt=V();return zi(tt)?tt:ct(new Date)},T=(tt,k={})=>{const{view:et=c.value,position:mt=1,force:Ut}=k,Te=mt>0?1-mt:-(P.value+mt);let Ms=At(tt,Te,et),rn=At(Ms,P.value-1,et);return Ut||(Ib(Ms,Y.value)?Ms=Y.value:Qp(rn,L.value)&&(Ms=At(L.value,1-P.value)),rn=At(Ms,P.value-1)),{fromPage:Ms,toPage:rn}},$=(tt,k,et="")=>{if(et==="none"||et==="fade")return et;if((tt==null?void 0:tt.view)!==(k==null?void 0:k.view))return"fade";const mt=Qp(k,tt),Ut=Ib(k,tt);return!mt&&!Ut?"fade":et==="slide-v"?Ut?"slide-down":"slide-up":Ut?"slide-right":"slide-left"},q=(tt={})=>new Promise((k,et)=>{const{position:mt=1,force:Ut=!1,transition:Te}=tt,Ms=zi(tt.page)?tt.page:_(),{fromPage:rn}=T(Ms,{position:mt,force:Ut}),Ol=[];for(let Il=0;Il<P.value;Il++){const ig=At(rn,Il),zs=Il+1,rg=Math.ceil(zs/s.columns),_f=s.rows-rg+1,Ru=zs%s.columns||s.columns,Ou=s.columns-Ru+1,GC=Nt(Ru,Ou);Ol.push(y.value.getPage({...ig,view:c.value,titlePosition:s.titlePosition,trimWeeks:s.trimWeeks,position:zs,row:rg,rowFromEnd:_f,column:Ru,columnFromEnd:Ou,showWeeknumbers:lt.value,showIsoWeeknumbers:dt.value,weeknumberPosition:GC}))}h.value=$(d.value[0],Ol[0],Te),d.value=Ol,h.value&&h.value!=="none"?f={resolve:k,reject:et}:k(!0)}),I=tt=>{const k=F.value??ct(new Date);return At(k,tt)},z=(tt,k={})=>{const et=zi(tt)?tt:ct(tt);return Object.assign(k,T(et,{...k,force:!0})),t9(k.fromPage,k.toPage,c.value,y.value).map(Ut=>Q7(Ut,Y.value,L.value)).some(Ut=>Ut)},J=(tt,k={})=>z(I(tt),k),it=B(()=>J(-H.value)),at=B(()=>J(H.value)),st=async(tt,k={})=>!k.force&&!z(tt,k)?!1:(k.fromPage&&!Z7(k.fromPage,F.value)&&(Hd({id:o.value,hideDelay:0}),k.view&&(lK("view",10),c.value=k.view),await q({...k,page:k.fromPage,position:1,force:!0}),e("did-move",d.value)),!0),_t=(tt,k={})=>st(I(tt),k),ht=()=>_t(-H.value),wt=()=>_t(H.value),Tt=tt=>{const k=ut.value?".in-month":"",et=`.id-${y.value.getDayId(tt)}${k}`,mt=`${et}.vc-focusable, ${et} .vc-focusable`,Ut=n.value;if(Ut){const Te=Ut.querySelector(mt);if(Te)return Te.focus(),!0}return!1},Ht=async(tt,k={})=>Tt(tt)?!0:(await st(tt,k),Tt(tt)),Zt=(tt,k)=>{r.value=tt.day,e("dayclick",tt,k)},te=(tt,k)=>{e("daymouseenter",tt,k)},We=(tt,k)=>{e("daymouseleave",tt,k)},He=(tt,k)=>{r.value=tt.day,i.value=tt,tt.isFocused=!0,e("dayfocusin",tt,k)},vs=(tt,k)=>{i.value=null,tt.isFocused=!1,e("dayfocusout",tt,k)},Ze=(tt,k)=>{e("daykeydown",tt,k);const et=tt.noonDate;let mt=null;switch(k.key){case"ArrowLeft":{mt=Bs(et,-1);break}case"ArrowRight":{mt=Bs(et,1);break}case"ArrowUp":{mt=Bs(et,-7);break}case"ArrowDown":{mt=Bs(et,7);break}case"Home":{mt=Bs(et,-tt.weekdayPosition+1);break}case"End":{mt=Bs(et,tt.weekdayPositionFromEnd);break}case"PageUp":{k.altKey?mt=J_(et,-1):mt=Jp(et,-1);break}case"PageDown":{k.altKey?mt=J_(et,1):mt=Jp(et,1);break}}mt&&(k.preventDefault(),Ht(mt).catch())},sr=tt=>{const k=i.value;k!=null&&Ze(k,tt)},to=(tt,k)=>{e("weeknumberclick",tt,k)};q({page:s.initialPage,position:s.initialPagePosition}),ls(()=>{!s.disablePageSwipe&&n.value&&(p=oK(n.value,({toLeft:tt=!1,toRight:k=!1})=>{tt?wt():k&&ht()},Ya("touch")))}),Ka(()=>{d.value=[],p&&p()}),$e(()=>y.value,()=>{q()}),$e(()=>P.value,()=>q()),$e(()=>s.view,()=>c.value=s.view),$e(()=>c.value,()=>{cK("view",()=>{q()}),e("update:view",c.value)}),$e(()=>r.value,()=>{Qt(d.value,tt=>It(tt))}),gA(()=>{e("update:pages",d.value),Qt(d.value,tt=>{Mt(tt),It(tt)})});const ts={emit:e,containerRef:n,focusedDay:i,inTransition:a,navPopoverId:o,dayPopoverId:l,view:c,pages:d,transitionName:h,theme:m,color:v,displayMode:b,locale:y,masks:E,attributes:N,disabledAttribute:D,disabledDates:M,attributeContext:ot,days:Rt,dayCells:gt,count:P,step:H,firstPage:F,lastPage:Z,canMovePrev:it,canMoveNext:at,minPage:Y,maxPage:L,isMonthly:ut,isWeekly:X,isDaily:nt,navVisibility:K,showWeeknumbers:lt,showIsoWeeknumbers:dt,getDateAddress:ct,canMove:z,canMoveBy:J,move:st,moveBy:_t,movePrev:ht,moveNext:wt,onTransitionBeforeEnter:pt,onTransitionAfterEnter:W,tryFocusDate:Tt,focusDate:Ht,onKeydown:sr,onDayKeydown:Ze,onDayClick:Zt,onDayMouseenter:te,onDayMouseleave:We,onDayFocusin:He,onDayFocusout:vs,onWeeknumberClick:to};return Ki(FC,ts),ts}function Rl(){const s=gs(FC);if(s)return s;throw new Error("Calendar context missing. Please verify this component is nested within a valid context provider.")}const EK=Qe({inheritAttrs:!1,emits:["before-show","after-show","before-hide","after-hide"],props:{id:{type:[Number,String,Symbol],required:!0},showDelay:{type:Number,default:0},hideDelay:{type:Number,default:110},boundarySelector:{type:String}},setup(s,{emit:t}){let e;const n=vt();let i=null,r=null;const a=Je({isVisible:!1,target:null,data:null,transition:"slide-fade",placement:"bottom",direction:"",positionFixed:!1,modifiers:[],isInteractive:!0,visibility:"click",isHovered:!1,isFocused:!1,autoHide:!1,force:!1});function o(W){W&&(a.direction=W.split("-")[0])}function l({placement:W,options:At}){o(W||(At==null?void 0:At.placement))}const c=B(()=>({placement:a.placement,strategy:a.positionFixed?"fixed":"absolute",boundary:"",modifiers:[{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:l},...a.modifiers||[]],onFirstUpdate:l})),d=B(()=>{const W=a.direction==="left"||a.direction==="right";let At="";if(a.placement){const ct=a.placement.split("-");ct.length>1&&(At=ct[1])}return["start","top","left"].includes(At)?W?"top":"left":["end","bottom","right"].includes(At)?W?"bottom":"right":W?"middle":"center"});function h(){r&&(r.destroy(),r=null)}function f(){La(()=>{const W=zp(a.target);!W||!n.value||(r&&r.state.elements.reference!==W&&h(),r?r.update():r=gU(W,n.value,c.value))})}function p(W){Object.assign(a,lC(W,"force"))}function m(W,At){clearTimeout(e),W>0?e=setTimeout(At,W):At()}function v(W){return!W||!r?!1:zp(W)===r.state.elements.reference}async function b(W={}){a.force||(W.force&&(a.force=!0),m(W.showDelay??s.showDelay,()=>{a.isVisible&&(a.force=!1),p({...W,isVisible:!0}),f()}))}function y(W={}){r&&(W.target&&!v(W.target)||a.force||(W.force&&(a.force=!0),m(W.hideDelay??s.hideDelay,()=>{a.isVisible||(a.force=!1),a.isVisible=!1})))}function E(W={}){W.target!=null&&(a.isVisible&&v(W.target)?y(W):b(W))}function C(W){if(!r)return;const At=r.state.elements.reference;if(!n.value||!At)return;const ct=W.target;wp(n.value,ct)||wp(At,ct)||y({force:!0})}function x(W){(W.key==="Esc"||W.key==="Escape")&&y()}function D({detail:W}){!W.id||W.id!==s.id||b(W)}function M({detail:W}){!W.id||W.id!==s.id||y(W)}function P({detail:W}){!W.id||W.id!==s.id||E(W)}function H(){la(document,"keydown",x),la(document,"click",C),la(document,"show-popover",D),la(document,"hide-popover",M),la(document,"toggle-popover",P)}function F(){oa(document,"keydown",x),oa(document,"click",C),oa(document,"show-popover",D),oa(document,"hide-popover",M),oa(document,"toggle-popover",P)}function Z(W){t("before-show",W)}function Y(W){a.force=!1,t("after-show",W)}function L(W){t("before-hide",W)}function K(W){a.force=!1,h(),t("after-hide",W)}function lt(W){W.stopPropagation()}function dt(){a.isHovered=!0,a.isInteractive&&["hover","hover-focus"].includes(a.visibility)&&b()}function ut(){if(a.isHovered=!1,!r)return;const W=r.state.elements.reference;a.autoHide&&!a.isFocused&&(!W||W!==document.activeElement)&&["hover","hover-focus"].includes(a.visibility)&&y()}function X(){a.isFocused=!0,a.isInteractive&&["focus","hover-focus"].includes(a.visibility)&&b()}function nt(W){["focus","hover-focus"].includes(a.visibility)&&(!W.relatedTarget||!wp(n.value,W.relatedTarget))&&(a.isFocused=!1,!a.isHovered&&a.autoHide&&y())}function pt(){i!=null&&(i.disconnect(),i=null)}return $e(()=>n.value,W=>{pt(),W&&(i=new ResizeObserver(()=>{r&&r.update()}),i.observe(W))}),$e(()=>a.placement,o,{immediate:!0}),ls(()=>{H()}),Ka(()=>{h(),pt(),F()}),{...$T(a),popoverRef:n,alignment:d,hide:y,setupPopper:f,beforeEnter:Z,afterEnter:Y,beforeLeave:L,afterLeave:K,onClick:lt,onMouseOver:dt,onMouseLeave:ut,onFocusIn:X,onFocusOut:nt}}}),Za=(s,t)=>{const e=s.__vccOpts||s;for(const[n,i]of t)e[n]=i;return e};function xK(s,t,e,n,i,r){return R(),O("div",{class:Ft(["vc-popover-content-wrapper",{"is-interactive":s.isInteractive}]),ref:"popoverRef",onClick:t[0]||(t[0]=(...a)=>s.onClick&&s.onClick(...a)),onMouseover:t[1]||(t[1]=(...a)=>s.onMouseOver&&s.onMouseOver(...a)),onMouseleave:t[2]||(t[2]=(...a)=>s.onMouseLeave&&s.onMouseLeave(...a)),onFocusin:t[3]||(t[3]=(...a)=>s.onFocusIn&&s.onFocusIn(...a)),onFocusout:t[4]||(t[4]=(...a)=>s.onFocusOut&&s.onFocusOut(...a))},[G(CA,{name:`vc-${s.transition}`,appear:"",onBeforeEnter:s.beforeEnter,onAfterEnter:s.afterEnter,onBeforeLeave:s.beforeLeave,onAfterLeave:s.afterLeave},{default:ie(()=>[s.isVisible?(R(),O("div",Xa({key:0,tabindex:"-1",class:`vc-popover-content direction-${s.direction}`},s.$attrs),[cf(s.$slots,"default",{direction:s.direction,alignment:s.alignment,data:s.data,hide:s.hide},()=>[Jt(U(s.data),1)]),g("span",{class:Ft(["vc-popover-caret",`direction-${s.direction}`,`align-${s.alignment}`])},null,2)],16)):Ot("",!0)]),_:3},8,["name","onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],34)}const ng=Za(EK,[["render",xK]]),CK={class:"vc-day-popover-row"},TK={key:0,class:"vc-day-popover-row-indicator"},DK={class:"vc-day-popover-row-label"},BC=Qe({__name:"PopoverRow",props:{attribute:null},setup(s){const t=s,e=B(()=>{const{content:n,highlight:i,dot:r,bar:a,popover:o}=t.attribute;return o&&o.hideIndicator?null:n?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${n.base.color}`}:i?{class:`vc-highlight-bg-solid vc-day-popover-row-highlight vc-attr vc-${i.base.color}`}:r?{class:`vc-dot vc-attr vc-${r.base.color}`}:a?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${a.base.color}`}:null});return(n,i)=>(R(),O("div",CK,[Q(e)?(R(),O("div",TK,[g("span",{class:Ft(Q(e).class)},null,2)])):Ot("",!0),g("div",DK,[cf(n.$slots,"default",{},()=>[Jt(U(s.attribute.popover?s.attribute.popover.label:"No content provided"),1)])])]))}}),kK={inheritAttrs:!1},Fn=Qe({...kK,__name:"CalendarSlot",props:{name:null},setup(s){const e=NC(s.name);return(n,i)=>Q(e)?(R(),Fe(tA(Q(e)),fd(Xa({key:0},n.$attrs)),null,16)):cf(n.$slots,"default",{key:1})}}),PK={class:"vc-day-popover-container"},MK={key:0,class:"vc-day-popover-header"},RK=Qe({__name:"CalendarDayPopover",setup(s){const{dayPopoverId:t,displayMode:e,color:n,masks:i,locale:r}=Rl();function a(l,c){return r.value.formatDate(l,c)}function o(l){return r.value.formatDate(l.date,i.value.dayPopover)}return(l,c)=>(R(),Fe(ng,{id:Q(t),class:Ft([`vc-${Q(n)}`,`vc-${Q(e)}`])},{default:ie(({data:{day:d,attributes:h},hide:f})=>[G(Fn,{name:"day-popover",day:d,"day-title":o(d),attributes:h,format:a,masks:Q(i),hide:f},{default:ie(()=>[g("div",PK,[Q(i).dayPopover?(R(),O("div",MK,U(o(d)),1)):Ot("",!0),(R(!0),O(Et,null,Wt(h,p=>(R(),Fe(BC,{key:p.key,attribute:p},null,8,["attribute"]))),128))])]),_:2},1032,["day","day-title","attributes","masks","hide"])]),_:1},8,["id","class"]))}}),OK={},IK={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},$K=g("polyline",{points:"9 18 15 12 9 6"},null,-1),LK=[$K];function NK(s,t){return R(),O("svg",IK,LK)}const FK=Za(OK,[["render",NK]]),BK={},HK={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},UK=g("polyline",{points:"15 18 9 12 15 6"},null,-1),jK=[UK];function YK(s,t){return R(),O("svg",HK,jK)}const VK=Za(BK,[["render",YK]]),WK={},qK={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},zK=g("polyline",{points:"6 9 12 15 18 9"},null,-1),GK=[zK];function KK(s,t){return R(),O("svg",qK,GK)}const XK=Za(WK,[["render",KK]]),JK={},QK={fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},ZK=g("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),tX=[ZK];function eX(s,t){return R(),O("svg",QK,tX)}const sX=Za(JK,[["render",eX]]),nX=Object.freeze(Object.defineProperty({__proto__:null,IconChevronDown:XK,IconChevronLeft:VK,IconChevronRight:FK,IconClock:sX},Symbol.toStringTag,{value:"Module"})),wu=Qe({__name:"BaseIcon",props:{name:{type:String,required:!0},width:{type:String},height:{type:String},size:{type:String,default:"26"},viewBox:{type:String}},setup(s){const t=s,e=B(()=>t.width||t.size),n=B(()=>t.height||t.size),i=B(()=>nX[`Icon${t.name}`]);return(r,a)=>(R(),Fe(tA(Q(i)),{width:Q(e),height:Q(n),class:"vc-base-icon"},null,8,["width","height"]))}}),iX=["disabled"],rX={key:1,class:"vc-title-wrapper"},aX={type:"button",class:"vc-title"},oX=["disabled"],HC=Qe({__name:"CalendarHeader",props:{page:null,layout:null,isLg:{type:Boolean},isXl:{type:Boolean},is2xl:{type:Boolean},hideTitle:{type:Boolean},hideArrows:{type:Boolean}},setup(s){const t=s,{navPopoverId:e,navVisibility:n,canMovePrev:i,movePrev:r,canMoveNext:a,moveNext:o}=Rl(),l=B(()=>{switch(t.page.titlePosition){case"left":return"bottom-start";case"right":return"bottom-end";default:return"bottom"}}),c=B(()=>{const{page:v}=t;return{id:e.value,visibility:n.value,placement:l.value,modifiers:[{name:"flip",options:{fallbackPlacements:["bottom"]}}],data:{page:v},isInteractive:!0}}),d=B(()=>t.page.titlePosition.includes("left")),h=B(()=>t.page.titlePosition.includes("right")),f=B(()=>t.layout?t.layout:d.value?"tu-pn":h.value?"pn-tu":"p-tu-n;"),p=B(()=>({prev:f.value.includes("p")&&!t.hideArrows,title:f.value.includes("t")&&!t.hideTitle,next:f.value.includes("n")&&!t.hideArrows})),m=B(()=>({gridTemplateColumns:f.value.split("").map(b=>{switch(b){case"p":return"[prev] auto";case"n":return"[next] auto";case"t":return"[title] auto";case"-":return"1fr";default:return""}}).join(" ")}));return(v,b)=>(R(),O("div",{class:Ft(["vc-header",{"is-lg":s.isLg,"is-xl":s.isXl,"is-2xl":s.is2xl}]),style:ui(Q(m))},[Q(p).prev?(R(),O("button",{key:0,type:"button",class:"vc-arrow vc-prev vc-focus",disabled:!Q(i),onClick:b[0]||(b[0]=(...y)=>Q(r)&&Q(r)(...y)),onKeydown:b[1]||(b[1]=Uw((...y)=>Q(r)&&Q(r)(...y),["space","enter"]))},[G(Fn,{name:"header-prev-button",disabled:!Q(i)},{default:ie(()=>[G(wu,{name:"ChevronLeft",size:"24"})]),_:1},8,["disabled"])],40,iX)):Ot("",!0),Q(p).title?(R(),O("div",rX,[G(Fn,{name:"header-title-wrapper"},{default:ie(()=>[ee((R(),O("button",aX,[G(Fn,{name:"header-title",title:s.page.title},{default:ie(()=>[g("span",null,U(s.page.title),1)]),_:1},8,["title"])])),[[Q(PC),Q(c)]])]),_:1})])):Ot("",!0),Q(p).next?(R(),O("button",{key:2,type:"button",class:"vc-arrow vc-next vc-focus",disabled:!Q(a),onClick:b[2]||(b[2]=(...y)=>Q(o)&&Q(o)(...y)),onKeydown:b[3]||(b[3]=Uw((...y)=>Q(o)&&Q(o)(...y),["space","enter"]))},[G(Fn,{name:"header-next-button",disabled:!Q(a)},{default:ie(()=>[G(wu,{name:"ChevronRight",size:"24"})]),_:1},8,["disabled"])],40,oX)):Ot("",!0)],6))}}),UC=Symbol("__vc_page_context__");function lX(s){const{locale:t,getDateAddress:e,canMove:n}=Rl();function i(o,l){const{month:c,year:d}=e(new Date);return CC().map((h,f)=>{const p=f+1;return{month:p,year:o,id:J7(p,o),label:t.value.formatDate(h,l),ariaLabel:t.value.formatDate(h,"MMMM"),isActive:p===s.value.month&&o===s.value.year,isCurrent:p===c&&o===d,isDisabled:!n({month:p,year:o},{position:s.value.position})}})}function r(o,l){const{year:c}=e(new Date),{position:d}=s.value,h=[];for(let f=o;f<=l;f+=1){const p=[...Array(12).keys()].some(m=>n({month:m+1,year:f},{position:d}));h.push({year:f,id:f.toString(),label:f.toString(),ariaLabel:f.toString(),isActive:f===s.value.year,isCurrent:f===c,isDisabled:!p})}return h}const a={page:s,getMonthItems:i,getYearItems:r};return Ki(UC,a),a}function jC(){const s=gs(UC);if(s)return s;throw new Error("Page context missing. Please verify this component is nested within a valid context provider.")}const cX={class:"vc-nav-header"},uX=["disabled"],dX=["disabled"],hX={class:"vc-nav-items"},fX=["data-id","aria-label","disabled","onClick","onKeydown"],pX=Qe({__name:"CalendarNav",setup(s){const{masks:t,move:e}=Rl(),{page:n,getMonthItems:i,getYearItems:r}=jC(),a=vt(!0),o=12,l=vt(n.value.year),c=vt(f(n.value.year)),d=vt(null);function h(){setTimeout(()=>{if(d.value==null)return;const ct=d.value.querySelector(".vc-nav-item:not(:disabled)");ct&&ct.focus()},10)}function f(ct){return Math.floor(ct/o)}function p(){a.value=!a.value}function m(ct){return ct*o}function v(ct){return o*(ct+1)-1}function b(){X.value&&(a.value&&E(),x())}function y(){nt.value&&(a.value&&C(),D())}function E(){l.value--}function C(){l.value++}function x(){c.value--}function D(){c.value++}const M=B(()=>i(l.value,t.value.navMonths).map(ct=>({...ct,click:()=>e({month:ct.month,year:ct.year},{position:n.value.position})}))),P=B(()=>i(l.value-1,t.value.navMonths)),H=B(()=>P.value.some(ct=>!ct.isDisabled)),F=B(()=>i(l.value+1,t.value.navMonths)),Z=B(()=>F.value.some(ct=>!ct.isDisabled)),Y=B(()=>r(m(c.value),v(c.value)).map(ct=>({...ct,click:()=>{l.value=ct.year,a.value=!0,h()}}))),L=B(()=>r(m(c.value-1),v(c.value-1))),K=B(()=>L.value.some(ct=>!ct.isDisabled)),lt=B(()=>r(m(c.value+1),v(c.value+1))),dt=B(()=>lt.value.some(ct=>!ct.isDisabled)),ut=B(()=>a.value?M.value:Y.value),X=B(()=>a.value?H.value:K.value),nt=B(()=>a.value?Z.value:dt.value),pt=B(()=>aC(Y.value.map(ct=>ct.year))),W=B(()=>zl(Y.value.map(ct=>ct.year))),At=B(()=>a.value?l.value:`${pt.value} - ${W.value}`);return gA(()=>{l.value=n.value.year,h()}),$e(()=>l.value,ct=>c.value=f(ct)),ls(()=>h()),(ct,Mt)=>(R(),O("div",{class:"vc-nav-container",ref_key:"navContainer",ref:d},[g("div",cX,[g("button",{type:"button",class:"vc-nav-arrow is-left vc-focus",disabled:!Q(X),onClick:b,onKeydown:Mt[0]||(Mt[0]=It=>Q($f)(It,b))},[G(Fn,{name:"nav-prev-button",move:b,disabled:!Q(X)},{default:ie(()=>[G(wu,{name:"ChevronLeft",width:"22px",height:"24px"})]),_:1},8,["disabled"])],40,uX),g("button",{type:"button",class:"vc-nav-title vc-focus",onClick:p,onKeydown:Mt[1]||(Mt[1]=It=>Q($f)(It,p))},U(Q(At)),33),g("button",{type:"button",class:"vc-nav-arrow is-right vc-focus",disabled:!Q(nt),onClick:y,onKeydown:Mt[2]||(Mt[2]=It=>Q($f)(It,y))},[G(Fn,{name:"nav-next-button",move:y,disabled:!Q(nt)},{default:ie(()=>[G(wu,{name:"ChevronRight",width:"22px",height:"24px"})]),_:1},8,["disabled"])],40,dX)]),g("div",hX,[(R(!0),O(Et,null,Wt(Q(ut),It=>(R(),O("button",{key:It.label,type:"button","data-id":It.id,"aria-label":It.ariaLabel,class:Ft(["vc-nav-item vc-focus",[It.isActive?"is-active":It.isCurrent?"is-current":""]]),disabled:It.isDisabled,onClick:It.click,onKeydown:Qt=>Q($f)(Qt,It.click)},U(It.label),43,fX))),128))])],512))}}),YC=Qe({__name:"CalendarPageProvider",props:{page:null},setup(s){return lX(Ff(s,"page")),(e,n)=>cf(e.$slots,"default")}}),mX=Qe({__name:"CalendarNavPopover",setup(s){const{navPopoverId:t,color:e,displayMode:n}=Rl();return(i,r)=>(R(),Fe(ng,{id:Q(t),class:Ft(["vc-nav-popover-container",`vc-${Q(e)}`,`vc-${Q(n)}`])},{default:ie(({data:a})=>[G(YC,{page:a.page},{default:ie(()=>[G(Fn,{name:"nav"},{default:ie(()=>[G(pX)]),_:1})]),_:2},1032,["page"])]),_:1},8,["id","class"]))}}),gX=Qe({directives:{popover:PC},components:{CalendarSlot:Fn},props:{day:{type:Object,required:!0}},setup(s){const{locale:t,theme:e,attributeContext:n,dayPopoverId:i,onDayClick:r,onDayMouseenter:a,onDayMouseleave:o,onDayFocusin:l,onDayFocusout:c,onDayKeydown:d}=Rl(),h=B(()=>s.day),f=B(()=>n.value.getCells(h.value)),p=B(()=>f.value.map(dt=>dt.data)),m=B(()=>({...h.value,attributes:p.value,attributeCells:f.value}));function v({data:dt},{popovers:ut}){const{key:X,customData:nt,popover:pt}=dt;if(!pt)return;const W=O_({key:X,customData:nt,attribute:dt},{...pt},{visibility:pt.label?"hover":"click",placement:"bottom",isInteractive:!pt.label});ut.splice(0,0,W)}const b=B(()=>{const dt={...e.value.prepareRender({}),popovers:[]};return f.value.forEach(ut=>{e.value.render(ut,dt),v(ut,dt)}),dt}),y=B(()=>b.value.highlights),E=B(()=>!!Br(y.value)),C=B(()=>b.value.content),x=B(()=>b.value.dots),D=B(()=>!!Br(x.value)),M=B(()=>b.value.bars),P=B(()=>!!Br(M.value)),H=B(()=>b.value.popovers),F=B(()=>H.value.map(dt=>dt.attribute)),Z=NC("day-content"),Y=B(()=>["vc-day",...h.value.classes,{"vc-day-box-center-center":!Z},{"is-not-in-month":!s.day.inMonth}]),L=B(()=>{let dt;h.value.isFocusable?dt="0":dt="-1";const ut=["vc-day-content vc-focusable vc-focus vc-attr",{"vc-disabled":h.value.isDisabled},go(zl(y.value),"contentClass"),go(zl(C.value),"class")||""],X={...go(zl(y.value),"contentStyle"),...go(zl(C.value),"style")};return{class:ut,style:X,tabindex:dt,"aria-label":h.value.ariaLabel,"aria-disabled":!!h.value.isDisabled,role:"button"}}),K=B(()=>({click(dt){r(m.value,dt)},mouseenter(dt){a(m.value,dt)},mouseleave(dt){o(m.value,dt)},focusin(dt){l(m.value,dt)},focusout(dt){c(m.value,dt)},keydown(dt){d(m.value,dt)}})),lt=B(()=>Br(H.value)?O_({id:i.value,data:{day:h,attributes:F.value}},...H.value):null);return{attributes:p,attributeCells:f,bars:M,dayClasses:Y,dayContentProps:L,dayContentEvents:K,dayPopover:lt,glyphs:b,dots:x,hasDots:D,hasBars:P,highlights:y,hasHighlights:E,locale:t,popovers:H}}}),vX={key:0,class:"vc-highlights vc-day-layer"},bX={key:1,class:"vc-day-layer vc-day-box-center-bottom"},yX={class:"vc-dots"},wX={key:2,class:"vc-day-layer vc-day-box-center-bottom"},_X={class:"vc-bars"};function AX(s,t,e,n,i,r){const a=as("CalendarSlot"),o=iD("popover");return R(),O("div",{class:Ft(s.dayClasses)},[s.hasHighlights?(R(),O("div",vX,[(R(!0),O(Et,null,Wt(s.highlights,({key:l,wrapperClass:c,class:d,style:h})=>(R(),O("div",{key:l,class:Ft(c)},[g("div",{class:Ft(d),style:ui(h)},null,6)],2))),128))])):Ot("",!0),G(a,{name:"day-content",day:s.day,attributes:s.attributes,"attribute-cells":s.attributeCells,dayProps:s.dayContentProps,dayEvents:s.dayContentEvents,locale:s.locale},{default:ie(()=>[ee((R(),O("div",Xa(s.dayContentProps,sA(s.dayContentEvents,!0)),[Jt(U(s.day.label),1)],16)),[[o,s.dayPopover]])]),_:1},8,["day","attributes","attribute-cells","dayProps","dayEvents","locale"]),s.hasDots?(R(),O("div",bX,[g("div",yX,[(R(!0),O(Et,null,Wt(s.dots,({key:l,class:c,style:d})=>(R(),O("span",{key:l,class:Ft(c),style:ui(d)},null,6))),128))])])):Ot("",!0),s.hasBars?(R(),O("div",wX,[g("div",_X,[(R(!0),O(Et,null,Wt(s.bars,({key:l,class:c,style:d})=>(R(),O("span",{key:l,class:Ft(c),style:ui(d)},null,6))),128))])])):Ot("",!0)],2)}const SX=Za(gX,[["render",AX]]),EX={class:"vc-weekdays"},xX=["onClick"],CX={inheritAttrs:!1},TX=Qe({...CX,__name:"CalendarPage",setup(s){const{page:t}=jC(),{onWeeknumberClick:e}=Rl();return(n,i)=>(R(),O("div",{class:Ft(["vc-pane",`row-${Q(t).row}`,`row-from-end-${Q(t).rowFromEnd}`,`column-${Q(t).column}`,`column-from-end-${Q(t).columnFromEnd}`]),ref:"pane"},[G(HC,{page:Q(t),"is-lg":"","hide-arrows":""},null,8,["page"]),g("div",{class:Ft(["vc-weeks",{[`vc-show-weeknumbers-${Q(t).weeknumberPosition}`]:Q(t).weeknumberPosition}])},[g("div",EX,[(R(!0),O(Et,null,Wt(Q(t).weekdays,({weekday:r,label:a},o)=>(R(),O("div",{key:o,class:Ft(`vc-weekday vc-weekday-${r}`)},U(a),3))),128))]),(R(!0),O(Et,null,Wt(Q(t).viewWeeks,r=>(R(),O("div",{key:`weeknumber-${r.weeknumber}`,class:"vc-week"},[Q(t).weeknumberPosition?(R(),O("div",{key:0,class:Ft(["vc-weeknumber",`is-${Q(t).weeknumberPosition}`])},[g("span",{class:Ft(["vc-weeknumber-content"]),onClick:a=>Q(e)(r,a)},U(r.weeknumberDisplay),9,xX)],2)):Ot("",!0),(R(!0),O(Et,null,Wt(r.days,a=>(R(),Fe(SX,{key:a.id,day:a},null,8,["day"]))),128))]))),128))],2)],2))}}),DX=Qe({components:{CalendarHeader:HC,CalendarPage:TX,CalendarNavPopover:mX,CalendarDayPopover:RK,CalendarPageProvider:YC,CalendarSlot:Fn},props:_K,emit:AK,setup(s,{emit:t,slots:e}){return SK(s,{emit:t,slots:e})}}),kX={class:"vc-pane-header-wrapper"};function PX(s,t,e,n,i,r){const a=as("CalendarHeader"),o=as("CalendarPage"),l=as("CalendarSlot"),c=as("CalendarPageProvider"),d=as("CalendarDayPopover"),h=as("CalendarNavPopover");return R(),O(Et,null,[g("div",Xa({"data-helptext":"Press the arrow keys to navigate by day, Home and End to navigate to week ends, PageUp and PageDown to navigate by month, Alt+PageUp and Alt+PageDown to navigate by year"},s.$attrs,{class:["vc-container",`vc-${s.view}`,`vc-${s.color}`,`vc-${s.displayMode}`,{"vc-expanded":s.expanded,"vc-bordered":!s.borderless,"vc-transparent":s.transparent}],onMouseup:t[0]||(t[0]=hi(()=>{},["prevent"])),ref:"containerRef"}),[g("div",{class:Ft(["vc-pane-container",{"in-transition":s.inTransition}])},[g("div",kX,[s.firstPage?(R(),Fe(a,{key:0,page:s.firstPage,"is-lg":"","hide-title":""},null,8,["page"])):Ot("",!0)]),G(CA,{name:`vc-${s.transitionName}`,onBeforeEnter:s.onTransitionBeforeEnter,onAfterEnter:s.onTransitionAfterEnter},{default:ie(()=>[(R(),O("div",{key:s.pages[0].id,class:"vc-pane-layout",style:ui({gridTemplateColumns:`repeat(${s.columns}, 1fr)`})},[(R(!0),O(Et,null,Wt(s.pages,f=>(R(),Fe(c,{key:f.id,page:f},{default:ie(()=>[G(l,{name:"page",page:f},{default:ie(()=>[G(o)]),_:2},1032,["page"])]),_:2},1032,["page"]))),128))],4))]),_:1},8,["name","onBeforeEnter","onAfterEnter"]),G(l,{name:"footer"})],2)],16),G(d),G(h)],64)}const VC=Za(DX,[["render",PX]]),WC=Symbol("__vc_date_picker_context__"),MX={...OC,mode:{type:String,default:"date"},modelValue:{type:[Number,String,Date,Object]},modelModifiers:{type:Object,default:()=>({})},rules:[String,Object],is24hr:Boolean,hideTimeHeader:Boolean,timeAccuracy:{type:Number,default:2},isRequired:Boolean,isRange:Boolean,updateOnInput:{type:Boolean,default:()=>Ya("datePicker.updateOnInput")},inputDebounce:{type:Number,default:()=>Ya("datePicker.inputDebounce")},popover:{type:[Boolean,Object],default:!0},dragAttribute:Object,selectAttribute:Object,attributes:[Object,Array]},RX=["update:modelValue","drag","dayclick","daykeydown","popover-will-show","popover-did-show","popover-will-hide","popover-did-hide"];function OX(s,{emit:t,slots:e}){LC(e,{footer:"dp-footer"});const n=IC(s),{locale:i,masks:r,disabledAttribute:a}=n,o=vt(!1),l=vt(Symbol()),c=vt(null),d=vt(null),h=vt(["",""]),f=vt(null),p=vt(null);let m,v,b=!0;const y=B(()=>s.isRange||s.modelModifiers.range===!0),E=B(()=>y.value&&c.value!=null?c.value.start:null),C=B(()=>y.value&&c.value!=null?c.value.end:null),x=B(()=>s.mode.toLowerCase()==="date"),D=B(()=>s.mode.toLowerCase()==="datetime"),M=B(()=>s.mode.toLowerCase()==="time"),P=B(()=>!!d.value),H=B(()=>{let k="date";s.modelModifiers.number&&(k="number"),s.modelModifiers.string&&(k="string");const et=r.value.modelValue||"iso";return Mt({type:k,mask:et})}),F=B(()=>J(d.value??c.value)),Z=B(()=>M.value?s.is24hr?r.value.inputTime24hr:r.value.inputTime:D.value?s.is24hr?r.value.inputDateTime24hr:r.value.inputDateTime:r.value.input),Y=B(()=>/[Hh]/g.test(Z.value)),L=B(()=>/[dD]{1,2}|Do|W{1,4}|M{1,4}|YY(?:YY)?/g.test(Z.value)),K=B(()=>{if(Y.value&&L.value)return"dateTime";if(L.value)return"date";if(Y.value)return"time"}),lt=B(()=>{var k;const et=((k=f.value)==null?void 0:k.$el.previousElementSibling)??void 0;return yu({},s.popover,Ya("datePicker.popover"),{target:et})}),dt=B(()=>kC({...lt.value,id:l.value})),ut=B(()=>y.value?{start:h.value[0],end:h.value[1]}:h.value[0]),X=B(()=>{const k=["start","end"].map(et=>({input:q(et),change:I(et),keyup:z,...s.popover&&dt.value}));return y.value?{start:k[0],end:k[1]}:k[0]}),nt=B(()=>{if(!N(c.value))return null;const k={key:"select-drag",...s.selectAttribute,dates:c.value,pinPage:!0},{dot:et,bar:mt,highlight:Ut,content:Te}=k;return!et&&!mt&&!Ut&&!Te&&(k.highlight=!0),k}),pt=B(()=>{if(!y.value||!N(d.value))return null;const k={key:"select-drag",...s.dragAttribute,dates:d.value},{dot:et,bar:mt,highlight:Ut,content:Te}=k;return!et&&!mt&&!Ut&&!Te&&(k.highlight={startEnd:{fillMode:"outline"}}),k}),W=B(()=>{const k=jn(s.attributes)?[...s.attributes]:[];return pt.value?k.unshift(pt.value):nt.value&&k.unshift(nt.value),k}),At=B(()=>Mt(s.rules==="auto"?ct():s.rules??{}));function ct(){const k={ms:[0,999],sec:[0,59],min:[0,59],hr:[0,23]},et=x.value?0:s.timeAccuracy;return[0,1].map(mt=>{switch(et){case 0:return{hours:k.hr[mt],minutes:k.min[mt],seconds:k.sec[mt],milliseconds:k.ms[mt]};case 1:return{minutes:k.min[mt],seconds:k.sec[mt],milliseconds:k.ms[mt]};case 3:return{milliseconds:k.ms[mt]};case 4:return{};default:return{seconds:k.sec[mt],milliseconds:k.ms[mt]}}})}function Mt(k){return jn(k)?k.length===1?[k[0],k[0]]:k:[k,k]}function It(k){return Mt(k).map((et,mt)=>({...et,rules:At.value[mt]}))}function Qt(k){return k==null?!1:vi(k)?!isNaN(k):ic(k)?!isNaN(k.getTime()):qi(k)?k!=="":qy(k)}function Rt(k){return Yr(k)&&"start"in k&&"end"in k&&Qt(k.start??null)&&Qt(k.end??null)}function N(k){return Rt(k)||Qt(k)}function rt(k,et){if(k==null&&et==null)return!0;if(k==null||et==null)return!1;const mt=ic(k),Ut=ic(et);return mt&&Ut?k.getTime()===et.getTime():mt||Ut?!1:rt(k.start,et.start)&&rt(k.end,et.end)}function ot(k){return!N(k)||!a.value?!1:a.value.intersectsRange(i.value.range(k))}function gt(k,et,mt,Ut){if(!N(k))return null;if(Rt(k)){const Te=i.value.toDate(k.start,{...et[0],fillDate:E.value??void 0,patch:mt}),Ms=i.value.toDate(k.end,{...et[1],fillDate:C.value??void 0,patch:mt});return vs({start:Te,end:Ms},Ut)}return i.value.toDateOrNull(k,{...et[0],fillDate:c.value,patch:mt})}function Nt(k,et){return Rt(k)?{start:i.value.fromDate(k.start,et[0]),end:i.value.fromDate(k.end,et[1])}:y.value?null:i.value.fromDate(k,et[0])}function V(k,et={}){return clearTimeout(m),new Promise(mt=>{const{debounce:Ut=0,...Te}=et;Ut>0?m=window.setTimeout(()=>{mt(_(k,Te))},Ut):mt(_(k,Te))})}function _(k,{config:et=H.value,patch:mt="dateTime",clearIfEqual:Ut=!1,formatInput:Te=!0,hidePopover:Ms=!1,dragging:rn=P.value,targetPriority:Ol,moveToValue:Il=!1}={}){const ig=It(et);let zs=gt(k,ig,mt,Ol);if(ot(zs)){if(rn)return null;zs=c.value,Ms=!1}else zs==null&&s.isRequired?zs=c.value:zs!=null&&rt(c.value,zs)&&Ut&&(zs=null);const _f=rn?d:c,Ru=!rt(_f.value,zs);_f.value=zs,rn||(d.value=null);const Ou=Nt(zs,H.value);return Ru&&(b=!1,t(rn?"drag":"update:modelValue",Ou),La(()=>b=!0)),Ms&&!rn&&We(),Te&&T(),Il&&La(()=>to(Ol??"start")),Ou}function T(){La(()=>{const k=It({type:"string",mask:Z.value}),et=Nt(d.value??c.value,k);y.value?h.value=[et&&et.start,et&&et.end]:h.value=[et,""]})}function $(k,et,mt){h.value.splice(et==="start"?0:1,1,k);const Ut=y.value?{start:h.value[0],end:h.value[1]||h.value[0]}:k,Te={type:"string",mask:Z.value};V(Ut,{...mt,config:Te,patch:K.value,targetPriority:et,moveToValue:!0})}function q(k){return et=>{s.updateOnInput&&$(et.currentTarget.value,k,{formatInput:!1,hidePopover:!1,debounce:s.inputDebounce})}}function I(k){return et=>{$(et.currentTarget.value,k,{formatInput:!0,hidePopover:!1})}}function z(k){k.key==="Escape"&&V(c.value,{formatInput:!0,hidePopover:!0})}function J(k){return y.value?[k&&k.start?i.value.getDateParts(k.start):null,k&&k.end?i.value.getDateParts(k.end):null]:[k?i.value.getDateParts(k):null]}function it(){d.value=null,T()}function at(k){t("popover-will-show",k)}function st(k){t("popover-did-show",k)}function _t(k){it(),t("popover-will-hide",k)}function ht(k){t("popover-did-hide",k)}function wt(k){const et={patch:"date",formatInput:!0,hidePopover:!0};if(y.value){const mt=!P.value;mt?v={start:k.startDate,end:k.endDate}:v!=null&&(v.end=k.date),V(v,{...et,dragging:mt})}else V(k.date,{...et,clearIfEqual:!s.isRequired})}function Tt(k,et){wt(k),t("dayclick",k,et)}function Ht(k,et){switch(et.key){case" ":case"Enter":{wt(k),et.preventDefault();break}case"Escape":We()}t("daykeydown",k,et)}function Zt(k,et){!P.value||v==null||(v.end=k.date,V(vs(v),{patch:"date",formatInput:!0}))}function te(k={}){Lb({...lt.value,...k,isInteractive:!0,id:l.value})}function We(k={}){Hd({hideDelay:10,force:!0,...lt.value,...k,id:l.value})}function He(k){DC({...lt.value,...k,isInteractive:!0,id:l.value})}function vs(k,et){const{start:mt,end:Ut}=k;if(mt>Ut)switch(et){case"start":return{start:mt,end:mt};case"end":return{start:Ut,end:Ut};default:return{start:Ut,end:mt}}return{start:mt,end:Ut}}async function Ze(k,et={}){return p.value==null?!1:p.value.move(k,et)}async function sr(k,et={}){return p.value==null?!1:p.value.moveBy(k,et)}async function to(k,et={}){const mt=c.value;if(p.value==null||!N(mt))return!1;const Ut=k!=="end",Te=Ut?1:-1,Ms=Rt(mt)?Ut?mt.start:mt.end:mt,rn=hC(Ms,"monthly",i.value);return p.value.move(rn,{position:Te,...et})}$e(()=>s.isRange,k=>{k&&console.warn("The `is-range` prop will be deprecated in future releases. Please use the `range` modifier.")},{immediate:!0}),$e(()=>y.value,()=>{_(null,{formatInput:!0})}),$e(()=>Z.value,()=>T()),$e(()=>s.modelValue,k=>{b&&_(k,{formatInput:!0,hidePopover:!1})}),$e(()=>At.value,()=>{Yr(s.rules)&&_(s.modelValue,{formatInput:!0,hidePopover:!1})}),$e(()=>s.timezone,()=>{_(c.value,{formatInput:!0})});const ts=Mt(H.value);c.value=gt(s.modelValue??null,ts,"dateTime"),ls(()=>{_(s.modelValue,{formatInput:!0,hidePopover:!1})}),La(()=>o.value=!0);const tt={...n,showCalendar:o,datePickerPopoverId:l,popoverRef:f,popoverEvents:dt,calendarRef:p,isRange:y,isTimeMode:M,isDateTimeMode:D,is24hr:Ff(s,"is24hr"),hideTimeHeader:Ff(s,"hideTimeHeader"),timeAccuracy:Ff(s,"timeAccuracy"),isDragging:P,inputValue:ut,inputEvents:X,dateParts:F,attributes:W,rules:At,move:Ze,moveBy:sr,moveToValue:to,updateValue:V,showPopover:te,hidePopover:We,togglePopover:He,onDayClick:Tt,onDayKeydown:Ht,onDayMouseEnter:Zt,onPopoverBeforeShow:at,onPopoverAfterShow:st,onPopoverBeforeHide:_t,onPopoverAfterHide:ht};return Ki(WC,tt),tt}function Xy(){const s=gs(WC);if(s)return s;throw new Error("DatePicker context missing. Please verify this component is nested within a valid context provider.")}const IX=[{value:0,label:"12"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10"},{value:11,label:"11"}],$X=[{value:12,label:"12"},{value:13,label:"1"},{value:14,label:"2"},{value:15,label:"3"},{value:16,label:"4"},{value:17,label:"5"},{value:18,label:"6"},{value:19,label:"7"},{value:20,label:"8"},{value:21,label:"9"},{value:22,label:"10"},{value:23,label:"11"}];function LX(s){const t=Xy(),{locale:e,isRange:n,isTimeMode:i,dateParts:r,rules:a,is24hr:o,hideTimeHeader:l,timeAccuracy:c,updateValue:d}=t;function h(L){L=Object.assign(p.value,L);let K=null;if(n.value){const lt=f.value?L:r.value[0],dt=f.value?r.value[1]:L;K={start:lt,end:dt}}else K=L;d(K,{patch:"time",targetPriority:f.value?"start":"end",moveToValue:!0})}const f=B(()=>s.position===0),p=B(()=>r.value[s.position]||{isValid:!1}),m=B(()=>qy(p.value)),v=B(()=>!!p.value.isValid),b=B(()=>!l.value&&v.value),y=B(()=>{if(!m.value)return null;let L=e.value.toDate(p.value);return p.value.hours===24&&(L=new Date(L.getTime()-1)),L}),E=B({get(){return p.value.hours},set(L){h({hours:L})}}),C=B({get(){return p.value.minutes},set(L){h({minutes:L})}}),x=B({get(){return p.value.seconds},set(L){h({seconds:L})}}),D=B({get(){return p.value.milliseconds},set(L){h({milliseconds:L})}}),M=B({get(){return p.value.hours<12},set(L){L=String(L).toLowerCase()=="true";let K=E.value;L&&K>=12?K-=12:!L&&K<12&&(K+=12),h({hours:K})}}),P=B(()=>sK(p.value,a.value[s.position])),H=B(()=>IX.filter(L=>P.value.hours.some(K=>K.value===L.value))),F=B(()=>$X.filter(L=>P.value.hours.some(K=>K.value===L.value))),Z=B(()=>o.value?P.value.hours:M.value?H.value:F.value),Y=B(()=>{const L=[];return Br(H.value)&&L.push({value:!0,label:"AM"}),Br(F.value)&&L.push({value:!1,label:"PM"}),L});return{...t,showHeader:b,timeAccuracy:c,parts:p,isValid:v,date:y,hours:E,minutes:C,seconds:x,milliseconds:D,options:P,hourOptions:Z,isAM:M,isAMOptions:Y,is24hr:o}}const NX=["value"],FX=["value","disabled"],BX={key:1,class:"vc-base-sizer","aria-hidden":"true"},HX={inheritAttrs:!1},qu=Qe({...HX,__name:"BaseSelect",props:{options:null,modelValue:null,alignRight:{type:Boolean},alignLeft:{type:Boolean},showIcon:{type:Boolean},fitContent:{type:Boolean}},emits:["update:modelValue"],setup(s){const t=s,e=B(()=>{const n=t.options.find(i=>i.value===t.modelValue);return n==null?void 0:n.label});return(n,i)=>(R(),O("div",{class:Ft(["vc-base-select",{"vc-fit-content":s.fitContent,"vc-has-icon":s.showIcon}])},[g("select",Xa(n.$attrs,{value:s.modelValue,class:["vc-focus",{"vc-align-right":s.alignRight,"vc-align-left":s.alignLeft}],onChange:i[0]||(i[0]=r=>n.$emit("update:modelValue",r.target.value))}),[(R(!0),O(Et,null,Wt(s.options,r=>(R(),O("option",{key:r.value,value:r.value,disabled:r.disabled},U(r.label),9,FX))),128))],16,NX),s.showIcon?(R(),Fe(wu,{key:0,name:"ChevronDown",size:"18"})):Ot("",!0),s.fitContent?(R(),O("div",BX,U(Q(e)),1)):Ot("",!0)],2))}}),UX={key:0,class:"vc-time-header"},jX={class:"vc-time-weekday"},YX={class:"vc-time-month"},VX={class:"vc-time-day"},WX={class:"vc-time-year"},qX={class:"vc-time-select-group"},zX=g("span",{class:"vc-time-colon"},":",-1),GX=g("span",{class:"vc-time-colon"},":",-1),KX=g("span",{class:"vc-time-decimal"},".",-1),l1=Qe({__name:"TimePicker",props:{position:null},setup(s,{expose:t}){const n=LX(s);t(n);const{locale:i,isValid:r,date:a,hours:o,minutes:l,seconds:c,milliseconds:d,options:h,hourOptions:f,isTimeMode:p,isAM:m,isAMOptions:v,is24hr:b,showHeader:y,timeAccuracy:E}=n;return(C,x)=>(R(),O("div",{class:Ft(["vc-time-picker",[{"vc-invalid":!Q(r),"vc-attached":!Q(p)}]])},[G(Fn,{name:"time-header"},{default:ie(()=>[Q(y)&&Q(a)?(R(),O("div",UX,[g("span",jX,U(Q(i).formatDate(Q(a),"WWW")),1),g("span",YX,U(Q(i).formatDate(Q(a),"MMM")),1),g("span",VX,U(Q(i).formatDate(Q(a),"D")),1),g("span",WX,U(Q(i).formatDate(Q(a),"YYYY")),1)])):Ot("",!0)]),_:1}),g("div",qX,[G(wu,{name:"Clock",size:"17"}),G(qu,{modelValue:Q(o),"onUpdate:modelValue":x[0]||(x[0]=D=>Me(o)?o.value=D:null),modelModifiers:{number:!0},options:Q(f),class:"vc-time-select-hours","align-right":""},null,8,["modelValue","options"]),Q(E)>1?(R(),O(Et,{key:0},[zX,G(qu,{modelValue:Q(l),"onUpdate:modelValue":x[1]||(x[1]=D=>Me(l)?l.value=D:null),modelModifiers:{number:!0},options:Q(h).minutes,class:"vc-time-select-minutes","align-left":Q(E)===2},null,8,["modelValue","options","align-left"])],64)):Ot("",!0),Q(E)>2?(R(),O(Et,{key:1},[GX,G(qu,{modelValue:Q(c),"onUpdate:modelValue":x[2]||(x[2]=D=>Me(c)?c.value=D:null),modelModifiers:{number:!0},options:Q(h).seconds,class:"vc-time-select-seconds","align-left":Q(E)===3},null,8,["modelValue","options","align-left"])],64)):Ot("",!0),Q(E)>3?(R(),O(Et,{key:2},[KX,G(qu,{modelValue:Q(d),"onUpdate:modelValue":x[3]||(x[3]=D=>Me(d)?d.value=D:null),modelModifiers:{number:!0},options:Q(h).milliseconds,class:"vc-time-select-milliseconds","align-left":""},null,8,["modelValue","options"])],64)):Ot("",!0),Q(b)?Ot("",!0):(R(),Fe(qu,{key:3,modelValue:Q(m),"onUpdate:modelValue":x[4]||(x[4]=D=>Me(m)?m.value=D:null),options:Q(v)},null,8,["modelValue","options"]))])],2))}}),qC=Qe({__name:"DatePickerBase",setup(s){const{attributes:t,calendarRef:e,color:n,displayMode:i,isDateTimeMode:r,isTimeMode:a,isRange:o,onDayClick:l,onDayMouseEnter:c,onDayKeydown:d}=Xy(),h=o.value?[0,1]:[0];return(f,p)=>Q(a)?(R(),O("div",{key:0,class:Ft(`vc-container vc-bordered vc-${Q(n)} vc-${Q(i)}`)},[(R(!0),O(Et,null,Wt(Q(h),m=>(R(),Fe(l1,{key:m,position:m},null,8,["position"]))),128))],2)):(R(),Fe(VC,{key:1,attributes:Q(t),ref_key:"calendarRef",ref:e,onDayclick:Q(l),onDaymouseenter:Q(c),onDaykeydown:Q(d)},{footer:ie(()=>[Q(r)?(R(!0),O(Et,{key:0},Wt(Q(h),m=>(R(),Fe(l1,{key:m,position:m},null,8,["position"]))),128)):Ot("",!0),G(Fn,{name:"dp-footer"})]),_:1},8,["attributes","onDayclick","onDaymouseenter","onDaykeydown"]))}}),XX={inheritAttrs:!1},JX=Qe({...XX,__name:"DatePickerPopover",setup(s){const{datePickerPopoverId:t,color:e,displayMode:n,popoverRef:i,onPopoverBeforeShow:r,onPopoverAfterShow:a,onPopoverBeforeHide:o,onPopoverAfterHide:l}=Xy();return(c,d)=>(R(),Fe(ng,{id:Q(t),placement:"bottom-start",class:Ft(`vc-date-picker-content vc-${Q(e)} vc-${Q(n)}`),ref_key:"popoverRef",ref:i,onBeforeShow:Q(r),onAfterShow:Q(a),onBeforeHide:Q(o),onAfterHide:Q(l)},{default:ie(()=>[G(qC,fd(Mp(c.$attrs)),null,16)]),_:1},8,["id","class","onBeforeShow","onAfterShow","onBeforeHide","onAfterHide"]))}}),QX=Qe({inheritAttrs:!1,emits:RX,props:MX,components:{DatePickerBase:qC,DatePickerPopover:JX},setup(s,t){const e=OX(s,t),n=Je(lC(e,"calendarRef","popoverRef"));return{...e,slotCtx:n}}});function ZX(s,t,e,n,i,r){const a=as("DatePickerPopover"),o=as("DatePickerBase");return s.$slots.default?(R(),O(Et,{key:0},[cf(s.$slots,"default",fd(Mp(s.slotCtx))),G(a,fd(Mp(s.$attrs)),null,16)],64)):(R(),Fe(o,fd(Xa({key:1},s.$attrs)),null,16))}const tJ=Za(QX,[["render",ZX]]),c1=Object.freeze(Object.defineProperty({__proto__:null,Calendar:VC,DatePicker:tJ,Popover:ng,PopoverRow:BC},Symbol.toStringTag,{value:"Module"})),eJ=(s,t={})=>{s.use(x9,t);const e=s.config.globalProperties.$VCalendar.componentPrefix;for(const n in c1){const i=c1[n];s.component(`${e}${n}`,i)}},sJ={install:eJ},zC=xk(Pk);zC.use(sJ);zC.use(uH).mount("#app");
